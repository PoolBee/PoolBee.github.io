
<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">


<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>

<meta name='viewport' content='width=device-width, initial-scale=1'>

<meta name='description' content="一、迁移至腾讯云 使用Linux，而CentOs7.6不支持Node.js18所以选择了Docker创建hugo。 Docker 为什么出现? 一款产品:开发&ndash;上线 两套环境！ 应用环境,应用配置，开发即运维。 环境配置十分麻烦的。 （集群Redis、ES、Hadoop&hellip;.），发布jar包或者war包，带上环境发布。 项目能不能带上环境安装打包？2、聊聊Docker为什么会出现_哔哩哔哩_bilibili 配置麻烦，不能够跨平台。 传统观念：开发jar，运维来做！ 现在：开发打包部署上线，一套流程做完。 Docker给以上问题，提出解决方案。 类比：Java-apk-发布应用商店-使用apk即可 java-jar-打包代环境 Docker思想——容器想象为集装箱——隔离机制。 Docker的历史 2010年-美国成立的公司dotCloud做一些pass的云计算服务！lxc有关的容器技术！ 他们将自己的技术（容器化技术）命名为Docker！但是没有引起行业注意！docCloud，就活不下去了。那么 就选择开源代码 2013年开源！Docker越来越多人发现了docker的优点！火了，Docker每个月都会更新一个版本！ 2014年4月9日，Docker1.0发布！ 为什么这么火！轻巧！ 容器技术出来之前，我们都是使用的虚拟机技术！19G 虚拟机：Vmware虚拟机多台一台电脑，但笨重！ VM：linux centos原生镜像（一个电脑！）\r而docker：隔离，镜像用最核心的环境4m+jdk+mysql 十分的小巧，运行镜像就好了！小巧！几个M几个kb 秒级启动！ 聊聊Docker Docker是基于Go语言开发的！开源项目！ 基于官方文档学习 Docker: Accelerated Container Application Development 容器化技术： 不是模拟一个完整的操作系统。 直接用在操作系统上，充分利用操作系统的资源。 不同： 传统虚拟机，虚拟一个硬件，运行一个完整的操作系统他，在系统上安装和运行软件。 容器内的引用hi直接运行在宿主机的上的，容器是没有自己的内容的，也没有虚拟硬件。 容器相互隔离，容器都有一个数以自己的文件系统，不糊影响。 更快速的交付和部署 传统：一堆帮助文档，安装程序 Docker：打包镜像发布测试，一键运行 更便捷的升级和扩缩容 使用了Docker之后，我们部署引用就和搭积木一样！ 项目打包为一个镜像，扩展——服务器A！服务器B！ 更简单的系统运维 容器化之后，我们开发，测试环境都是高度一致的。 更高效的计算资源利用 Docker是内核级别的虚拟化，可以在一个物理机上运行很多的容器实例！服务器的性能能被压榨到极致。 docker run了之后发生了什么？ Docker在本机上寻找镜像——判断本机是否有这个镜像——yes——使用运行这个镜像 ——no——Docker上取下载——DockerHub是否可以找到——yes——下载到这个镜像到本地 no——找不到返回错误 底层原理 Docker是怎么工作的？ Docker 是一个Client-Server结构的系统，Docker的守护进程运行在主机上，通过Socket客户端访问。 DockerServer接收到Docker-Client的指令，就会执行这个命令。 客户端命令-守护进程-产生Dokcer Docker为什么比虚拟机快？ 1.Docker有着比虚拟机更少的抽象层 虚拟机变为了容器，直接在Docker Engine上跑">



<title>Hugo主题-Docker学习-8月8日博客更新日志</title>


<link rel='canonical' href='http://localhost:1313/post/%E5%BB%BA%E7%AB%992024.08.08/'>


                                                          
<link rel="stylesheet" href="/scss/partials/navbar.scss">


<link rel="stylesheet" href="/scss/style.min.181973835010c8e02b5f9ae8cec748ae5985d79b2a50e665db98c46e31e96775.css"><meta property='og:title' content="Hugo主题-Docker学习-8月8日博客更新日志">
<meta property='og:description' content="一、迁移至腾讯云 使用Linux，而CentOs7.6不支持Node.js18所以选择了Docker创建hugo。 Docker 为什么出现? 一款产品:开发&ndash;上线 两套环境！ 应用环境,应用配置，开发即运维。 环境配置十分麻烦的。 （集群Redis、ES、Hadoop&hellip;.），发布jar包或者war包，带上环境发布。 项目能不能带上环境安装打包？2、聊聊Docker为什么会出现_哔哩哔哩_bilibili 配置麻烦，不能够跨平台。 传统观念：开发jar，运维来做！ 现在：开发打包部署上线，一套流程做完。 Docker给以上问题，提出解决方案。 类比：Java-apk-发布应用商店-使用apk即可 java-jar-打包代环境 Docker思想——容器想象为集装箱——隔离机制。 Docker的历史 2010年-美国成立的公司dotCloud做一些pass的云计算服务！lxc有关的容器技术！ 他们将自己的技术（容器化技术）命名为Docker！但是没有引起行业注意！docCloud，就活不下去了。那么 就选择开源代码 2013年开源！Docker越来越多人发现了docker的优点！火了，Docker每个月都会更新一个版本！ 2014年4月9日，Docker1.0发布！ 为什么这么火！轻巧！ 容器技术出来之前，我们都是使用的虚拟机技术！19G 虚拟机：Vmware虚拟机多台一台电脑，但笨重！ VM：linux centos原生镜像（一个电脑！）\r而docker：隔离，镜像用最核心的环境4m+jdk+mysql 十分的小巧，运行镜像就好了！小巧！几个M几个kb 秒级启动！ 聊聊Docker Docker是基于Go语言开发的！开源项目！ 基于官方文档学习 Docker: Accelerated Container Application Development 容器化技术： 不是模拟一个完整的操作系统。 直接用在操作系统上，充分利用操作系统的资源。 不同： 传统虚拟机，虚拟一个硬件，运行一个完整的操作系统他，在系统上安装和运行软件。 容器内的引用hi直接运行在宿主机的上的，容器是没有自己的内容的，也没有虚拟硬件。 容器相互隔离，容器都有一个数以自己的文件系统，不糊影响。 更快速的交付和部署 传统：一堆帮助文档，安装程序 Docker：打包镜像发布测试，一键运行 更便捷的升级和扩缩容 使用了Docker之后，我们部署引用就和搭积木一样！ 项目打包为一个镜像，扩展——服务器A！服务器B！ 更简单的系统运维 容器化之后，我们开发，测试环境都是高度一致的。 更高效的计算资源利用 Docker是内核级别的虚拟化，可以在一个物理机上运行很多的容器实例！服务器的性能能被压榨到极致。 docker run了之后发生了什么？ Docker在本机上寻找镜像——判断本机是否有这个镜像——yes——使用运行这个镜像 ——no——Docker上取下载——DockerHub是否可以找到——yes——下载到这个镜像到本地 no——找不到返回错误 底层原理 Docker是怎么工作的？ Docker 是一个Client-Server结构的系统，Docker的守护进程运行在主机上，通过Socket客户端访问。 DockerServer接收到Docker-Client的指令，就会执行这个命令。 客户端命令-守护进程-产生Dokcer Docker为什么比虚拟机快？ 1.Docker有着比虚拟机更少的抽象层 虚拟机变为了容器，直接在Docker Engine上跑">
<meta property='og:url' content='http://localhost:1313/post/%E5%BB%BA%E7%AB%992024.08.08/'>
<meta property='og:site_name' content='PoolBee的博客'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='Hugo' /><meta property='article:published_time' content='2024-08-07T20:01:49&#43;00:00'/><meta property='article:modified_time' content='2024-08-07T20:01:49&#43;00:00'/><meta property='og:image' content='http://localhost:1313/post/cover/docker-cover.png' />
<meta name="twitter:site" content="@PoolBee">
    <meta name="twitter:creator" content="@PoolBee"><meta name="twitter:title" content="Hugo主题-Docker学习-8月8日博客更新日志">
<meta name="twitter:description" content="一、迁移至腾讯云 使用Linux，而CentOs7.6不支持Node.js18所以选择了Docker创建hugo。 Docker 为什么出现? 一款产品:开发&ndash;上线 两套环境！ 应用环境,应用配置，开发即运维。 环境配置十分麻烦的。 （集群Redis、ES、Hadoop&hellip;.），发布jar包或者war包，带上环境发布。 项目能不能带上环境安装打包？2、聊聊Docker为什么会出现_哔哩哔哩_bilibili 配置麻烦，不能够跨平台。 传统观念：开发jar，运维来做！ 现在：开发打包部署上线，一套流程做完。 Docker给以上问题，提出解决方案。 类比：Java-apk-发布应用商店-使用apk即可 java-jar-打包代环境 Docker思想——容器想象为集装箱——隔离机制。 Docker的历史 2010年-美国成立的公司dotCloud做一些pass的云计算服务！lxc有关的容器技术！ 他们将自己的技术（容器化技术）命名为Docker！但是没有引起行业注意！docCloud，就活不下去了。那么 就选择开源代码 2013年开源！Docker越来越多人发现了docker的优点！火了，Docker每个月都会更新一个版本！ 2014年4月9日，Docker1.0发布！ 为什么这么火！轻巧！ 容器技术出来之前，我们都是使用的虚拟机技术！19G 虚拟机：Vmware虚拟机多台一台电脑，但笨重！ VM：linux centos原生镜像（一个电脑！）\r而docker：隔离，镜像用最核心的环境4m+jdk+mysql 十分的小巧，运行镜像就好了！小巧！几个M几个kb 秒级启动！ 聊聊Docker Docker是基于Go语言开发的！开源项目！ 基于官方文档学习 Docker: Accelerated Container Application Development 容器化技术： 不是模拟一个完整的操作系统。 直接用在操作系统上，充分利用操作系统的资源。 不同： 传统虚拟机，虚拟一个硬件，运行一个完整的操作系统他，在系统上安装和运行软件。 容器内的引用hi直接运行在宿主机的上的，容器是没有自己的内容的，也没有虚拟硬件。 容器相互隔离，容器都有一个数以自己的文件系统，不糊影响。 更快速的交付和部署 传统：一堆帮助文档，安装程序 Docker：打包镜像发布测试，一键运行 更便捷的升级和扩缩容 使用了Docker之后，我们部署引用就和搭积木一样！ 项目打包为一个镜像，扩展——服务器A！服务器B！ 更简单的系统运维 容器化之后，我们开发，测试环境都是高度一致的。 更高效的计算资源利用 Docker是内核级别的虚拟化，可以在一个物理机上运行很多的容器实例！服务器的性能能被压榨到极致。 docker run了之后发生了什么？ Docker在本机上寻找镜像——判断本机是否有这个镜像——yes——使用运行这个镜像 ——no——Docker上取下载——DockerHub是否可以找到——yes——下载到这个镜像到本地 no——找不到返回错误 底层原理 Docker是怎么工作的？ Docker 是一个Client-Server结构的系统，Docker的守护进程运行在主机上，通过Socket客户端访问。 DockerServer接收到Docker-Client的指令，就会执行这个命令。 客户端命令-守护进程-产生Dokcer Docker为什么比虚拟机快？ 1.Docker有着比虚拟机更少的抽象层 虚拟机变为了容器，直接在Docker Engine上跑"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='http://localhost:1313/post/cover/docker-cover.png' />
  




    
</head>

<body class="
    article-page
    ">
    
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;
        

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
            
        } else {
            document.documentElement.dataset.scheme = 'light';
            
        }
    })();
</script>


    <nav id="navbar" class="navbar--fixed-top">
    <div class="container">
        <a href="/" class="navbar-brand">
            
        </a>
        <ul class="navbar-nav">
            
            <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
            <li class="nav-item"><a href="/page/about/" class="nav-link" >关于我</a></li>
            <li class="nav-item"><a href="/page/daily_info/" class="nav-link" target="_blank">走走停停</a></li>
            <li class="nav-item"><a href="/page/blogroll/" class="nav-link" target="_blank">友链</a></li>
        </ul>
    </div>
</nav>

<script>
    let lastScrollY = window.scrollY;
    const navbar = document.getElementById('navbar');

    window.addEventListener('scroll', () => {
        if (window.scrollY > lastScrollY) {
            
            navbar.classList.add('navbar--hidden');
        } else {
            
            navbar.classList.remove('navbar--hidden');
        }
        lastScrollY = window.scrollY;
    });

    
    document.addEventListener('DOMContentLoaded', () => {
        const path = window.location.pathname;
        const navLinks = document.querySelectorAll('.nav-link');

        navLinks.forEach(link => {
            if (link.getAttribute('href') === path) {
                link.parentElement.classList.add('active'); 
            }
        });
    });
</script>

    

    <div class="container main-container flex on-phone--column extended">
        <aside class="sidebar left-sidebar sticky compact">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="切换菜单">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/avatar_hud111a09d55ebb32217e16308c85c65c5_4420_300x0_resize_box_3.png" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">🌏</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">PoolBee的博客</a></h1>
            <h2 class="site-description">热爱生活，忠于记录</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://space.bilibili.com/28343232'
                        target="_blank"
                        title="Blibili"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="24px" height="24.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M665.056 123.904a32 32 0 0 1 49.824 40.192l-36.8 45.632c114.48 4.32 166 19.904 198.784 66.512C908.032 320.528 912 363.6 912 539.168 912 861.952 891.152 880 512 880 136.64 880 112.448 862.32 112 548.768v-25.216c0.272-160.224 4.864-201.984 34.4-245.072 32.832-47.904 85.664-64.112 201.504-68.752l-36.8-45.632a32 32 0 1 1 49.808-40.192l68.064 84.4 23.2-0.256h4.368l2.224-0.016h6.976l2.496-0.016L506.992 208h52.832l37.104 0.352zM559.52 272h-91.104l-9.344 0.032h-6.464l-77.504 0.864c-113.52 2.784-156.8 13.888-175.92 41.76-18.784 27.424-22.928 67.008-23.168 209.872v29.568c0.32 163.072 6.368 202.768 34.928 227.488C243.12 809.424 304.064 816 512 816c207.936 0 268.88-6.56 301.056-34.416C842.464 756.128 848 714.784 848 539.184c0-156.736-3.824-198.176-23.472-226.112-19.28-27.408-62.928-37.952-179.248-40.24L559.52 272z m-20.656 324.208c15.312 27.168 27.456 37.504 34.88 37.76 4 0.144 10.096-4.064 16.688-12.88a91.904 91.904 0 0 0 10.08-17.312 24 24 0 0 1 44.384 18.24 132 132 0 0 1-16 27.776c-15.04 20.16-33.6 32.96-56.832 32.16-19.184-0.688-36.896-10.944-53.504-30.528l-0.896-1.088-0.112 0.144c-15.68 17.92-32.688 27.792-51.04 29.392l-3.264 0.192c-23.024 0.768-42.368-11.008-58.736-29.808a132.88 132.88 0 0 1-18.176-26.576 24 24 0 1 1 42.88-21.552 94.16 94.16 0 0 0 11.488 16.608c7.84 8.992 15.312 13.536 20.96 13.36 8.64-0.288 20.736-10.08 35.408-35.936a24 24 0 0 1 41.792 0.048z m31.072-173.408a36.112 36.112 0 0 1 42.72-23.088l140.288 34.64a29.472 29.472 0 0 1 20.592 38.8 36.8 36.8 0 0 1-43.36 22.992l-139.264-34.496a29.84 29.84 0 0 1-20.96-38.848z m-115.616-0.032a30.032 30.032 0 0 1-21.168 38.88L294.4 496.064a37.136 37.136 0 0 1-43.68-22.944 29.296 29.296 0 0 1 20.384-38.784l140.8-34.72a35.76 35.76 0 0 1 42.4 23.136z"  /></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='mailto:Cr8462643@163.com'
                        target="_blank"
                        title="Email"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="24px" height="24.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M777.1136 164.8128H262.2976a151.1424 151.1424 0 0 0-150.9888 150.9376v393.5232A151.1424 151.1424 0 0 0 262.2976 860.16h514.816a151.1424 151.1424 0 0 0 150.9888-150.9888V315.7504a150.3232 150.3232 0 0 0-150.9888-150.9376zM262.2976 224.1536h514.816a90.0096 90.0096 0 0 1 77.4144 43.8784l-296.96 241.3056a60.2624 60.2624 0 0 1-76.1344 0l-296.96-241.3056a92.8768 92.8768 0 0 1 77.824-43.8784z m514.816 576.768H262.2976a90.5728 90.5728 0 0 1-90.3168-90.3168V337.92l272.2304 220.6208a122.2144 122.2144 0 0 0 76.1344 27.0848 119.6032 119.6032 0 0 0 76.1344-27.0848L868.7104 337.92v372.8896a92.5696 92.5696 0 0 1-91.5968 90.112z" /></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://github.com/PoolBee/PoolBee.github.io'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1721529668393" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5378" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><path fill="currentColor" d="M822.514 74.129c10.466 0.815 19.898 5.47 26.913 13.047 9.015 9.737 12.574 21.584 13.722 36.348l0.088 1.208 0.096 1.514 0.055 1.015 0.049 1.02 0.021 0.512 0.054 1.547 0.027 1.04 0.028 1.577 0.01 1.063 0.003 1.073-0.009 1.63-0.015 1.102-0.022 1.115-0.029 1.128-0.036 1.143-0.043 1.158-0.078 1.767-0.06 1.198-0.106 1.832-0.12 1.875-0.138 1.92-0.208 2.633-0.115 1.35-0.122 1.375-0.197 2.106-0.213 2.164-0.31 2.977-0.251 2.307-0.268 2.371-0.383 3.27-0.412 3.395-0.442 3.528-0.595 4.607-0.64 4.836-0.547 4.041-2.52 18.408-0.813 6.102-0.572 4.412-0.495 3.963-0.291 2.423-0.422 3.713-0.253 2.397-0.222 2.265-0.142 1.556-0.177 2.113-0.049 0.622c-0.04 0.517-0.077 1.03-0.113 1.542l-0.063 0.92-0.098 1.535-0.067 1.154-0.056 1.115-0.046 1.073-0.037 1.033-0.027 0.99-0.018 0.95-0.008 0.906v0.437l0.005 0.84 0.014 0.798 0.024 0.752 0.039 0.851 0.957 1.205c34.772 44.068 53.83 94.986 54.229 148.28v1.683c0 83.459-38.319 163.265-106.095 214.099-28.706 21.533-63.37 38.442-102.552 50.635 10.739 21.22 16.366 41.779 16.543 61.802l0.005 0.974V918c0 17.673-14.327 32-32 32-17.497 0-31.714-14.042-31.996-31.47l-0.004-0.53V733.469c0-12.49-5.22-27.792-16.299-45.67l-0.886-1.418c-2.997-4.74-6.4-9.659-10.223-14.751l-0.786-1.04a31.773 31.773 0 0 1-4.814-8.452 31.8 31.8 0 0 1-1.858-7.435 31.836 31.836 0 0 1 2.911-17.872 31.755 31.755 0 0 1 4.673-7.107 31.848 31.848 0 0 1 12.357-8.768l0.18-0.07 0.156-0.06c0.14-0.055 0.281-0.108 0.422-0.16l0.041-0.014a31.69 31.69 0 0 1 4.88-1.361l-0.381 0.081c48.847-10.151 90.314-27.323 121.229-50.513C813.853 530.346 843 469.641 843 405.96c0-40.68-15.192-79.967-43.952-114.619-6.678-8.047-9.546-17.165-10.725-27.973-0.714-6.55-0.755-13.866-0.272-22.374l0.104-1.738 0.048-0.746c0.048-0.744 0.099-1.482 0.152-2.218l0.166-2.209 0.177-2.147 0.222-2.463 0.212-2.175 0.234-2.257 0.398-3.583 0.406-3.436 0.522-4.212 0.67-5.193 1.118-8.358 1.04-7.614 1.14-8.279 0.85-6.313 0.557-4.242 0.513-4.027 0.288-2.318 0.446-3.7 0.405-3.508 0.294-2.672 0.203-1.928 0.19-1.864 0.173-1.804 0.134-1.466-23.747 12.922-4.579 2.474-2.87 1.539-3.449 1.835-1.352 0.715-2.144 1.128-2.114 1.103-2.084 1.08-2.055 1.057-2.027 1.033-1.999 1.01-1.972 0.987-0.977 0.485-2.892 1.422-1.898 0.92c-0.314 0.153-0.627 0.303-0.94 0.453l-1.863 0.888-1.84 0.867c-0.916 0.428-1.823 0.848-2.723 1.26l-1.79 0.815-0.887 0.399-1.762 0.784-0.874 0.384-1.735 0.754-0.861 0.37-1.71 0.724-1.696 0.704-1.68 0.686c-0.558 0.226-1.114 0.448-1.668 0.667l-1.654 0.649c-0.55 0.213-1.097 0.423-1.642 0.63l-1.632 0.612-1.62 0.594-0.808 0.291-1.607 0.568-1.599 0.551-0.796 0.27c-22.154 7.432-41.43 9.635-59.205 4.372-36.56-10.827-75.79-16.47-116.138-16.47-34.516 0-68.229 4.129-100.183 12.116l-1.68 0.424c-23.136 5.893-46.24 3.314-70.526-5.913a210.629 210.629 0 0 1-9.102-3.693l-0.937-0.41-1.875-0.837-1.408-0.644-1.414-0.66-0.947-0.45-1.43-0.689-1.442-0.709-0.97-0.484-0.98-0.494-1.984-1.018-2.027-1.062-1.552-0.827-1.583-0.855-1.616-0.884-1.652-0.914-1.692-0.947-1.734-0.98-2.383-1.36-3.102-1.793-3.92-2.294-2.745-1.621-5.079-3.025-11.695-7.01-3.848-2.286-3.362-1.975-2.36-1.367-2.2-1.256-1.506-0.848-1.77-0.983-0.913-0.5-0.698-0.381-0.093 0.641-0.157 1.131-0.152 1.16-0.074 0.591-0.144 1.203-0.139 1.233-0.133 1.262-0.191 1.948-0.18 2.016-0.113 1.38-0.108 1.412-0.104 1.442-0.098 1.472-0.094 1.503-0.09 1.533-0.083 1.565-0.118 2.406-0.107 2.476-0.097 2.547-0.086 2.62-0.052 1.786-0.048 1.818-0.063 2.789-0.037 1.9-0.047 2.911-0.026 1.983-0.047 4.756-0.031 5.83-0.011 5.895-0.009 16.084-0.029 7.372-0.04 4.756-0.044 3.323-0.057 3.054-0.083 3.23-0.062 1.912-0.07 1.853-0.078 1.753-0.048 0.986-0.068 1.311-0.093 1.645-0.054 0.89c-0.407 6.486-1.021 12.005-1.966 16.903-1.642 8.513-4.148 15.463-9.436 22.014-27.505 34.082-42.002 72.494-42.002 112.238 0 60.104 33.061 122.348 87.13 162.901 35.686 26.767 81.861 45.038 136.312 54.205 1.759 0.281 3.5 0.712 5.205 1.29 0.03 0.012 0.06 0.022 0.09 0.032a24.393 24.393 0 0 1 0.738 0.263c0.128 0.047 0.254 0.095 0.38 0.143l0.04 0.017a31.932 31.932 0 0 1 15.38 12.568 31.865 31.865 0 0 1 4.624 22.577 31.851 31.851 0 0 1-8.318 16.704l0.436-0.485c-0.99 1.09-1.952 2.172-2.888 3.246l-1.11 1.285a172.775 172.775 0 0 0-6.593 8.172l-0.92 1.229c-11.637 15.725-17.087 29.595-17.225 41.55l-0.003 0.465 0.001 68.053a32.62 32.62 0 0 1 0 1.39l-0.001 116.434c0 17.673-14.327 32-32 32-17.496 0-31.713-14.042-31.996-31.471l-0.004-0.53v-85.132h-57.066c-20.435 0-40.2-6.64-59.18-18.52-15.106-9.457-29.484-22.078-43.365-37.311-10.958-12.025-21.228-25.257-30.997-39.436l-1.31-1.909-1.264-1.86-0.618-0.917-1.211-1.808-1.184-1.785-1.163-1.772-0.575-0.884-1.144-1.77-1.14-1.782-1.143-1.804-1.152-1.834-1.167-1.875-1.19-1.926-1.22-1.987-1.9-3.115-0.654-1.079c-3.988-6.579-9.336-9.967-18.662-11.201l-0.504-0.064c-17.542-2.145-30.024-18.105-27.88-35.648 2.146-17.542 18.105-30.024 35.648-27.88 28.696 3.51 51.659 17.747 66.127 41.617l1.47 2.415 1.455 2.373 0.723 1.171 1.436 2.313 1.426 2.274 1.417 2.237 1.409 2.202 1.403 2.169c9.808 15.063 19.297 27.759 30.87 40.459 0.415 0.455 0.829 0.906 1.243 1.353l1.24 1.327c0.825 0.877 1.648 1.736 2.468 2.578l1.23 1.251c18.202 18.36 35.137 28.209 48.605 28.425l0.453 0.004h57.066V732.12c0-19.062 5.12-37.964 15.008-56.731-43.866-12.305-82.781-30.747-115.558-55.331-69.74-52.308-112.728-133.24-112.728-214.1 0-52.686 18.239-103.12 51.91-146.985l0.987-1.278 0.079-0.608 0.09-0.762 0.086-0.816 0.084-0.87 0.081-0.924 0.116-1.484 0.036-0.52 0.1-1.572 0.092-1.649 0.101-2.105 0.1-2.587 0.053-1.711 0.063-2.558 0.044-2.377 0.046-3.489 0.042-5.52 0.026-9.886 0.01-16.233 0.03-6.683 0.035-4 0.036-3.107 0.029-2.08 0.034-2.05 0.038-2.023 0.042-1.994 0.047-1.966 0.079-2.897 0.09-2.836 0.101-2.778 0.074-1.819 0.079-1.793 0.129-2.644 0.14-2.588 0.102-1.696 0.107-1.673 0.113-1.649 0.119-1.626 0.19-2.399 0.135-1.571 0.14-1.55 0.148-1.53 0.154-1.51 0.161-1.488 0.168-1.47 0.087-0.726 0.178-1.44 0.186-1.422 0.193-1.403 0.2-1.385 0.207-1.368 0.216-1.35 0.223-1.334 0.23-1.317 0.24-1.302c0.04-0.215 0.08-0.43 0.122-0.644l0.25-1.278 0.26-1.263 0.267-1.249 0.276-1.234 0.285-1.22 0.293-1.207 0.302-1.194 0.31-1.181c3.806-14.18 9.58-25.536 19.415-33.946 14.031-11.999 32.335-13.9 49.522-6.514 6.255 2.688 12.625 5.804 19.407 9.44l0.977 0.525 1.909 1.035 1.408 0.773 2.711 1.51 2.682 1.522 2.475 1.427 1.874 1.093 4.109 2.423 6.295 3.756 8.096 4.858 4.623 2.754 4.268 2.515 2.85 1.66 2.17 1.25 1.567 0.895 2.014 1.139 1.459 0.814 1.879 1.035 0.913 0.497 1.339 0.721 1.732 0.918 1.263 0.657 1.234 0.631 0.406 0.205 0.764 0.383c4.302 2.143 8.157 3.847 12.115 5.386l0.7 0.27 0.35 0.134c12.877 4.892 22.978 6.02 32 3.721 37.628-9.584 77.224-14.52 117.66-14.52 46.478 0 91.829 6.524 134.31 19.103l0.22 0.056c0.12 0.026 0.259 0.05 0.413 0.071l0.332 0.038c0.118 0.01 0.243 0.02 0.376 0.028l0.422 0.018 0.227 0.005h0.488c0.085 0 0.172-0.002 0.261-0.004l0.555-0.019 0.295-0.015 0.622-0.041c0.43-0.033 0.89-0.077 1.38-0.132 4.038-0.462 9.105-1.68 15.084-3.687l1.174-0.4 1.19-0.417 1.207-0.434 1.223-0.45 1.24-0.47 1.258-0.486 0.635-0.25 1.285-0.513 1.304-0.531 1.323-0.55 1.342-0.567 1.363-0.587 1.384-0.605 0.7-0.31 1.416-0.633 1.439-0.653 1.46-0.673 1.484-0.691 1.507-0.712 1.532-0.731 1.556-0.752 1.581-0.772 1.607-0.792 1.633-0.813 1.659-0.833 1.686-0.855 1.714-0.876 1.742-0.897 2.667-1.386 2.733-1.434 3.063-1.624 2.538-1.356 4.733-2.55 22.134-12.071 5.8-3.137 1.96-1.05 2.76-1.471 1.788-0.946 1.748-0.919 2.55-1.33 2.472-1.275 1.607-0.82 1.577-0.798 2.314-1.157 1.51-0.746 1.486-0.727 1.466-0.708 1.446-0.691 1.429-0.674c0.236-0.111 0.472-0.222 0.708-0.331 7.914-3.687 16.048-5.558 24.572-4.893z" p-id="5379"></path></svg>
                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://poolbee.github.io/page/links/'
                        target="_blank"
                        title="Wechat"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="24px" height="24.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M767.818667 409.173333C867.338667 444.266667 938.666667 539.136 938.666667 650.666667c0 42.709333-10.496 83.978667-30.261334 120.842666-1.792 3.338667-4.992 8.928-9.696 16.96l14.613334 53.557334c6.506667 23.893333-15.402667 45.813333-39.296 39.296l-53.642667-14.634667-6.229333 3.669333A254.933333 254.933333 0 0 1 682.666667 906.666667c-77.994667 0-147.84-34.88-194.805334-89.888a352.608 352.608 0 0 1-56.64 4.554666c-63.338667 0-124.266667-16.853333-177.472-48.298666-1.834667-1.088-6.410667-3.733333-13.632-7.893334l-80.544 21.653334c-23.914667 6.432-45.76-15.573333-39.146666-39.434667l21.792-78.752a961.205333 961.205333 0 0 1-15.904-27.317333A336.384 336.384 0 0 1 85.333333 480c0-188.618667 154.965333-341.333333 345.888-341.333333 159.914667 0 297.984 108.010667 335.818667 259.296 0.949333 3.765333 1.173333 7.552 0.778667 11.2z m-68.106667-13.952C662.88 282.037333 555.178667 202.666667 431.221333 202.666667 275.434667 202.666667 149.333333 326.933333 149.333333 480c0 46.272 11.498667 90.837333 33.194667 130.698667 2.88 5.290667 10.176 17.706667 21.621333 36.746666a32 32 0 0 1 3.413334 25.013334l-10.517334 37.994666 39.232-10.549333a32 32 0 0 1 24.234667 3.146667c14.272 8.192 22.773333 13.098667 25.802667 14.890666A283.882667 283.882667 0 0 0 431.221333 757.333333c6.154667 0 12.288-0.192 18.389334-0.576A255.061333 255.061333 0 0 1 426.666667 650.666667c0-141.386667 114.613333-256 256-256 5.728 0 11.413333 0.192 17.045333 0.554666z m133.706667 397.056a32 32 0 0 1 3.338666-24.725333 996.672 996.672 0 0 0 15.242667-26.293333A190.997333 190.997333 0 0 0 874.666667 650.666667c0-106.037333-85.962667-192-192-192s-192 85.962667-192 192 85.962667 192 192 192a190.933333 190.933333 0 0 0 98.570666-27.2c2.208-1.322667 8.288-4.874667 18.517334-10.837334a32 32 0 0 1 24.522666-3.210666l12.565334 3.424-3.424-12.565334zM330.666667 426.666667a42.666667 42.666667 0 1 1 0-85.333334 42.666667 42.666667 0 0 1 0 85.333334z m192 0a42.666667 42.666667 0 1 1 0-85.333334 42.666667 42.666667 0 0 1 0 85.333334z m85.333333 202.666666a32 32 0 1 1 0-64 32 32 0 0 1 0 64z m149.333333 0a32 32 0 1 1 0-64 32 32 0 0 1 0 64z"  /></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>首页&amp;文章</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>关于我 About me</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>分类</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/soft/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-messages" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M21 14l-3 -3h-7a1 1 0 0 1 -1 -1v-6a1 1 0 0 1 1 -1h9a1 1 0 0 1 1 1v10" />
  <path d="M14 15v2a1 1 0 0 1 -1 1h-7l-3 3v-10a1 1 0 0 1 1 -1h2" />
</svg>



                
                <span>软件&amp;网站</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/share/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>日常分享</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/links/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>链接</span>
            </a>
        </li>
        
        
        <li >
            <a href='/page/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>搜索</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">
        

                
                <li id="dark-mode-toggle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                    <span>暗色模式</span>
                </li>
                
            </ol>
        </li>
    
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">目录</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ul>
    <li><a href="#为什么出现">为什么出现?</a></li>
    <li><a href="#docker的历史">Docker的历史</a></li>
  </ul>

  <ul>
    <li><a href="#docker-run了之后发生了什么">docker run了之后发生了什么？</a>
      <ul>
        <li><a href="#底层原理">底层原理</a></li>
        <li><a href="#docker为什么比虚拟机快">Docker为什么比虚拟机快？</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#镜像命令">镜像命令</a>
      <ul>
        <li><a href="#帮助命令">帮助命令:</a></li>
        <li><a href="#镜像帮助命令">镜像帮助命令</a></li>
        <li><a href="#删除查看镜像命令">删除、查看镜像命令</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#新建容器并启动查看">新建容器并启动、查看</a>
      <ul>
        <li><a href="#退出容器">退出容器</a></li>
        <li><a href="#ctrlpq-退出容器不停止">ctrl+p+q #退出容器不停止</a></li>
        <li><a href="#删除容器">删除容器</a></li>
        <li><a href="#启动和停止容器">启动和停止容器</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#后台运行">后台运行</a></li>
    <li><a href="#查看日志">查看日志</a>
      <ul>
        <li><a href="#查看容器容器的信息源数据">查看容器（容器的信息、源数据）</a></li>
        <li><a href="#inspecttop命令">inspect、top命令</a></li>
        <li><a href="#进入容器当前正在运行的">进入容器（当前正在运行的）</a></li>
      </ul>
    </li>
    <li><a href="#如何将容器文件拷主机">如何将容器文件拷主机</a></li>
  </ul>

  <ul>
    <li><a href="#dockerhub">Dockerhub</a></li>
    <li><a href="#可视化面板">可视化面板</a></li>
    <li><a href="#镜像得到的方式">镜像得到的方式：</a></li>
  </ul>

  <ul>
    <li><a href="#联合文件系统unionfs">联合文件系统UnionFS</a></li>
    <li><a href="#分层">分层</a></li>
    <li><a href="#查看里面layers">查看里面layers</a></li>
  </ul>

  <ul>
    <li><a href="#commit">commit</a></li>
    <li><a href="#举例">举例：</a></li>
    <li><a href="#发布镜像">发布镜像</a></li>
  </ul>

  <ul>
    <li><a href="#什么是容器数据卷">什么是容器数据卷？</a>
      <ul>
        <li><a href="#总结容器的持久化和同步操作容器间也是可以数据共享的">总结：容器的持久化和同步操作容器间也是可以数据共享的！</a></li>
      </ul>
    </li>
    <li><a href="#使用数据卷">使用数据卷</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#实战安装mysql">实战：安装MySQL</a></li>
    <li><a href="#新建mysql连接">新建Mysql连接</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#具名和匿名挂载">具名和匿名挂载</a>
      <ul>
        <li><a href="#匿名挂载">匿名挂载</a></li>
        <li><a href="#具名挂载">具名挂载</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#如何确定是具名挂载还是匿名挂载还是指定路径挂载">如何确定是具名挂载还是匿名挂载，还是指定路径挂载！</a></li>
    <li><a href="#拓展-v-容器内路径ro--rw--改变读写权限">拓展：-v 容器内路径:ro  rw  改变读写权限</a></li>
  </ul>
</nav>
        </div>
    </section>

            
        
            
                
<a id="back-to-top" href="#">
    <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="icon" width="48px" height="48.00px" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M526.848 202.24A20.48 20.48 0 0 0 512 196.096a19.68 19.68 0 0 0-14.848 6.144l-155.136 154.624a21.632 21.632 0 0 0 0 30.208 21.632 21.632 0 0 0 30.208 0L512 247.296l139.776 139.776a21.376 21.376 0 0 0 14.848 6.144 20.48 20.48 0 0 0 14.848-6.144 21.632 21.632 0 0 0 0-30.208L526.848 202.24zM116.224 595.968h90.624v231.936h42.496v-231.936h90.624v-42.496H115.712v42.496h0.512z m458.24-42.496h-112.64c-13.824 0-27.136 5.12-37.376 15.36-10.24 10.24-15.36 24.064-15.36 37.376v168.448c0 13.824 5.12 27.136 15.36 37.376 10.24 10.24 24.064 15.36 37.376 15.36h112.64c13.824 0 27.136-5.12 37.376-15.36 10.24-10.24 15.36-24.064 15.36-37.376v-168.448c0-13.824-5.12-27.136-15.36-37.376-10.24-10.24-23.552-15.36-37.376-15.36z m10.752 221.696c0 2.048-0.512 5.12-3.072 7.68a10.688 10.688 0 0 1-7.68 3.072h-112.64a10.688 10.688 0 0 1-7.68-3.072 10.688 10.688 0 0 1-3.072-7.68V606.72c0-2.048 0.512-5.12 3.072-7.68a10.688 10.688 0 0 1 7.68-3.072h112.64c2.048 0 5.12 0.512 7.68 3.072 2.56 2.56 3.072 5.632 3.072 7.68v168.448z m307.2-205.824a53.12 53.12 0 0 0-37.376-15.36h-145.408v274.432h42.496v-120.32h102.912c13.824 0 27.136-5.12 37.376-15.36 10.24-10.24 15.36-24.064 15.36-37.376v-48.128c0-14.336-5.12-27.648-15.36-37.888z m-27.136 84.992c0 2.048-0.512 5.12-3.072 7.68a10.688 10.688 0 0 1-7.68 3.072h-103.424v-69.12h103.936c2.048 0 5.12 0.512 7.68 3.072 2.56 2.56 3.072 5.632 3.072 7.68v47.616h-0.512z"  /></svg>
</a>

            
        
            
                <form action="/page/search/" class="search-form widget" >
        <p>
            <label>搜索</label>
            <input name="keyword" required placeholder="输入关键词..." />
        
            <button title="搜索">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



            </button>
        </p>
    </form>
            
        
        <div style="height: 30%;width: 30%">
            
            <script type="text/javascript" id="clstr_globe" src="//clustrmaps.com/globe.js?d=vWVduL3EI8o8M2YkHMyY1dtYyf7vfgNKC8KQ1ugXVMw"></script>
        </div>
    </aside>



        



        <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/post/%E5%BB%BA%E7%AB%992024.08.08/">
                
                    <img src="/post/cover/docker-cover.png" loading="lazy" alt="Featured image of post Hugo主题-Docker学习-8月8日博客更新日志" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/%E5%BB%BA%E7%AB%99/" >
                建站
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/post/%E5%BB%BA%E7%AB%992024.08.08/">Hugo主题-Docker学习-8月8日博客更新日志</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published">Aug 07, 2024</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    阅读时长: 9 分钟
                </time>
            </div>
        
    </footer>
    

    
</div>

</header>

    <section class="article-content">
    
    
    <h1 id="一迁移至腾讯云">一、迁移至腾讯云
</h1><p>使用Linux，而CentOs7.6不支持Node.js18所以选择了Docker创建hugo。</p>
<h1 id="docker">Docker
</h1><h2 id="为什么出现">为什么出现?
</h2><p>一款产品:开发&ndash;上线 两套环境！</p>
<p>应用环境,应用配置，开发即运维。</p>
<p>环境配置十分麻烦的。</p>
<p>（集群Redis、ES、Hadoop&hellip;.），发布jar包或者war包，带上环境发布。</p>
<p>项目能不能带上环境安装打包？<a class="link" href="https://www.bilibili.com/video/BV1og4y1q7M4/?p=2&amp;spm_id_from=pageDriver&amp;vd_source=7380129e81d052c5b32ce598508c71d5"  target="_blank" rel="noopener"
    >2、聊聊Docker为什么会出现_哔哩哔哩_bilibili</a></p>
<p>配置麻烦，不能够跨平台。</p>
<p><strong>传统观念</strong>：开发jar，运维来做！</p>
<p><strong>现在</strong>：开发打包部署上线，一套流程做完。</p>
<p>Docker给以上问题，提出解决方案。</p>
<p>类比：Java-apk-发布应用商店-使用apk即可</p>
<p>java-jar-打包代环境</p>
<p>Docker思想——容器想象为集装箱——隔离机制。</p>
<h2 id="docker的历史">Docker的历史
</h2><p>2010年-美国成立的公司dotCloud做一些pass的云计算服务！lxc有关的容器技术！</p>
<p>他们将自己的技术（容器化技术）命名为Docker！但是没有引起行业注意！docCloud，就活不下去了。那么</p>
<ul>
<li>就选择开源代码</li>
</ul>
<p>2013年开源！Docker越来越多人发现了docker的优点！火了，Docker每个月都会更新一个版本！</p>
<p>2014年4月9日，Docker1.0发布！</p>
<p>为什么这么火！轻巧！</p>
<p>容器技术出来之前，我们都是使用的虚拟机技术！19G</p>
<p>虚拟机：Vmware虚拟机多台一台电脑，但笨重！</p>
<pre tabindex="0"><code>VM：linux centos原生镜像（一个电脑！）
而docker：隔离，镜像用最核心的环境4m+jdk+mysql 十分的小巧，运行镜像就好了！小巧！几个M几个kb 秒级启动！
</code></pre><ul>
<li>聊聊Docker</li>
</ul>
<p>Docker是基于Go语言开发的！开源项目！</p>
<h1 id="基于官方文档学习"><strong>基于官方文档学习</strong>
</h1><p><a class="link" href="https://www.docker.com/"  target="_blank" rel="noopener"
    >Docker: Accelerated Container Application Development</a></p>
<p>容器化技术：</p>
<p><strong>不是模拟一个完整的操作系统</strong>。</p>
<p>直接用在操作系统上，充分利用操作系统的资源。</p>
<p><strong>不同</strong>：</p>
<ul>
<li>传统虚拟机，虚拟一个硬件，运行一个完整的操作系统他，在系统上安装和运行软件。</li>
<li>容器内的引用hi直接运行在宿主机的上的，容器是没有自己的内容的，也没有虚拟硬件。</li>
<li>容器相互隔离，容器都有一个数以自己的文件系统，不糊影响。</li>
</ul>
<p><strong>更快速的交付和部署</strong></p>
<p>传统：一堆帮助文档，安装程序</p>
<p>Docker：打包镜像发布测试，一键运行</p>
<p><strong>更便捷的升级和扩缩容</strong></p>
<p>使用了Docker之后，我们部署引用就和搭积木一样！</p>
<p>项目打包为一个镜像，扩展——服务器A！服务器B！</p>
<p><strong>更简单的系统运维</strong></p>
<p>容器化之后，我们开发，测试环境都是高度一致的。</p>
<p><strong>更高效的计算资源利用</strong></p>
<p>Docker是内核级别的虚拟化，可以在一个物理机上运行很多的容器实例！服务器的性能能被压榨到极致。</p>
<h2 id="docker-run了之后发生了什么">docker run了之后发生了什么？
</h2><p>Docker在本机上寻找镜像——判断本机是否有这个镜像——yes——使用运行这个镜像</p>
<p>——no——Docker上取下载——DockerHub是否可以找到——yes——下载到这个镜像到本地</p>
<p>no——找不到返回错误</p>
<p><img src="/post/before/image-20240803161442427.png"
	
	
	
	loading="lazy"
	
		alt="image-20240803161442427"
	
	
></p>
<h3 id="底层原理">底层原理
</h3><p>Docker是怎么工作的？</p>
<p>Docker 是一个Client-Server结构的系统，Docker的守护进程运行在主机上，通过Socket客户端访问。</p>
<p>DockerServer接收到Docker-Client的指令，就会执行这个命令。</p>
<p>客户端命令-守护进程-产生Dokcer</p>
<p><img src="/post/before/image-20240803162038740.png"
	
	
	
	loading="lazy"
	
		alt="image-20240803162038740"
	
	
></p>
<h3 id="docker为什么比虚拟机快">Docker为什么比虚拟机快？
</h3><p>1.Docker有着比虚拟机更少的抽象层</p>
<p>虚拟机变为了容器，直接在Docker Engine上跑</p>
<p><img src="/post/before/image-20240803162357102.png"
	
	
	
	loading="lazy"
	
		alt="image-20240803162357102"
	
	
></p>
<p>2.docker利用的是宿主机的内核，vm需要是Guest OS</p>
<p>所以新建容器的时候，docker不需要像虚拟机一样重新加载一个操作系统的内核，避免引导。虚拟机是加载Guest OS，分钟级别的，而docker是利用宿主机的操作系统，省略了这个过程，秒级。</p>
<p>NS隔离（容器隔离）</p>
<p><img src="/post/before/image-20240803162713596.png"
	
	
	
	loading="lazy"
	
		alt="image-20240803162713596"
	
	
></p>
<p>Linux现在都支持了。</p>
<h1 id="docker常用命令">Docker常用命令
</h1><h2 id="镜像命令">镜像命令
</h2><h3 id="帮助命令">帮助命令:
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker version
</span></span><span style="display:flex;"><span>docker info <span style="color:#75715e">#显示系信息，包括镜像，容器数量</span>
</span></span><span style="display:flex;"><span>docker --help <span style="color:#75715e">#万能所有命令</span>
</span></span></code></pre></div><p>帮助文档下载地址：<a class="link" href="https://docs.docker.com/reference/"  target="_blank" rel="noopener"
    >Reference documentation | Docker Docs</a></p>
<h3 id="镜像帮助命令">镜像帮助命令
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker images 
</span></span><span style="display:flex;"><span>docker images --help
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># docker images</span>
</span></span><span style="display:flex;"><span>REPOSITORY     TAG          IMAGE ID       CREATED         SIZE
</span></span><span style="display:flex;"><span>klakegg/hugo   latest-ext   b34dd4f95ea2   <span style="color:#ae81ff">14</span> months ago   1.02GB
</span></span><span style="display:flex;"><span>hello-world    latest       d2c94e258dcb   <span style="color:#ae81ff">15</span> months ago   13.3kB
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#解释</span>
</span></span><span style="display:flex;"><span>REPOSITORY 镜像仓库源
</span></span><span style="display:flex;"><span>TAG 镜像的标签
</span></span><span style="display:flex;"><span>IMAGE ID 镜像的ID
</span></span><span style="display:flex;"><span>CREATED 镜像的创建时间
</span></span><span style="display:flex;"><span>SIZE 镜像的大小
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#可选项</span>
</span></span><span style="display:flex;"><span>-a,--all		<span style="color:#75715e">#列出所有镜像</span>
</span></span><span style="display:flex;"><span>-q	--quite			<span style="color:#75715e">#只显示ID</span>
</span></span></code></pre></div><p>下载Mysql</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker search mysql
</span></span><span style="display:flex;"><span><span style="color:#75715e">#可选项，通过收藏过滤</span>
</span></span><span style="display:flex;"><span>--filter<span style="color:#f92672">=</span>stars<span style="color:#f92672">=</span>3000			<span style="color:#75715e">#搜索出来的stars大于3000</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#下载镜像</span>
</span></span><span style="display:flex;"><span>docker pull
</span></span><span style="display:flex;"><span>docker pull --help
</span></span><span style="display:flex;"><span>docker pull mysql
</span></span><span style="display:flex;"><span>docker pull mysql<span style="color:#f92672">[</span>:tag<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#默认下载latest</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#下载的时候：分层下载，docker image的核心 联合文件系统</span>
</span></span></code></pre></div><p><img src="/post/before/image-20240803232450018.png"
	
	
	
	loading="lazy"
	
		alt="image-20240803232450018"
	
	
></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker pull mysql:5.7
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#下载5.7版本</span>
</span></span></code></pre></div><p><img src="/post/before/image-20240803232644460.png"
	
	
	
	loading="lazy"
	
		alt="image-20240803232644460"
	
	
></p>
<p>这就是linux的联合文件系统。</p>
<h3 id="删除查看镜像命令">删除、查看镜像命令
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#删除某镜像</span>
</span></span><span style="display:flex;"><span>docker rmi -f 镜像images的id
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#递归id批量删除-删除全部的镜像</span>
</span></span><span style="display:flex;"><span>docker rmi -f <span style="color:#66d9ef">$(</span>docker images -aq<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#docker images查看所有镜像</span>
</span></span></code></pre></div><h1 id="容器命令">容器命令
</h1><p>说明：有了镜像才能创建容器。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmd" data-lang="cmd"><span style="display:flex;"><span>#下载一个centos基本镜像系统
</span></span><span style="display:flex;"><span>docker pull centos
</span></span><span style="display:flex;"><span>#run命令的帮助
</span></span><span style="display:flex;"><span>docker run --help
</span></span></code></pre></div><h2 id="新建容器并启动查看">新建容器并启动、查看
</h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmd" data-lang="cmd"><span style="display:flex;"><span>#参数
</span></span><span style="display:flex;"><span>--name=<span style="color:#e6db74">&#34;Name&#34;</span>	#容器名字 tomcat01 tomcat02 用来区分容器
</span></span><span style="display:flex;"><span>-d		#后台
</span></span><span style="display:flex;"><span>-it 	#交互运行 进入容器查看内容
</span></span><span style="display:flex;"><span>-p		#指定容器端口 -p 8080:8080
</span></span><span style="display:flex;"><span>-p ip:主机端口:容器端口
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-p 主机端口:容器端口
</span></span><span style="display:flex;"><span>-p 容器端口
</span></span><span style="display:flex;"><span>容器端口
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-p 		随机指定端口
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker images	#显示所有镜像
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#测试，启动并进入容器
</span></span><span style="display:flex;"><span>docker run -it centos /bin/bash
</span></span><span style="display:flex;"><span>linux的控制台一般在/bin下
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#exit退出，从容器退回主机
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">exit</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#列出所有正在运行的容器
</span></span><span style="display:flex;"><span>docker ps
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-a		#列出正在运行、历史运行过的容器
</span></span><span style="display:flex;"><span>-n=?	#显示最近的?个容器
</span></span><span style="display:flex;"><span>-q		#只显示容器的编号
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#删除镜像
</span></span><span style="display:flex;"><span>docker rm mysql 7ce93a845a8a
</span></span></code></pre></div><h3 id="退出容器">退出容器
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#退出</span>
</span></span><span style="display:flex;"><span>exit
</span></span></code></pre></div><h3 id="ctrlpq-退出容器不停止">ctrl+p+q #退出容器不停止
</h3><p><img src="/post/before/image-20240804001324303.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804001324303"
	
	
></p>
<p>此时就是没有停止，可以看到ps后查看所有正在运行的镜像，centos还在运行而没有停止。</p>
<p><img src="/post/before/image-20240804001412508.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804001412508"
	
	
></p>
<h3 id="删除容器">删除容器
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmd" data-lang="cmd"><span style="display:flex;"><span>docker rm 容器 容器的id
</span></span><span style="display:flex;"><span>docker rm -f $(docker ps -aq)#删除所有容器
</span></span><span style="display:flex;"><span>docker ps -a -qixargs docker rm #删除所有容器
</span></span></code></pre></div><h3 id="启动和停止容器">启动和停止容器
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmd" data-lang="cmd"><span style="display:flex;"><span>docker start 容器id
</span></span><span style="display:flex;"><span>docker restart 容器id	#重启
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker stop	容器id		#停止
</span></span><span style="display:flex;"><span>docker kill 容器id		#强制停止当前命令
</span></span></code></pre></div><p>停止</p>
<p><img src="/post/before/image-20240804001529501.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804001529501"
	
	
></p>
<h1 id="常用的其他命令">常用的其他命令
</h1><h2 id="后台运行">后台运行
</h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cmd" data-lang="cmd"><span style="display:flex;"><span>#docker run -d 镜像名
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker run -d centos
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>#后台运行必须要有前台服务，没有服务就会自杀——易错
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker ps 		#查看后发现centos停止了
</span></span></code></pre></div><p><img src="/post/before/image-20240804001638797.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804001638797"
	
	
></p>
<p>没有前台服务，exit后后台centos自动停止</p>
<h2 id="查看日志">查看日志
</h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker logs --help
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker losgs -f -t --tail 容器id			<span style="color:#75715e">#查看所有日志和时间戳</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker ps 
</span></span><span style="display:flex;"><span>docker run -it centos /bin/bash
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ctrl+p+q		<span style="color:#75715e">#退出容器不停止</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker logs -f -t tail <span style="color:#ae81ff">10</span> 容器id  	<span style="color:#75715e">#最近10条日志</span>
</span></span></code></pre></div><p>发现什么日志也没有，那么</p>
<ul>
<li>
<p>-tf 显示时间戳和log</p>
<p>&ndash;tail number #显示日志的条数</p>
</li>
</ul>
<h3 id="查看容器容器的信息源数据">查看容器（容器的信息、源数据）
</h3><h3 id="inspecttop命令">inspect、top命令
</h3><pre tabindex="0"><code>#命令
docker ps 

docker top 容器id	#
UID用户id PID是进程id

#!!!!!查看镜像源数据——显示容器的所有信息
发现
docker inspect --help

查看具体的操作
docker inspect 容器id 	#查看容器的源数据
</code></pre><h3 id="进入容器当前正在运行的">进入容器（当前正在运行的）
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span><span style="color:#75715e">#通常容器都是后台运行的，需要进行容器，修改一些配置</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#-it：交互模式运行</span>
</span></span><span style="display:flex;"><span>docker exec -it 容器id bin/bash
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#2方式attach</span>
</span></span><span style="display:flex;"><span>docker attach -it 容器id <span style="color:#75715e">#是进入正在运行的命令行</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker rm -f <span style="color:#66d9ef">$(</span>docker ps -aq<span style="color:#66d9ef">)</span>		<span style="color:#75715e">#删除所有</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker exec	<span style="color:#75715e">#进入容器后开启一个新的终端，可以在里面操作（常用）</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker attach	<span style="color:#75715e">#进入当前容器正在运行的终端，不会启动新的进程！</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker ps
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker images
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker run -it centos /bin/bash
</span></span></code></pre></div><h2 id="如何将容器文件拷主机">如何将容器文件拷主机
</h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span>cd /home 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>touch kaugnsheng.java
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ls
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker ps
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker attach 容器id
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cd /home	 <span style="color:#75715e">#此时在容器内</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ls
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>touch test.java
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>exit		<span style="color:#75715e">#虽然容器停止了，但是数据还在</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker ps
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker ps -a
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docer cp 容器id:/home/test.java /home		<span style="color:#75715e">#从容器拷贝到主机</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ls
</span></span></code></pre></div><p><img src="/post/before/image-20240804003139883.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804003139883"
	
	
></p>
<p><img src="/post/before/image-20240804003327965.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804003327965"
	
	
></p>
<h1 id="二用docker安装nginx">二、用docker安装nginx
</h1><p><a class="link" href="https://hub.docker.com/"  target="_blank" rel="noopener"
    >Docker Hub Container Image Library | App Containerization</a></p>
<h2 id="dockerhub">Dockerhub
</h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span><span style="color:#75715e">#1搜索镜像</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#2下载镜像</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker pull nginx</span>
</span></span><span style="display:flex;"><span>开放3344端口开放，公网的3344可以访问nginx01的80端口
</span></span><span style="display:flex;"><span>docker run -d --name nginx01 -p 3344:80 nginx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#-d 后台</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#--name 给容器命名</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#-p 宿主机:容器内端口</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker run -d --name nginx01 -p 3344:80 nginx</span>
</span></span><span style="display:flex;"><span>15d98bf175044e55e9e5743165cf1fb1256c67c015ea6b0326dd27320b1b018a
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker ps</span>
</span></span><span style="display:flex;"><span>CONTAINER ID   IMAGE                     COMMAND                  CREATED          STATUS          PORTS                                       NAMES
</span></span><span style="display:flex;"><span>15d98bf17504   nginx                     <span style="color:#e6db74">&#34;/docker-entrypoint.…&#34;</span>   <span style="color:#ae81ff">26</span> seconds ago   Up <span style="color:#ae81ff">25</span> seconds   0.0.0.0:3344-&gt;80/tcp, :::3344-&gt;80/tcp       nginx01
</span></span><span style="display:flex;"><span>39fd379b5760   centos                    <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              <span style="color:#ae81ff">18</span> minutes ago   Up <span style="color:#ae81ff">18</span> minutes                                               intelligent_lovelace
</span></span><span style="display:flex;"><span>726ca2e767ff   klakegg/hugo:latest-ext   <span style="color:#e6db74">&#34;hugo server&#34;</span>            <span style="color:#ae81ff">24</span> hours ago     Up <span style="color:#ae81ff">24</span> hours     0.0.0.0:1313-&gt;1313/tcp, :::1313-&gt;1313/tcp   affectionate_golick
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#本机自测通过了——在宿主机上开启3344端口，相当于映射到了docker上的nginx的80端口</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># curl localhost:3344</span>
</span></span><span style="display:flex;"><span>&lt;!DOCTYPE html&gt;
</span></span><span style="display:flex;"><span>&lt;html&gt;
</span></span><span style="display:flex;"><span>&lt;head&gt;
</span></span><span style="display:flex;"><span>&lt;title&gt;Welcome to nginx!&lt;/title&gt;
</span></span><span style="display:flex;"><span>&lt;style&gt;
</span></span><span style="display:flex;"><span>html <span style="color:#f92672">{</span> color-scheme: light dark; <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>body <span style="color:#f92672">{</span> width: 35em; margin: <span style="color:#ae81ff">0</span> auto;
</span></span><span style="display:flex;"><span>font-family: Tahoma, Verdana, Arial, sans-serif; <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>&lt;/style&gt;
</span></span><span style="display:flex;"><span>&lt;/head&gt;
</span></span><span style="display:flex;"><span>&lt;body&gt;
</span></span><span style="display:flex;"><span>&lt;h1&gt;Welcome to nginx!&lt;/h1&gt;
</span></span><span style="display:flex;"><span>&lt;p&gt;If you see this page, the nginx web server is successfully installed and
</span></span><span style="display:flex;"><span>working. Further configuration is required.&lt;/p&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;p&gt;For online documentation and support please refer to
</span></span><span style="display:flex;"><span>&lt;a href<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://nginx.org/&#34;</span>&gt;nginx.org&lt;/a&gt;.&lt;br/&gt;
</span></span><span style="display:flex;"><span>Commercial support is available at
</span></span><span style="display:flex;"><span>&lt;a href<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://nginx.com/&#34;</span>&gt;nginx.com&lt;/a&gt;.&lt;/p&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>&lt;p&gt;&lt;em&gt;Thank you <span style="color:#66d9ef">for</span> using nginx.&lt;/em&gt;&lt;/p&gt;
</span></span><span style="display:flex;"><span>&lt;/body&gt;
</span></span><span style="display:flex;"><span>&lt;/html&gt;
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e">#</span>
</span></span></code></pre></div><p><img src="/post/before/image-20240804004455200.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804004455200"
	
	
></p>
<p>现在在阿里云里就能localhost:3344访问到docker的nginx的80端口了</p>
<p>进入容器操作</p>
<p>docker exec -it nginx01 /bin/bash</p>
<p><img src="/post/before/image-20240804004827648.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804004827648"
	
	
></p>
<ul>
<li>如果阿里云防火墙安全组开了3344端口，那么外网是可以从：外网ip:3344可以访问到界面的。</li>
</ul>
<h2 id="可视化面板">可视化面板
</h2><ul>
<li>portainer（先用这个）</li>
<li>rancher（ci/cd）再用</li>
</ul>
<p>图形化界面管理工具,提供一个后台面板供我们操作。</p>
<p>外网8088端口</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span>docker run -d -p 8088:9000<span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>--restart<span style="color:#f92672">=</span>always -v /var/run/docker.sock:/var/run/docker.sock --privileged<span style="color:#f92672">=</span>true portainer/portainer
</span></span></code></pre></div><p>安装后外网的8088端口、设置阿里云安全组，然后即可访问ui界面，看得到多少个镜像、容器在运行和端口映射关系。</p>
<p>或者在curl localhost:8088然后在服务器中访问也可以。</p>
<p>可视化面板。</p>
<p>所有的应用，直接打包部署。</p>
<h2 id="镜像得到的方式">镜像得到的方式：
</h2><ul>
<li>远程仓库下载</li>
<li>朋友拷贝给你</li>
<li>自己制作镜像</li>
</ul>
<h1 id="三理解分层管理">三、理解分层管理
</h1><h2 id="联合文件系统unionfs">联合文件系统UnionFS
</h2><p>支持对文件系统的修改作为一次提交来一层层叠加。</p>
<p>tomcat和mysql都要用到某个linux内核，那么就只会新增。</p>
<p>层的概念，image+images</p>
<p>docker的镜像实际上是由一层层的文件系统组成的，这种层级的文件系统UnionFS</p>
<p><strong>黑屏&mdash;开机的过程中没有了，那么这段时间都是公用的。</strong></p>
<p>**bootfs(boot file system)**相当于省去了这段时间，更快。而且精简的内核OS，例如centos很小。</p>
<h2 id="分层">分层
</h2><p>docker pull redis</p>
<p>这一层已经存在了</p>
<p><img src="/post/before/image-20240804012426580.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804012426580"
	
	
></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span>docker image inspect redis:laest
</span></span></code></pre></div><h2 id="查看里面layers">查看里面layers
</h2><p><img src="/post/before/image-20240804012513441.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804012513441"
	
	
></p>
<p>在layer记录</p>
<p>打包的时候会有6个文件</p>
<p><img src="/post/before/image-20240804012617221.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804012617221"
	
	
></p>
<p>文件能实现替换，也能文件复用。</p>
<p>redis的联合文件系统的表示</p>
<p><img src="/post/before/image-20240804012800417.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804012800417"
	
	
></p>
<p>在layer中也是6个</p>
<p><img src="/post/before/image-20240804012843459.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804012843459"
	
	
></p>
<p>所以docker是分层下载的。</p>
<h1 id="特点">特点
</h1><p><img src="/post/before/image-20240804012936913.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804012936913"
	
	
></p>
<p>run起来的东西可以修改，而镜像是无法修改的。</p>
<p><img src="/post/before/image-20240804013113830.png"
	
	
	
	loading="lazy"
	
		alt="image-20240804013113830"
	
	
></p>
<h1 id="四如何提交自己的镜像">四、如何提交自己的镜像
</h1><h2 id="commit">commit
</h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>docker commit 提交容器成为一个新的副本
</span></span><span style="display:flex;"><span><span style="color:#75715e">#命令和git原理类似</span>
</span></span><span style="display:flex;"><span>docker commit -m <span style="color:#e6db74">&#34;提交描述的消息&#34;</span> -a<span style="color:#e6db74">&#34;作者&#34;</span>
</span></span></code></pre></div><h2 id="举例">举例：
</h2><p>将tomcat的docker的webapps的内文件拷贝打牌webapps中，制作一个webapps中有文件的镜像</p>
<p><img src="/post/before/image-20240805153529893.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805153529893"
	
	
></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span>docker images
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker run -it -p 8080:8080 tomcat		<span style="color:#75715e">#启动docker-tomcat</span>
</span></span></code></pre></div><p><img src="/post/before/image-20240805153051556.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805153051556"
	
	
></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span><span style="color:#75715e">#1.启动了tomcat的前台</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker ps 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker exec -it 容器id /bin/bash			<span style="color:#75715e">#进入了tomcat控制台</span>
</span></span></code></pre></div><p><img src="/post/before/image-20240805153151667.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805153151667"
	
	
></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span>cd webapps
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ls
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cd..
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ls
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cp -r webapps.dist/* webapps
</span></span></code></pre></div><p><img src="/post/before/image-20240805153228619.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805153228619"
	
	
></p>
<p><img src="/post/before/image-20240805153352187.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805153352187"
	
	
></p>
<h2 id="发布镜像">发布镜像
</h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>root@7803ab322d1d:/usr/local/tomcat/webapps# ls
</span></span><span style="display:flex;"><span>docs  examples  host-manager  manager  ROOT
</span></span><span style="display:flex;"><span>root@7803ab322d1d:/usr/local/tomcat/webapps# exit
</span></span><span style="display:flex;"><span>exit
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># docker ps</span>
</span></span><span style="display:flex;"><span>CONTAINER ID   IMAGE                     COMMAND                  CREATED          STATUS          PORTS                                                 NAMES
</span></span><span style="display:flex;"><span>7803ab322d1d   tomcat                    <span style="color:#e6db74">&#34;catalina.sh run&#34;</span>        <span style="color:#ae81ff">10</span> minutes ago   Up <span style="color:#ae81ff">10</span> minutes   8080/tcp, 0.0.0.0:8081-&gt;8081/tcp, :::8081-&gt;8081/tcp   cranky_payne
</span></span><span style="display:flex;"><span>15d98bf17504   nginx                     <span style="color:#e6db74">&#34;/docker-entrypoint.…&#34;</span>   <span style="color:#ae81ff">39</span> hours ago     Up <span style="color:#ae81ff">39</span> hours     0.0.0.0:3344-&gt;80/tcp, :::3344-&gt;80/tcp                 nginx01
</span></span><span style="display:flex;"><span>39fd379b5760   centos                    <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              <span style="color:#ae81ff">39</span> hours ago     Up <span style="color:#ae81ff">39</span> hours                                                           intelligent_lovelace
</span></span><span style="display:flex;"><span>726ca2e767ff   klakegg/hugo:latest-ext   <span style="color:#e6db74">&#34;hugo server&#34;</span>            <span style="color:#ae81ff">2</span> days ago       Up <span style="color:#ae81ff">2</span> days       0.0.0.0:1313-&gt;1313/tcp, :::1313-&gt;1313/tcp             affectionate_golick
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#4.将我们操作过的容器通过commit提交为一个新的镜像</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># docker commit -a=&#34;kuangsheng&#34; -m=&#34;add webapps applalala&#34; 7803ab322d1d tomcat02:1.0</span>
</span></span><span style="display:flex;"><span>sha256:73725f496f3b9c35005b2089ec45f577ed62958d9bf00ca0c3b91455bc683e34
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># docker images</span>
</span></span><span style="display:flex;"><span>REPOSITORY     TAG          IMAGE ID       CREATED          SIZE
</span></span><span style="display:flex;"><span>tomcat02       1.0          73725f496f3b   <span style="color:#ae81ff">11</span> seconds ago   466MB
</span></span><span style="display:flex;"><span>tomcat         latest       2a60d35653ea   <span style="color:#ae81ff">10</span> days ago      461MB
</span></span><span style="display:flex;"><span>nginx          latest       a72860cb95fd   <span style="color:#ae81ff">6</span> weeks ago      188MB
</span></span><span style="display:flex;"><span>klakegg/hugo   latest-ext   b34dd4f95ea2   <span style="color:#ae81ff">14</span> months ago    1.02GB
</span></span><span style="display:flex;"><span>hello-world    latest       d2c94e258dcb   <span style="color:#ae81ff">15</span> months ago    13.3kB
</span></span><span style="display:flex;"><span>centos         latest       5d0da3dc9764   <span style="color:#ae81ff">2</span> years ago      231MB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># </span>
</span></span></code></pre></div><p><img src="/post/before/image-20240805153835686.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805153835686"
	
	
></p>
<p><img src="/post/before/image-20240805154014112.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805154014112"
	
	
></p>
<p>类比学习：VM的快照。</p>
<h1 id="容器数据卷">容器数据卷
</h1><h2 id="什么是容器数据卷">什么是容器数据卷？
</h2><p>docker的理念回顾，应用和环境打包为一个镜像！</p>
<p>数据？如果数据在容器中，那么将容器删除，数据就会丢失！<strong>需求：数据可以持久化</strong></p>
<p>MySQL，容器删了，删除跑路！<strong>需求：MySQL数据可以存储在本地</strong></p>
<p>卷技术就是这样！</p>
<p>目录的挂在，将容器内的目录挂载到Linux上面！</p>
<p><img src="/post/before/image-20240805154732926.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805154732926"
	
	
></p>
<h3 id="总结容器的持久化和同步操作容器间也是可以数据共享的">总结：容器的持久化和同步操作容器间也是可以数据共享的！
</h3><h2 id="使用数据卷">使用数据卷
</h2><ul>
<li>方法一、直接使用命令来挂载 -v</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span>docker run -it -v 主机目录:容器目录
</span></span><span style="display:flex;"><span><span style="color:#75715e">#测试</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker run -it -v /home/ceshi:/home centos /bin/bash</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#可以看到宿主机有了/ceshi目录</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># cd home</span>
</span></span><span style="display:flex;"><span>-bash: cd: home: No such file or directory
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># cd /home</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># ls</span>
</span></span><span style="display:flex;"><span>ceshi  git  git_1  kaungsheng.java  lighthouse  PoolBee  www
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#centos的容器的/home目录</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># cd /homge</span>
</span></span><span style="display:flex;"><span>-bash: cd: /homge: No such file or directory
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># cd /home</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># ls</span>
</span></span><span style="display:flex;"><span>git  git_1  kaungsheng.java  lighthouse  PoolBee  www
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker run -it -v /home/ceshi:/home centos /bin/bash</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@783df7f8b77c /<span style="color:#f92672">]</span><span style="color:#75715e"># cd /home</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@783df7f8b77c home<span style="color:#f92672">]</span><span style="color:#75715e"># ls </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@783df7f8b77c home<span style="color:#f92672">]</span><span style="color:#75715e"># </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#以后外部放的文件以后就会和docker的cenos的/home目录同步</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#查看centos的容器的信息</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker inspect 783df7f8b77c</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Mount中</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;Mounts&#34;</span>: <span style="color:#f92672">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;Type&#34;</span>: <span style="color:#e6db74">&#34;bind&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;Source&#34;</span>: <span style="color:#e6db74">&#34;/home/ceshi&#34;</span>,#主机内地址
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;Destination&#34;</span>: <span style="color:#e6db74">&#34;/home&#34;</span>,#docker容器内地址
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;Mode&#34;</span>: <span style="color:#e6db74">&#34;&#34;</span>,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;RW&#34;</span>: true,
</span></span><span style="display:flex;"><span>                <span style="color:#e6db74">&#34;Propagation&#34;</span>: <span style="color:#e6db74">&#34;rprivate&#34;</span>
</span></span><span style="display:flex;"><span>            <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">]</span>,
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span><span style="color:#75715e">#测试</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#可以看到主机中是空的</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># cd ceshi</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ceshi<span style="color:#f92672">]</span><span style="color:#75715e"># ls</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ceshi<span style="color:#f92672">]</span><span style="color:#75715e"># </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#在容器中创建test.java</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@783df7f8b77c home<span style="color:#f92672">]</span><span style="color:#75715e"># touch test.java</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@783df7f8b77c home<span style="color:#f92672">]</span><span style="color:#75715e"># </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#后续在主机中查看到传过来了！</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ceshi<span style="color:#f92672">]</span><span style="color:#75715e"># ls</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ceshi<span style="color:#f92672">]</span><span style="color:#75715e"># ls</span>
</span></span><span style="display:flex;"><span>test.java
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ceshi<span style="color:#f92672">]</span><span style="color:#75715e"># </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>同步的过程
</span></span></code></pre></div><p><img src="/post/before/image-20240805160033812.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805160033812"
	
	
></p>
<p><img src="/post/before/image-20240805155608500.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805155608500"
	
	
></p>
<h4 id="如果容器停止但是在linux的文件夹更改还是会同步到容器内绑定的文件夹">如果容器停止，但是在Linux的文件夹更改，还是会同步到容器内绑定的文件夹！
</h4><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span><span style="color:#75715e">#如果容器停止，但是在Linux的文件夹更改，还是会同步到容器内绑定的文件夹！</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#1.让容器停止</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker ps</span>
</span></span><span style="display:flex;"><span>CONTAINER ID   IMAGE                     COMMAND                  CREATED        STATUS        PORTS                                       NAMES
</span></span><span style="display:flex;"><span>15d98bf17504   nginx                     <span style="color:#e6db74">&#34;/docker-entrypoint.…&#34;</span>   <span style="color:#ae81ff">39</span> hours ago   Up <span style="color:#ae81ff">39</span> hours   0.0.0.0:3344-&gt;80/tcp, :::3344-&gt;80/tcp       nginx01
</span></span><span style="display:flex;"><span>39fd379b5760   centos                    <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              <span style="color:#ae81ff">40</span> hours ago   Up <span style="color:#ae81ff">40</span> hours                                               intelligent_lovelace
</span></span><span style="display:flex;"><span>726ca2e767ff   klakegg/hugo:latest-ext   <span style="color:#e6db74">&#34;hugo server&#34;</span>            <span style="color:#ae81ff">2</span> days ago     Up <span style="color:#ae81ff">2</span> days     0.0.0.0:1313-&gt;1313/tcp, :::1313-&gt;1313/tcp   affectionate_golick
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># stop 39fd379b5760</span>
</span></span><span style="display:flex;"><span>bash: stop: command not found...
</span></span><span style="display:flex;"><span>Similar command is: <span style="color:#e6db74">&#39;top&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker stop 39fd379b5760</span>
</span></span><span style="display:flex;"><span>39fd379b5760
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker ps</span>
</span></span><span style="display:flex;"><span>CONTAINER ID   IMAGE                     COMMAND                  CREATED        STATUS        PORTS                                       NAMES
</span></span><span style="display:flex;"><span>15d98bf17504   nginx                     <span style="color:#e6db74">&#34;/docker-entrypoint.…&#34;</span>   <span style="color:#ae81ff">39</span> hours ago   Up <span style="color:#ae81ff">39</span> hours   0.0.0.0:3344-&gt;80/tcp, :::3344-&gt;80/tcp       nginx01
</span></span><span style="display:flex;"><span>726ca2e767ff   klakegg/hugo:latest-ext   <span style="color:#e6db74">&#34;hugo server&#34;</span>            <span style="color:#ae81ff">2</span> days ago     Up <span style="color:#ae81ff">2</span> days     0.0.0.0:1313-&gt;1313/tcp, :::1313-&gt;1313/tcp   affectionate_golick
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#修改宿主机中的文件</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#启动容器进行查看</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker ps -a</span>
</span></span><span style="display:flex;"><span>CONTAINER ID   IMAGE                     COMMAND                  CREATED          STATUS                        PORTS                                       NAMES
</span></span><span style="display:flex;"><span>09b5fac024a8   5d0da3dc9764              <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              <span style="color:#ae81ff">2</span> minutes ago    Exited <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span> <span style="color:#ae81ff">2</span> minutes ago                                                  objective_noyce
</span></span><span style="display:flex;"><span>783df7f8b77c   centos                    <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              <span style="color:#ae81ff">19</span> minutes ago   Exited <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span> <span style="color:#ae81ff">10</span> minutes ago                                                 affectionate_shaw
</span></span><span style="display:flex;"><span>7803ab322d1d   tomcat                    <span style="color:#e6db74">&#34;catalina.sh run&#34;</span>        <span style="color:#ae81ff">46</span> minutes ago   Exited <span style="color:#f92672">(</span>130<span style="color:#f92672">)</span> <span style="color:#ae81ff">22</span> minutes ago                                               cranky_payne
</span></span><span style="display:flex;"><span>15d98bf17504   nginx                     <span style="color:#e6db74">&#34;/docker-entrypoint.…&#34;</span>   <span style="color:#ae81ff">40</span> hours ago     Up <span style="color:#ae81ff">40</span> hours                   0.0.0.0:3344-&gt;80/tcp, :::3344-&gt;80/tcp       nginx01
</span></span><span style="display:flex;"><span>a17f2df4b0c2   centos                    <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              <span style="color:#ae81ff">40</span> hours ago     Exited <span style="color:#f92672">(</span>127<span style="color:#f92672">)</span> <span style="color:#ae81ff">40</span> hours ago                                                 eloquent_northcutt
</span></span><span style="display:flex;"><span>223a694af194   centos                    <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              <span style="color:#ae81ff">40</span> hours ago     Exited <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span> <span style="color:#ae81ff">40</span> hours ago                                                   magical_volhard
</span></span><span style="display:flex;"><span>39fd379b5760   centos                    <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              <span style="color:#ae81ff">40</span> hours ago     Exited <span style="color:#f92672">(</span>127<span style="color:#f92672">)</span> <span style="color:#ae81ff">4</span> minutes ago                                                intelligent_lovelace
</span></span><span style="display:flex;"><span>28e3e9b4ecdf   centos                    <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              <span style="color:#ae81ff">40</span> hours ago     Exited <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span> <span style="color:#ae81ff">40</span> hours ago                                                   unruffled_sinoussi
</span></span><span style="display:flex;"><span>f75f0b03f939   centos                    <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              <span style="color:#ae81ff">40</span> hours ago     Exited <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span> <span style="color:#ae81ff">40</span> hours ago                                                   vigilant_euclid
</span></span><span style="display:flex;"><span>aa158bb7f0e1   centos                    <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              <span style="color:#ae81ff">40</span> hours ago     Exited <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span> <span style="color:#ae81ff">40</span> hours ago                                                   elated_robinson
</span></span><span style="display:flex;"><span>d6dfa990d314   centos                    <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              <span style="color:#ae81ff">40</span> hours ago     Exited <span style="color:#f92672">(</span>127<span style="color:#f92672">)</span> <span style="color:#ae81ff">40</span> hours ago                                                 nervous_montalcini
</span></span><span style="display:flex;"><span>9101ac141b0f   centos                    <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              <span style="color:#ae81ff">40</span> hours ago     Exited <span style="color:#f92672">(</span>127<span style="color:#f92672">)</span> <span style="color:#ae81ff">40</span> hours ago                                                 competent_mcnulty
</span></span><span style="display:flex;"><span>02cd07c4283d   centos                    <span style="color:#e6db74">&#34;/bin/basj&#34;</span>              <span style="color:#ae81ff">40</span> hours ago     Created                                                                   upbeat_driscoll
</span></span><span style="display:flex;"><span>9b872200a3b3   centos                    <span style="color:#e6db74">&#34;/bin/bash&#34;</span>              <span style="color:#ae81ff">40</span> hours ago     Exited <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span> <span style="color:#ae81ff">40</span> hours ago                                                   stoic_kepler
</span></span><span style="display:flex;"><span>8512fca58a26   centos                    <span style="color:#e6db74">&#34;/bin/basj&#34;</span>              <span style="color:#ae81ff">40</span> hours ago     Created                                                                   hungry_sutherland
</span></span><span style="display:flex;"><span>7fd5a54afd95   hello-world               <span style="color:#e6db74">&#34;/hello&#34;</span>                 <span style="color:#ae81ff">2</span> days ago       Exited <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span> <span style="color:#ae81ff">2</span> days ago                                                     cool_turing
</span></span><span style="display:flex;"><span>726ca2e767ff   klakegg/hugo:latest-ext   <span style="color:#e6db74">&#34;hugo server&#34;</span>            <span style="color:#ae81ff">2</span> days ago       Up <span style="color:#ae81ff">2</span> days                     0.0.0.0:1313-&gt;1313/tcp, :::1313-&gt;1313/tcp   affectionate_golick
</span></span><span style="display:flex;"><span>59e514225874   klakegg/hugo:latest-ext   <span style="color:#e6db74">&#34;hugo&#34;</span>                   <span style="color:#ae81ff">2</span> days ago       Exited <span style="color:#f92672">(</span>255<span style="color:#f92672">)</span> <span style="color:#ae81ff">2</span> days ago                                                   confident_bassi
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker start 783df7f8b77c</span>
</span></span><span style="display:flex;"><span>783df7f8b77c
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker attach 783df7f8b77c</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@783df7f8b77c /<span style="color:#f92672">]</span><span style="color:#75715e"># cd /home</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@783df7f8b77c home<span style="color:#f92672">]</span><span style="color:#75715e"># ls</span>
</span></span><span style="display:flex;"><span>test.java
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@783df7f8b77c home<span style="color:#f92672">]</span><span style="color:#75715e"># cat test/java</span>
</span></span><span style="display:flex;"><span>cat: test/java: No such file or directory
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@783df7f8b77c home<span style="color:#f92672">]</span><span style="color:#75715e"># cat test.java</span>
</span></span><span style="display:flex;"><span>hello linux update
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@783df7f8b77c home<span style="color:#f92672">]</span><span style="color:#75715e"># </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#可以看到成功了！</span>
</span></span></code></pre></div><p>好处：以后在本地修改，容器中会自动同步。</p>
<h2 id="实战安装mysql">实战：安装MySQL
</h2><p><strong>思考：MySQL的数据持久化问题！</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span><span style="color:#75715e">#下载mysql</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#docker search mysql</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#进官网看版本</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#docker pull mysql:5.7</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker pull mysql:5.7</span>
</span></span><span style="display:flex;"><span>5.7: Pulling from library/mysql
</span></span><span style="display:flex;"><span>20e4dcae4c69: Downloading <span style="color:#f92672">[=============</span>&gt;                                     <span style="color:#f92672">]</span>  13.71MB/50.5MB
</span></span><span style="display:flex;"><span>1c56c3d4ce74: Download complete 
</span></span><span style="display:flex;"><span>e9f03a1c24ce: Download complete 
</span></span><span style="display:flex;"><span>68c3898c2015: Download complete 
</span></span><span style="display:flex;"><span>6b95a940e7b6: Download complete 
</span></span><span style="display:flex;"><span>90986bb8de6e: Download complete 
</span></span><span style="display:flex;"><span>ae71319cb779: Waiting 
</span></span><span style="display:flex;"><span>ffc89e9dfd88: Download complete 
</span></span><span style="display:flex;"><span>43d05e938198: Waiting 
</span></span><span style="display:flex;"><span>064b2d298fba: Waiting 
</span></span><span style="display:flex;"><span>df9a4d85569b: Waiting 
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker images</span>
</span></span><span style="display:flex;"><span>REPOSITORY     TAG          IMAGE ID       CREATED          SIZE
</span></span><span style="display:flex;"><span>tomcat02       1.0          73725f496f3b   <span style="color:#ae81ff">49</span> minutes ago   466MB
</span></span><span style="display:flex;"><span>tomcat         latest       2a60d35653ea   <span style="color:#ae81ff">10</span> days ago      461MB
</span></span><span style="display:flex;"><span>nginx          latest       a72860cb95fd   <span style="color:#ae81ff">6</span> weeks ago      188MB
</span></span><span style="display:flex;"><span>mysql          5.7          5107333e08a8   <span style="color:#ae81ff">7</span> months ago     501MB
</span></span><span style="display:flex;"><span>klakegg/hugo   latest-ext   b34dd4f95ea2   <span style="color:#ae81ff">14</span> months ago    1.02GB
</span></span><span style="display:flex;"><span>hello-world    latest       d2c94e258dcb   <span style="color:#ae81ff">15</span> months ago    13.3kB
</span></span><span style="display:flex;"><span>centos         latest       5d0da3dc9764   <span style="color:#ae81ff">2</span> years ago      231MB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#运行容器进行数据挂载</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#安装启动mysql，要配置【用户密码】</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#去docker hub找mysql</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker images</span>
</span></span><span style="display:flex;"><span>REPOSITORY     TAG          IMAGE ID       CREATED          SIZE
</span></span><span style="display:flex;"><span>tomcat02       1.0          73725f496f3b   <span style="color:#ae81ff">49</span> minutes ago   466MB
</span></span><span style="display:flex;"><span>tomcat         latest       2a60d35653ea   <span style="color:#ae81ff">10</span> days ago      461MB
</span></span><span style="display:flex;"><span>nginx          latest       a72860cb95fd   <span style="color:#ae81ff">6</span> weeks ago      188MB
</span></span><span style="display:flex;"><span>mysql          5.7          5107333e08a8   <span style="color:#ae81ff">7</span> months ago     501MB
</span></span><span style="display:flex;"><span>klakegg/hugo   latest-ext   b34dd4f95ea2   <span style="color:#ae81ff">14</span> months ago    1.02GB
</span></span><span style="display:flex;"><span>hello-world    latest       d2c94e258dcb   <span style="color:#ae81ff">15</span> months ago    13.3kB
</span></span><span style="display:flex;"><span>centos         latest       5d0da3dc9764   <span style="color:#ae81ff">2</span> years ago      231MB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># docker run -d -p 3310:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql:5.7</span>
</span></span><span style="display:flex;"><span>4d55165721b1195ccfb240b39dcf2f5cb9d8edd50095305d4197ae55391fbf5b
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#启动我们的mysql</span>
</span></span><span style="display:flex;"><span>-d 后台运行
</span></span><span style="display:flex;"><span>-p 端口映射
</span></span><span style="display:flex;"><span>-v 卷挂载
</span></span><span style="display:flex;"><span>-e 环境配置
</span></span><span style="display:flex;"><span>--name 容器名字
</span></span></code></pre></div><p><a class="link" href="https://hub.docker.com/_/mysql"  target="_blank" rel="noopener"
    >mysql - Official Image | Docker Hub</a></p>
<p>官网中</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>$ docker run --name some-mysql -e MYSQL_ROOT_PASSWORD<span style="color:#f92672">=</span>my-secret-pw -d mysql:tag
</span></span></code></pre></div><p>-e MYSQL_ROOT_PASSWORD=123456 &ndash;name mysql01 mysql:5.7</p>
<p>-e 就是配置环境，那么这里就是设置密码</p>
<h2 id="新建mysql连接">新建Mysql连接
</h2><p>阿里云安全组、本地防火墙、虚拟机防火墙。</p>
<p><img src="/post/before/image-20240805164131422.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805164131422"
	
	
></p>
<p>且要保证这个是有程序占用的！</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span><span style="color:#75715e">#云服务器LinuxCentos上打开3306,命令行打开或图形化界面打开</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#腾讯云安全组设置，本机windows设置防火墙设置出站规则</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># firewall-cmd --permanent --add-port=3306/tcp</span>
</span></span><span style="display:flex;"><span>success
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># firewall-cmd --reload</span>
</span></span><span style="display:flex;"><span>success
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos home<span style="color:#f92672">]</span><span style="color:#75715e"># </span>
</span></span></code></pre></div><p>宝塔面板中可以看到状态，而腾讯云的看不到</p>
<p><img src="/post/before/image-20240805173115153.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805173115153"
	
	
></p>
<p>重启服务器，然后在宝塔中查看状态为未使用。</p>
<h5 id="已经下载了mysql57镜像然后又删除了原本的mysql01容器然后重新根据景象创建成功了">已经下载了mysql5.7镜像，然后又删除了原本的mysql01容器，然后重新根据景象创建，成功了！
</h5><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># docker images</span>
</span></span><span style="display:flex;"><span>REPOSITORY     TAG          IMAGE ID       CREATED         SIZE
</span></span><span style="display:flex;"><span>tomcat02       1.0          73725f496f3b   <span style="color:#ae81ff">2</span> hours ago     466MB
</span></span><span style="display:flex;"><span>tomcat         latest       2a60d35653ea   <span style="color:#ae81ff">10</span> days ago     461MB
</span></span><span style="display:flex;"><span>nginx          latest       a72860cb95fd   <span style="color:#ae81ff">6</span> weeks ago     188MB
</span></span><span style="display:flex;"><span>mysql          5.7          5107333e08a8   <span style="color:#ae81ff">7</span> months ago    501MB
</span></span><span style="display:flex;"><span>klakegg/hugo   latest-ext   b34dd4f95ea2   <span style="color:#ae81ff">14</span> months ago   1.02GB
</span></span><span style="display:flex;"><span>hello-world    latest       d2c94e258dcb   <span style="color:#ae81ff">15</span> months ago   13.3kB
</span></span><span style="display:flex;"><span>centos         latest       5d0da3dc9764   <span style="color:#ae81ff">2</span> years ago     231MB
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># docker run -d -p 3310:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql:5.7</span>
</span></span><span style="display:flex;"><span>docker: Error response from daemon: Conflict. The container name <span style="color:#e6db74">&#34;/mysql01&#34;</span> is already in use by container <span style="color:#e6db74">&#34;4d55165721b1195ccfb240b39dcf2f5cb9d8edd50095305d4197ae55391fbf5b&#34;</span>. You have to remove <span style="color:#f92672">(</span>or rename<span style="color:#f92672">)</span> that container to be able to reuse that name.
</span></span><span style="display:flex;"><span>See <span style="color:#e6db74">&#39;docker run --help&#39;</span>.
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># stop mysql01</span>
</span></span><span style="display:flex;"><span>bash: stop: command not found...
</span></span><span style="display:flex;"><span>Similar command is: <span style="color:#e6db74">&#39;top&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># docker stop mysql01</span>
</span></span><span style="display:flex;"><span>mysql01
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># </span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># docker rm mysql01</span>
</span></span><span style="display:flex;"><span>mysql01
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#两个容器数据卷进行挂载</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql </span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#1.宿主机/home/mysql/conf---&gt;docker的/etc/mysql/conf.d    mysql的配置文件</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#2.宿主机/home/mysql/data---&gt;docker的/var/lib/mysql 	mysql的数据文件</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># docker run -d -p 3310:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql01 mysql:5.7</span>
</span></span><span style="display:flex;"><span>f669f7ef2710692ff207cd5b8889e77289d3631e5419e494ad056fd0e405f504
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>root@VM-12-5-centos ~<span style="color:#f92672">]</span><span style="color:#75715e"># </span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#启动成功后本地是有sqlyog来测试</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#sqlyog--连接到服务器的3310--3310和容器中的3306映射，这个时候可以连接上了</span>
</span></span></code></pre></div><h2 id="具名和匿名挂载">具名和匿名挂载
</h2><h3 id="匿名挂载">匿名挂载
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-v 容器内路径
</span></span><span style="display:flex;"><span>docker run -d -p --name nginx01 -v /etc/nginx nginx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker  volume --help
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker volum ls	 		<span style="color:#75715e">#查看所有volum的镜像</span>
</span></span></code></pre></div><p>docker volume ls</p>
<p>这些都是匿名卷，每一个VOLUME NAME</p>
<p><img src="/post/before/image-20240805180512950.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805180512950"
	
	
></p>
<p>只写了容器内的路径，没有写容器外的路径。</p>
<h3 id="具名挂载">具名挂载
</h3><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span><span style="color:#75715e">#具名挂载</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#通过 -v 卷名:容器内路径</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>ls 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker run -d -P<span style="color:#f92672">(</span>随机映射端口<span style="color:#f92672">)</span> --name nginx02 -v juming-nginx:/etc/nginx nginx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#juming-nginx这个代表是-v的名字VOLUMN NAME而不是路径。</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#看一下这个卷</span>
</span></span></code></pre></div><p><img src="/post/before/image-20240805180838927.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805180838927"
	
	
></p>
<h1 id="image-20240805181104283postbeforeimage-20240805181104283png"><img src="/post/before/image-20240805181104283.png"
	
	
	
	loading="lazy"
	
		alt="image-20240805181104283"
	
	
>
</h1><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span><span style="color:#75715e">#是在/var/lib/docker/volumes/juming-nginx/_data</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#	里面就是默认的具名挂载的位置</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#/var/lib/docker/volumes	所有卷存储的位置</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#/var/lib/docker		docker的所有的文件</span>
</span></span></code></pre></div><h2 id="如何确定是具名挂载还是匿名挂载还是指定路径挂载">如何确定是具名挂载还是匿名挂载，还是指定路径挂载！
</h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span>-V容器内路径
</span></span><span style="display:flex;"><span><span style="color:#75715e">#匿名挂载</span>
</span></span><span style="display:flex;"><span>-V卷名：容器内路径
</span></span><span style="display:flex;"><span><span style="color:#75715e">#具名挂载</span>
</span></span><span style="display:flex;"><span>-V/宿主机路径：：容器内路径#指定路径挂载！
</span></span></code></pre></div><h2 id="拓展-v-容器内路径ro--rw--改变读写权限">拓展：-v 容器内路径:ro  rw  改变读写权限
</h2><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-SHELL" data-lang="SHELL"><span style="display:flex;"><span><span style="color:#75715e">#通过 -v 容器内路径:ro  rw  改变读写权限</span>
</span></span><span style="display:flex;"><span>ro 	readonly	<span style="color:#75715e">#只读</span>
</span></span><span style="display:flex;"><span>rw	readwrite	<span style="color:#75715e">#可读可写</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker run -d -P<span style="color:#f92672">(</span>随机映射端口<span style="color:#f92672">)</span> --name nginx02 -v juming-nginx:/etc/nginx:ro nginx
</span></span><span style="display:flex;"><span>docker run -d -P<span style="color:#f92672">(</span>随机映射端口<span style="color:#f92672">)</span> --name nginx02 -v juming-nginx:/etc/nginx:rw nginx
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ro 只要看到ro说明路径只能通过宿主机来操作，容器内部是无法操作的。</span>
</span></span></code></pre></div>


    
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/tags/hugo/">Hugo</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    
        <div class="article-list--compact links">
    
        <article>
            <a href="https://www.bilibili.com/video/BV1og4y1q7M4/?p=2&amp;spm_id_from=pageDriver&amp;vd_source=7380129e81d052c5b32ce598508c71d5" target="_blank" rel="noopener">
                <div class="article-details">
                    <h2 class="article-title">哔哩哔哩</h2>
                    <footer class="article-time">
                        
                            哔哩哔哩
                        
                    </footer>
                </div>
        
                
                    
                    
                    <div class="article-image">
                        <img src="/post/logo/Bilibili_Logo_Blue.svg" loading="lazy">
                    </div>
                
            </a>
        </article>
    
        <article>
            <a href="https://docs.docker.com/reference/" target="_blank" rel="noopener">
                <div class="article-details">
                    <h2 class="article-title">Docker官方帮助文档</h2>
                    <footer class="article-time">
                        
                            Docker官方帮助文档
                        
                    </footer>
                </div>
        
                
                    
                    
                    <div class="article-image">
                        <img src="/post/logo/docker-logo-128.png" loading="lazy">
                    </div>
                
            </a>
        </article>
    
        <article>
            <a href="https://stack-docs.netlify.app/zh/" target="_blank" rel="noopener">
                <div class="article-details">
                    <h2 class="article-title">MySQL镜像</h2>
                    <footer class="article-time">
                        
                            MySQL的docker镜像
                        
                    </footer>
                </div>
        
                
                    
                    
                    <div class="article-image">
                        <img src="/post/logo/mysql-logo-128.png" loading="lazy">
                    </div>
                
            </a>
        </article>
    
        <article>
            <a href="https://commons.wikimedia.org/w/index.php?curid=147825582" target="_blank" rel="noopener">
                <div class="article-details">
                    <h2 class="article-title">Docker的封面来源</h2>
                    <footer class="article-time">
                        
                            作者 Docker, Inc. - https://www.docker.com/，Apache License 2.0，
                        
                    </footer>
                </div>
        
                
                    
                    
                    <div class="article-image">
                        <img src="/post/cover/docker-cover.png" loading="lazy">
                    </div>
                
            </a>
        </article>
    
</div>
    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">相关文章</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/post/%E5%BB%BA%E7%AB%992024.07.26-1/">
        
        
            <div class="article-image">
                
                    <img src="/post/cover/stack-logo-128.png" loading="lazy" data-key="建站2024.07.26-1" data-hash="/post/cover/stack-logo-128.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Hugo主题配置记录-7月26日博客更新日志</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/post/%E5%BB%BA%E7%AB%992024.07.23/">
        
        
            <div class="article-image">
                
                    <img src="/post/cover/stack-logo-128.png" loading="lazy" data-key="建站2024.07.23" data-hash="/post/cover/stack-logo-128.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Hugo主题配置记录-7月23日博客更新日志</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/post/%E5%BB%BA%E7%AB%992024.07.21/">
        
        
            <div class="article-image">
                
                    <img src="/post/cover/stack-logo-128.png" loading="lazy" data-key="建站2024.07.21" data-hash="/post/cover/stack-logo-128.png"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Hugo主题配置记录-7月21日博客更新日志</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src='//unpkg.com/@waline/client@v2/dist/waline.js'></script>
<link href='//unpkg.com/@waline/client@v2/dist/waline.css' rel='stylesheet'/>
<div id="waline" class="waline-container"></div>
<style>
    .waline-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
        --waline-font-size: var(--article-font-size);
    }
    .waline-container .wl-count {
        color: var(--card-text-color-main);
    }
</style><script>
    
    Waline.init({"dark":"html[data-scheme=\"dark\"]","el":"#waline","emoji":["https://cdn.jsdelivr.net/gh/walinejs/emojis/weibo"],"lang":"zh-CN","locale":{"admin":"Admin","placeholder":"说点什么吧~~请填写正确的昵称和邮箱，方便接受评论回复信息"},"requiredMeta":["nick","mail","url"],"serverURL":"https://waline-poolbee.vercel.app"});
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2023 - 
        
        2024 PoolBee的博客
    </section>
    
    
    <a href="https://github.com/PoolBee/PoolBee.github.io" target="_blank">
        <img src="https://ghchart.rshah.org/poolbee" />
    </a>
    

    <section class="powerby">
         <br />
        
    </section>


    <section class="count_info">
    
        <div>
            在漫长的
            <span id="ds" class="running-days"></span>
            天
            <span id="hs" class="running-days"></span>
            小时
            <span id="ms" class="running-days"></span>
            分钟中
        </div>

    
        <div>
            
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
            
                
             
             
          
            
       
            · 写下 15 篇文章、总计 5.70 k 字
        </div> 

    
        <div>
            <span id="busuanzi_container_site_pv">· 迎接<span id="busuanzi_value_site_pv"></span>次不期而遇。</span>
        </div>
        
    </section>
    


    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	 
        


    <script>
        let s1 = '2023-6-09'; 
        s1 = new Date(s1.replace(/-/g, "/"));
        let s2 = new Date();
        let timeDifference = s2.getTime() - s1.getTime();

        let days = Math.floor(timeDifference / (1000 * 60 * 60 * 24));
        let hours = Math.floor((timeDifference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        let minutes = Math.floor((timeDifference % (1000 * 60 * 60)) / (1000 * 60));
        document.getElementById('ds').innerHTML = days;
        document.getElementById('hs').innerHTML = hours;
        document.getElementById('ms').innerHTML = minutes;
        
    </script>
    
</footer>
<style>
     
.site-footer {
    text-align: center;
}
</style>

    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            
        </main>
        
    </div>

    <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.js" defer></script><script type="text/javascript" src="/ts/custom.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>



<script
    src="https://cdn.jsdelivr.net/gh/zhixuan2333/gh-blog@v0.1.0/js/nprogress.min.js"
    integrity="sha384-bHDlAEUFxsRI7JfULv3DTpL2IXbbgn4JHQJibgo5iiXSK6Iu8muwqHANhun74Cqg"
    crossorigin="anonymous"
></script>
<link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/gh/zhixuan2333/gh-blog@v0.1.0/css/nprogress.css"
    integrity="sha384-KJyhr2syt5+4M9Pz5dipCvTrtvOmLk/olWVdfhAp858UCa64Ia5GFpTN7+G4BWpE"
    crossorigin="anonymous"
/>
<script>
    NProgress.start();
    document.addEventListener("readystatechange", () => {
        if (document.readyState === "interactive") NProgress.inc(0.8);
        if (document.readyState === "complete") NProgress.done();
    });
</script>

    
    
</body>
</html>
