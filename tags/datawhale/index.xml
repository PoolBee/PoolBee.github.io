<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Datawhale on PoolBeeçš„åšå®¢</title>
        <link>http://localhost:1313/tags/datawhale/</link>
        <description>Recent content in Datawhale on PoolBeeçš„åšå®¢</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <lastBuildDate>Mon, 02 Sep 2024 03:27:30 +0000</lastBuildDate><atom:link href="http://localhost:1313/tags/datawhale/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>å¤§æ¨¡å‹åº”ç”¨å¼€å‘æ€»ç»“-æç¤ºè¯</title>
        <link>http://localhost:1313/post/prompt/</link>
        <pubDate>Mon, 02 Sep 2024 03:27:30 +0000</pubDate>
        
        <guid>http://localhost:1313/post/prompt/</guid>
        <description>&lt;img src="http://localhost:1313/post/cover/prompt_cover.png" alt="Featured image of post å¤§æ¨¡å‹åº”ç”¨å¼€å‘æ€»ç»“-æç¤ºè¯" /&gt;&lt;h1 id=&#34;å¤§æ¨¡å‹å¼€å‘æ€»ç»“-æç¤ºè¯&#34;&gt;å¤§æ¨¡å‹å¼€å‘æ€»ç»“-æç¤ºè¯
&lt;/h1&gt;&lt;h1 id=&#34;ä¸€ragæŠ€æœ¯&#34;&gt;ä¸€ã€RAGæŠ€æœ¯
&lt;/h1&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://poolbee.top/post/rag/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¤§æ¨¡å‹RAGåŸºç¡€çŸ¥è¯† (poolbee.top)&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&#34;äºŒpromptç¼–å†™æŠ€å·§&#34;&gt;äºŒã€promptç¼–å†™æŠ€å·§
&lt;/h1&gt;&lt;h2 id=&#34;1ä½¿ç”¨ç‰¹æ®Šç¬¦å·è¿›è¡Œå¼ºè°ƒåˆ†éš”&#34;&gt;1.ä½¿ç”¨ç‰¹æ®Šç¬¦å·è¿›è¡Œå¼ºè°ƒã€åˆ†éš”
&lt;/h2&gt;&lt;p&gt;ç»“æ„åŒ–è¾“å‡ºï¼ˆä¾‹å¦‚ï¼šjsonæ ¼å¼ï¼Œæ•°æ®åº“è¯­å¥ï¼‰&lt;/p&gt;
&lt;p&gt;ä½œæµç¨‹å¤„ç†ï¼Œ&lt;/p&gt;
&lt;p&gt;è§£å†³æ—¥å¸¸é—®é¢˜&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼šéœ€è¦ä¸€ä¸ªæŒ‰ç…§å‘¨ä¸€ã€å‘¨å››æ’äººè½®æ¬¡çš„é—®é¢˜&lt;/p&gt;
&lt;h2 id=&#34;å¸¸ç”¨åŸåˆ™&#34;&gt;å¸¸ç”¨åŸåˆ™ï¼š
&lt;/h2&gt;&lt;h3 id=&#34;few-shotç»™å‡ºå°‘é‡ç¤ºä¾‹&#34;&gt;Few-shotï¼šç»™å‡ºå°‘é‡ç¤ºä¾‹
&lt;/h3&gt;&lt;h3 id=&#34;cotæ€ç»´é“¾&#34;&gt;COTï¼šæ€ç»´é“¾
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-CHAT&#34; data-lang=&#34;CHAT&#34;&gt;è¾“å…¥ï¼šä¸ºä»€ä¹ˆæˆ‘çš„è§†é¢‘æ’­æ”¾é‡ä¸é«˜ 
è¾“å‡ºï¼š 
é—®é¢˜é™ˆè¿°ï¼š ä½ çš„è§†é¢‘æ’­æ”¾é‡ä¸é«˜ã€‚ 
âš« é¦–ä¸ªä¸ºä»€ä¹ˆï¼š æ‚¨è®¤ä¸ºæ˜¯ä»€ä¹ˆç›´æ¥åŸå› å¯¼è‡´æ‚¨çš„è§†é¢‘æ’­æ”¾é‡æ²¡æœ‰å¢é•¿ï¼Ÿè¿™å¯èƒ½åŒ…æ‹¬å†…å®¹çš„å¸å¼•åŠ›ã€æ¨
å¹¿ç­–ç•¥ã€ç›®æ ‡å—ä¼—çš„å®šä¹‰æˆ–å…¶å®ƒå› ç´ ã€‚ 
âš« ç¬¬äºŒä¸ªä¸ºä»€ä¹ˆï¼š æ‚¨è®¤ä¸ºæ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´æ‚¨çš„è§†é¢‘å†…å®¹ç¼ºä¹å¸å¼•åŠ›ï¼Ÿè¿™å¯èƒ½æ¶‰åŠåˆ°å†…å®¹çš„ä¸»é¢˜ã€åˆ›æ„
è¡¨ç°æ–¹å¼ã€è§†é¢‘è´¨é‡ã€ä¸è§‚ä¼—çš„äº’åŠ¨æˆ–è€…æ˜¯æ—¶æ•ˆæ€§ç­‰æ–¹é¢ã€‚ 
âš« ç¬¬ä¸‰ä¸ªä¸ºä»€ä¹ˆï¼š æ‚¨è®¤ä¸ºæ˜¯ä»€ä¹ˆåŸå› ä½¿æ‚¨çš„è§†é¢‘å†…å®¹ç¼ºä¹åˆ›æ„ï¼Ÿè¿™å¯èƒ½æ˜¯ç”±äºçµæ„Ÿæ¥æºçš„å±€é™æ€§ã€åˆ›
ä½œè¿‡ç¨‹ä¸­çš„æŒ‘æˆ˜ã€å¯¹ç›®æ ‡å—ä¼—å–œå¥½çš„ç†è§£ä¸è¶³ï¼Œæˆ–è€…æ˜¯æ‚¨éµå¾ªçš„å†…å®¹åˆ›ä½œæµç¨‹å¯èƒ½è¿‡äºå•ä¸€å’Œé‡å¤ã€‚ 
âš« ç¬¬å››ä¸ªä¸ºä»€ä¹ˆï¼š æ‚¨è®¤ä¸ºæ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´æ‚¨æœªèƒ½æ·±åˆ»ç†è§£è§‚ä¼—çš„å–œå¥½ï¼Ÿè¿™å¯èƒ½æ˜¯å› ä¸ºç¼ºä¹å¯¹è§‚ä¼—æ•°æ®
çš„åˆ†æã€ä¸è§‚ä¼—äº’åŠ¨ä¸è¶³ã€æ²¡æœ‰å®šæœŸè¿›è¡Œå¸‚åœºè°ƒç ”ï¼Œæˆ–è€…æ˜¯æ‚¨çš„è§‚ä¼—å®šä½ä¸å¤Ÿæ˜ç¡®ã€‚ 
âš« ç¬¬äº”ä¸ªä¸ºä»€ä¹ˆï¼š æ‚¨è®¤ä¸ºæ˜¯ä»€ä¹ˆåŸå› å¯¼è‡´æ‚¨çš„è§‚ä¼—å®šä½ä¸æ˜ç¡®ï¼Ÿè¿™å¯èƒ½æ˜¯å› ä¸ºæ²¡æœ‰å……åˆ†è¿›è¡Œå¸‚åœºè°ƒç ”ï¼Œ
æˆ–è€…æ˜¯åœ¨å†…å®¹åˆ›ä½œå’Œå‘å¸ƒç­–ç•¥ä¸­æ²¡æœ‰æ˜ç¡®è€ƒè™‘åˆ°ç‰¹å®šç¾¤ä½“çš„å…´è¶£ã€éœ€æ±‚å’Œè¡Œä¸ºç‰¹å¾ã€‚ä¹Ÿå¯èƒ½æ˜¯ç”±äºç¼º
ä¹å¯¹å·²æœ‰è§‚ä¼—æ•°æ®çš„æ·±å…¥åˆ†æï¼Œä»è€Œæ— æ³•æœ‰æ•ˆåŒºåˆ†å’Œç†è§£ä¸åŒè§‚ä¼—ç¾¤ä½“ã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;è‡ªæ´½æ€§self-consistencycot&#34;&gt;è‡ªæ´½æ€§ï¼ˆSelf-consistencyï¼‰COTï¼š
&lt;/h3&gt;&lt;p&gt;â€‹	åˆ©ç”¨å°‘æ ·æœ¬Coté‡‡æ ·å¤šä¸ªä¸åŒçš„æ¨ç†è·¯å¾„ï¼Œå¹¶ä½¿ç”¨ç”Ÿæˆç»“æœé€‰æ‹©æœ€ä¸€è‡´çš„ç­”æ¡ˆã€‚å¤šä¸ªæ€ç»´é“¾ï¼Œå¤šä¸ªå›ç­”ä¸­æŒ‘é€‰æœ€ä¼˜è§£ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903002349326.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903002349326&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;totæ€ç»´æ ‘&#34;&gt;TOTï¼šæ€ç»´æ ‘
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;å¯¹äºéœ€è¦æ¢ç´¢æˆ–é¢„åˆ¤çš„å¤æ‚ä»»åŠ¡ï¼ŒCOTå¼•å¯¼æ¨¡å‹é€æ­¥æ€è€ƒæ˜¯ä¸è¶³çš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# æœªä½¿ç”¨TOT
#è¾“å…¥
æˆ‘æƒ³è¦ä¸ºæˆ‘çš„ç‰™åŒ»åŒäº‹å¼€å‘ä¸€ä¸ªå¤§æ¨¡å‹åº”ç”¨ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“è¦ä¸ºä»–åšä¸ªä»€ä¹ˆæ–¹é¢çš„åº”ç”¨ï¼ŒåªçŸ¥é“ä»–æ­£åœ¨å‡†å¤‡åŠ©ç†åŒ»å¸ˆèµ„æ ¼è¯è€ƒè¯•ã€å¹³æ—¶å·¥ä½œå­¦ä¹ å¾ˆå°‘ç”¨ç”µè„‘ï¼Œè¯·ä½ 
ç»™æˆ‘ä¸€äº›å»ºè®®ã€‚
#è¾“å‡º
ä¸ºä½ çš„ç‰™åŒ»åŒäº‹å¼€å‘ä¸€ä¸ªå¤§æ¨¡å‹åº”ç”¨æ˜¯ä¸ªå¥½ä¸»æ„ï¼è€ƒè™‘åˆ°ä»–å‡†å¤‡åŠ©ç†åŒ»å¸ˆèµ„æ ¼è¯è€ƒè¯•å’Œå°‘ç”¨ç”µè„‘çš„æƒ…å†µï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å¯èƒ½çš„åº”ç”¨å»ºè®®ï¼š

åŒ»å­¦çŸ¥è¯†é—®ç­”åŠ©æ‰‹ï¼š

å¼€å‘ä¸€ä¸ªèƒ½å¤Ÿå›ç­”åŒ»å­¦ç›¸å…³é—®é¢˜çš„é—®ç­”ç³»ç»Ÿã€‚å¯ä»¥åˆ©ç”¨å¤§æ¨¡å‹å¤„ç†è¾“å…¥çš„åŒ»å­¦é—®é¢˜ï¼Œå¹¶ç»™å‡ºè¯¦ç»†å’Œå‡†ç¡®çš„ç­”æ¡ˆï¼Œå¸®åŠ©ä»–å¤ä¹ å’Œç†è§£è€ƒè¯•å†…å®¹ã€‚
åŒ»å­¦æœ¯è¯­è§£é‡Šå™¨ï¼š

æ„å»ºä¸€ä¸ªåº”ç”¨ï¼Œå¯ä»¥è§£é‡ŠåŒ»å­¦æœ¯è¯­å’Œä¸“ä¸šæœ¯è¯­çš„å«ä¹‰ã€‚è¿™å¯ä»¥å¸®åŠ©ä»–æ›´å¥½åœ°ç†è§£å’Œè®°å¿†åŒ»å­¦æœ¯è¯­ï¼Œæé«˜å­¦ä¹ æ•ˆç‡ã€‚
è€ƒè¯•æ¨¡æ‹Ÿä¸åé¦ˆï¼š

è®¾è®¡ä¸€ä¸ªæ¨¡æ‹Ÿè€ƒè¯•ç³»ç»Ÿï¼Œæ¨¡æ‹ŸåŠ©ç†åŒ»å¸ˆèµ„æ ¼è¯è€ƒè¯•çš„é¢˜å‹å’Œéš¾åº¦ã€‚ç³»ç»Ÿå¯ä»¥æ ¹æ®ä»–çš„ç­”é¢˜æƒ…å†µç»™å‡ºåé¦ˆå’Œå»ºè®®ï¼Œå¸®åŠ©ä»–å‘ç°å’Œå¼¥è¡¥çŸ¥è¯†çš„ä¸è¶³ã€‚
åŒ»å­¦æ–‡çŒ®æ‘˜è¦ç”Ÿæˆå™¨ï¼š

å¼€å‘ä¸€ä¸ªå·¥å…·ï¼Œèƒ½å¤Ÿä»åŒ»å­¦æ–‡çŒ®ä¸­æå–å…³é”®ä¿¡æ¯å¹¶ç”Ÿæˆæ‘˜è¦ã€‚è¿™å¯ä»¥å¸®åŠ©ä»–å¿«é€Ÿæµè§ˆå¤§é‡çš„åŒ»å­¦æ–‡çŒ®ï¼Œè·å–å¿…è¦çš„ä¿¡æ¯ã€‚
åŒ»å­¦æ–°é—»å’Œç ”ç©¶æ›´æ–°ï¼š

åˆ›å»ºä¸€ä¸ªç³»ç»Ÿï¼Œå®šæœŸä»æƒå¨åŒ»å­¦ç½‘ç«™æˆ–æ•°æ®åº“ä¸­è·å–æœ€æ–°çš„åŒ»å­¦æ–°é—»å’Œç ”ç©¶æˆæœï¼Œå¹¶ä»¥æ˜“äºç†è§£çš„æ–¹å¼å±•ç¤ºç»™ä»–ã€‚è¿™å¯ä»¥å¸®åŠ©ä»–ä¿æŒå¯¹è¡Œä¸šåŠ¨æ€çš„äº†è§£ã€‚
åŒ»å­¦å­¦ä¹ ç¬”è®°æ•´ç†å™¨ï¼š

è®¾è®¡ä¸€ä¸ªå·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©ä»–æ•´ç†å’Œç®¡ç†å­¦ä¹ è¿‡ç¨‹ä¸­çš„ç¬”è®°å’Œé‡è¦çŸ¥è¯†ç‚¹ã€‚å¯ä»¥æ”¯æŒæ–‡æœ¬è¾“å…¥æˆ–è¯­éŸ³è¾“å…¥ï¼Œå¹¶è‡ªåŠ¨æ•´ç†æˆç»“æ„åŒ–çš„å­¦ä¹ èµ„æ–™ã€‚
ä»¥ä¸Šå»ºè®®å¯ä»¥æ ¹æ®ä»–çš„å…·ä½“éœ€æ±‚å’Œä½¿ç”¨ä¹ æƒ¯è¿›è¡Œè°ƒæ•´å’Œæ‰©å±•ï¼Œå¸®åŠ©ä»–åœ¨å‡†å¤‡è€ƒè¯•å’Œæ—¥å¸¸å·¥ä½œå­¦ä¹ ä¸­æ›´é«˜æ•ˆåœ°åˆ©ç”¨å¤§æ¨¡å‹æŠ€æœ¯ã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# ä½¿ç”¨TOT
# è¾“å…¥
æˆ‘æƒ³è¦ä¸ºæˆ‘çš„ç‰™åŒ»åŒäº‹å¼€å‘ä¸€ä¸ªå¤§æ¨¡å‹åº”ç”¨ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“è¦ä¸ºä»–åšä¸ªä»€ä¹ˆæ–¹é¢çš„åº”ç”¨ï¼ŒåªçŸ¥é“ä»–æ­£åœ¨å‡†å¤‡åŠ©ç†åŒ»å¸ˆèµ„æ ¼è¯è€ƒè¯•ã€å¹³æ—¶å·¥ä½œå­¦ä¹ å¾ˆå°‘ç”¨ç”µè„‘ï¼Œè¯·ä½ 
ä½¿ç”¨TOTæ¡†æ¶æ€è€ƒåç»™æˆ‘ä¸€äº›å»ºè®®ã€‚  TOT æ¡†æ¶ç¤ºä¾‹å¦‚ä¸‹ --- 
#è¾“å…¥#  
æˆ‘æƒ³ä¸ºæˆ‘çš„å¦»å­è´­ä¹°ä¸€æŸé²œèŠ±ï¼Œä½†æˆ‘ä¸ç¡®å®šåº”è¯¥é€‰æ‹©å“ªç§é²œèŠ±ã€‚å¥¹å–œæ¬¢æ·¡é›…çš„é¢œè‰²å’ŒèŠ±é¦™ã€‚ 
#è¾“å‡º#  
æ€ç»´æ­¥éª¤1ï¼šç†è§£é¡¾å®¢çš„éœ€æ±‚ã€‚  
âš« é¡¾å®¢æƒ³ä¸ºå¦»å­è´­ä¹°é²œèŠ±ã€‚  
âš« é¡¾å®¢çš„å¦»å­å–œæ¬¢æ·¡é›…çš„é¢œè‰²å’ŒèŠ±é¦™ã€‚  
æ€ç»´æ­¥éª¤2ï¼šè€ƒè™‘å¯èƒ½çš„é²œèŠ±é€‰æ‹©ã€‚  
âš« å€™é€‰1ï¼šç™¾åˆï¼Œå› ä¸ºå®ƒæœ‰æ·¡é›…çš„é¢œè‰²å’ŒèŠ±é¦™ã€‚ 
âš« å€™é€‰2ï¼šç«ç‘°ï¼Œé€‰æ‹©æ·¡ç²‰è‰²æˆ–ç™½è‰²ï¼Œå®ƒä»¬é€šå¸¸æœ‰èŠ±é¦™ã€‚  
âš« å€™é€‰3ï¼šç´«ç½—å…°ï¼Œå®ƒæœ‰æ·¡é›…çš„é¢œè‰²å’ŒèŠ±é¦™ã€‚  
âš« å€™é€‰4ï¼šæ¡”æ¢—ï¼Œå®ƒçš„é¢œè‰²æ·¡é›…ä½†ä¸ä¸€å®šæœ‰èŠ±é¦™ã€‚  
âš« å€™é€‰5ï¼šåº·ä¹ƒé¦¨ï¼Œé€‰æ‹©æ·¡è‰²ç³»åˆ—ï¼Œå®ƒä»¬æœ‰æ·¡é›…çš„èŠ±é¦™ã€‚  
æ€ç»´æ­¥éª¤3ï¼šæ ¹æ®é¡¾å®¢çš„éœ€æ±‚ç­›é€‰æœ€ä½³é€‰æ‹©ã€‚  
âš« ç™¾åˆå’Œç´«ç½—å…°éƒ½ç¬¦åˆé¡¾å®¢çš„éœ€æ±‚ï¼Œå› ä¸ºå®ƒä»¬éƒ½æœ‰æ·¡é›…çš„é¢œè‰²å’ŒèŠ±é¦™ã€‚  
âš« æ·¡ç²‰è‰²æˆ–ç™½è‰²çš„ç«ç‘°ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ã€‚ æ¡”æ¢—å¯èƒ½ä¸æ˜¯æœ€ä½³é€‰æ‹©ï¼Œå› ä¸ºå®ƒå¯èƒ½æ²¡æœ‰èŠ±é¦™ã€‚  
âš« åº·ä¹ƒé¦¨æ˜¯ä¸€ä¸ªå¯è€ƒè™‘çš„é€‰æ‹©ã€‚ 
æ€ç»´æ­¥éª¤4ï¼šç»™å‡ºå»ºè®®ã€‚  
â€œè€ƒè™‘åˆ°æ‚¨å¦»å­å–œæ¬¢æ·¡é›…çš„é¢œè‰²å’ŒèŠ±é¦™ï¼Œæˆ‘å»ºè®®æ‚¨å¯ä»¥é€‰æ‹©ç™¾åˆæˆ–ç´«ç½—å…°ã€‚æ·¡ç²‰è‰²æˆ–ç™½è‰²çš„ç«ç‘°ä¹Ÿæ˜¯
13 
ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ã€‚å¸Œæœ›è¿™äº›å»ºè®® èƒ½å¸®åŠ©æ‚¨åšå‡ºå†³ç­–ï¼â€

# è¾“å‡º
è¾“å…¥
ç”¨æˆ·æƒ³ä¸ºæ­£åœ¨å‡†å¤‡åŠ©ç†åŒ»å¸ˆèµ„æ ¼è¯è€ƒè¯•çš„ç‰™åŒ»åŒäº‹å¼€å‘ä¸€ä¸ªå¤§æ¨¡å‹åº”ç”¨ï¼Œä½†ä¸ç¡®å®šè¯¥åº”ç”¨çš„å…·ä½“åŠŸèƒ½ã€‚åŒäº‹å¹³æ—¶å·¥ä½œå­¦ä¹ å¾ˆå°‘ä½¿ç”¨ç”µè„‘ã€‚

è¾“å‡º
æ€ç»´æ­¥éª¤1ï¼šç†è§£éœ€æ±‚å’Œé™åˆ¶æ¡ä»¶ã€‚

ç”¨æˆ·çš„åŒäº‹æ­£åœ¨å‡†å¤‡åŠ©ç†åŒ»å¸ˆèµ„æ ¼è¯è€ƒè¯•ï¼Œéœ€è¦è¾…åŠ©å·¥å…·æ¥æé«˜å­¦ä¹ æ•ˆç‡ã€‚
åŒäº‹å¹³æ—¶å¾ˆå°‘ä½¿ç”¨ç”µè„‘ï¼Œå› æ­¤åº”ç”¨åº”å°½é‡ç®€åŒ–æ“ä½œï¼Œä¾¿äºä½¿ç”¨ã€‚
æ€ç»´æ­¥éª¤2ï¼šè€ƒè™‘å¯èƒ½çš„åº”ç”¨åŠŸèƒ½æ–¹å‘ã€‚

å€™é€‰1ï¼šåŒ»å­¦çŸ¥è¯†åº“æŸ¥è¯¢åŠ©æ‰‹
åº”ç”¨æä¾›è¯­éŸ³æŸ¥è¯¢åŠŸèƒ½ï¼Œæ–¹ä¾¿åŒäº‹å¿«é€Ÿè·å–åŒ»å­¦çŸ¥è¯†æˆ–è€ƒè¯•é‡ç‚¹å†…å®¹ã€‚
å€™é€‰2ï¼šæ™ºèƒ½é”™é¢˜æœ¬
å¸®åŠ©åŒäº‹è®°å½•å¹¶åˆ†æè€ƒè¯•ä¸­çš„é”™é¢˜ï¼Œé€šè¿‡è¯­éŸ³è¾“å…¥å°†é”™é¢˜è®°å½•åˆ°ç³»ç»Ÿï¼Œå¹¶ç”Ÿæˆé’ˆå¯¹æ€§ç»ƒä¹ ã€‚
å€™é€‰3ï¼šè€ƒè¯•æ¨¡æ‹Ÿç³»ç»Ÿ
æä¾›è€ƒè¯•æ¨¡æ‹Ÿé¢˜åº“ï¼ŒåŒ…å«å†å¹´çœŸé¢˜å’Œæ¨¡æ‹Ÿé¢˜ï¼Œå¹¶ç»™å‡ºè¯¦ç»†è§£æã€‚
å€™é€‰4ï¼šå£è…”åŒ»å­¦æ¡ˆä¾‹åˆ†æåŠ©æ‰‹
é›†æˆå¸¸è§å£è…”åŒ»å­¦æ¡ˆä¾‹ï¼Œå¸®åŠ©åŒäº‹å­¦ä¹ å’Œå·©å›ºæ¡ˆä¾‹åˆ†æèƒ½åŠ›ï¼Œæ”¯æŒè¯­éŸ³æè¿°ç—…ä¾‹åŠŸèƒ½ã€‚
å€™é€‰5ï¼šæ—¶é—´ç®¡ç†å’Œå¤ä¹ è®¡åˆ’åˆ¶å®šå·¥å…·
åº”ç”¨å¸®åŠ©åŒäº‹åˆ¶å®šä¸ªæ€§åŒ–å¤ä¹ è®¡åˆ’ï¼Œç»“åˆè¯­éŸ³æé†’åŠŸèƒ½ï¼Œç®€åŒ–æ“ä½œã€‚
æ€ç»´æ­¥éª¤3ï¼šæ ¹æ®éœ€æ±‚å’Œé™åˆ¶ç­›é€‰æœ€ä½³åº”ç”¨æ–¹å‘ã€‚

åŒ»å­¦çŸ¥è¯†åº“æŸ¥è¯¢åŠ©æ‰‹å’Œæ™ºèƒ½é”™é¢˜æœ¬é€‚åˆå› å…¶å¯ä»¥é€šè¿‡è¯­éŸ³äº¤äº’ç®€åŒ–æ“ä½œæµç¨‹ï¼Œå°¤å…¶æ˜¯é”™é¢˜æœ¬æœ‰åŠ©äºæé«˜å­¦ä¹ æ•ˆç‡ã€‚
è€ƒè¯•æ¨¡æ‹Ÿç³»ç»Ÿå’Œå£è…”åŒ»å­¦æ¡ˆä¾‹åˆ†æåŠ©æ‰‹ä¹Ÿèƒ½æä¾›æœ‰ä»·å€¼çš„å­¦ä¹ èµ„æºï¼Œä½†å¯èƒ½éœ€è¦æ›´å¤šçš„ç”µè„‘æ“ä½œã€‚
æ—¶é—´ç®¡ç†å’Œå¤ä¹ è®¡åˆ’åˆ¶å®šå·¥å…·å¯ä»¥å¸®åŠ©åŒäº‹åˆç†å®‰æ’å¤ä¹ æ—¶é—´ï¼Œä½†åŠŸèƒ½å•ä¸€ã€‚
æ€ç»´æ­¥éª¤4ï¼šç»™å‡ºå»ºè®®ã€‚
â€œè€ƒè™‘åˆ°æ‚¨çš„åŒäº‹åœ¨å‡†å¤‡åŠ©ç†åŒ»å¸ˆèµ„æ ¼è¯è€ƒè¯•æ—¶å¾ˆå°‘ä½¿ç”¨ç”µè„‘ï¼Œå»ºè®®æ‚¨å¼€å‘ä¸€æ¬¾åŒ»å­¦çŸ¥è¯†åº“æŸ¥è¯¢åŠ©æ‰‹æˆ–æ™ºèƒ½é”™é¢˜æœ¬åº”ç”¨ã€‚è¿™ä¸¤ç§åº”ç”¨éƒ½å¯ä»¥é€šè¿‡è¯­éŸ³äº¤äº’å®ç°ç®€åŒ–æ“ä½œï¼Œå¸®åŠ©æ‚¨çš„åŒäº‹é«˜æ•ˆå¤‡è€ƒã€‚â€
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æˆ‘æƒ³è¦ä¸ºæˆ‘çš„ç‰™åŒ»åŒäº‹å¼€å‘ä¸€ä¸ªå¤§æ¨¡å‹åº”ç”¨ï¼Œä½†æ˜¯æˆ‘ä¸çŸ¥é“è¦ä¸ºä»–åšä¸ªä»€ä¹ˆæ–¹é¢çš„åº”ç”¨ï¼ŒåªçŸ¥é“ä»–æ­£åœ¨å‡†å¤‡åŠ©ç†åŒ»å¸ˆèµ„æ ¼è¯è€ƒè¯•ã€å¹³æ—¶å·¥ä½œå­¦ä¹ å¾ˆå°‘ç”¨ç”µè„‘ï¼Œè¯·ä½ 
ä½¿ç”¨TOTæ¡†æ¶æ€è€ƒåç»™æˆ‘ä¸€äº›å»ºè®®ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ä¸ªè¾“å…¥ä¸­çš„é™åˆ¶æ¡ä»¶ä¸ºï¼šå¹³æ—¶å·¥ä½œå­¦ä¹ å¾ˆå°‘ç”¨ç”µè„‘ã€‚åç»­çš„æ€ç»´æ­¥éª¤ä¹Ÿæ˜¯æ ¹æ®è¿™ä¸ªé™åˆ¶æ¡ä»¶è¿›è¡Œç­›é€‰çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è®©æ¨¡å‹ä¸€æ­¥æ­¥æ€è€ƒ&#34;&gt;è®©æ¨¡å‹ä¸€æ­¥æ­¥æ€è€ƒï¼š
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;xxxxxxxxxxxxxxxxxï¼Œè¯·ä½ ä¸€æ­¥æ­¥æ¥ï¼Œç»™å‡ºæ¯ä¸ªè¯¦ç»†æ­¥éª¤
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è®©æ¨¡å‹å…ˆæ€è€ƒåä¸æ­£ç¡®ç­”æ¡ˆè¿›è¡Œå¯¹æ¯”ï¼Œå†è¿›è¡Œåˆ¤æ–­ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æä¾›å°½å¯èƒ½è¯¦ç»†çš„ä¿¡æ¯&#34;&gt;æä¾›å°½å¯èƒ½è¯¦ç»†çš„ä¿¡æ¯
&lt;/h3&gt;&lt;h3 id=&#34;è§’è‰²è®¾å®š&#34;&gt;è§’è‰²è®¾å®š
&lt;/h3&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# è¾“å…¥
æˆ‘æƒ³è®©ä½ åšæˆ‘çš„èŒä¸šé¡¾é—®ã€‚æˆ‘å°†ä¸ºä½ æä¾›ä¸€ä¸ªåœ¨èŒä¸šç”Ÿæ¶¯ä¸­å¯»æ±‚æŒ‡å¯¼çš„äººï¼Œä½ çš„ä»»åŠ¡æ˜¯å¸®åŠ©ä»–ä»¬æ ¹æ®è‡ªå·±çš„æŠ€èƒ½ã€å…´è¶£å’Œç»éªŒï¼Œç¡®å®šè‡ªå·±æœ€é€‚åˆçš„èŒä¸šã€‚ä½ è¿˜åº”è¯¥å¯¹å„ç§å¯ç”¨çš„é€‰æ‹©è¿›è¡Œç ”ç©¶ï¼Œè§£é‡Šä¸åŒè¡Œä¸šçš„å°±ä¸šå¸‚åœºè¶‹åŠ¿ï¼Œå¹¶å°±å“ªäº›èµ„æ ¼è¯ä¹¦å¯¹ä»äº‹ç‰¹å®šé¢†åŸŸæœ‰ç›Šæå‡ºå»ºè®®ã€‚æˆ‘çš„ç¬¬ä¸€ä¸ªè¯·æ±‚æ˜¯â€œæˆ‘æƒ³ç»™é‚£äº›æƒ³ä»äº‹è½¯ä»¶å·¥ç¨‹èŒä¸šçš„äººä¸€äº›å»ºè®®â€ã€‚
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;ä¸‰å¾®è°ƒ&#34;&gt;ä¸‰ã€å¾®è°ƒ
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.poolbee.top/post/fine-tuning/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¤§æ¨¡å‹å¾®è°ƒçŸ¥è¯†å®è·µ (poolbee.top)&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å¤§æ¨¡å‹å¾®è°ƒçŸ¥è¯†å®è·µ</title>
        <link>http://localhost:1313/post/fine-tuning/</link>
        <pubDate>Sun, 01 Sep 2024 22:27:30 +0000</pubDate>
        
        <guid>http://localhost:1313/post/fine-tuning/</guid>
        <description>&lt;img src="http://localhost:1313/post/cover/datawhale-cover.png" alt="Featured image of post å¤§æ¨¡å‹å¾®è°ƒçŸ¥è¯†å®è·µ" /&gt;&lt;h1 id=&#34;å¤§æ¨¡å‹å¾®è°ƒæŒ‡ä»¤å¾®è°ƒæœ‰ç›‘ç£å¾®è°ƒ&#34;&gt;å¤§æ¨¡å‹å¾®è°ƒï¼ˆæŒ‡ä»¤å¾®è°ƒ/æœ‰ç›‘ç£å¾®è°ƒï¼‰
&lt;/h1&gt;&lt;h2 id=&#34;11ç®€ä»‹&#34;&gt;1.1ç®€ä»‹
&lt;/h2&gt;&lt;p&gt;æ¨¡å‹å¾®è°ƒï¼Œç§°ä¸ºæŒ‡ä»¤å¾®è°ƒï¼ˆInstruction Tuningï¼‰æˆ–è€…æœ‰ç›‘ç£å¾®è°ƒï¼ˆSupervised Fine-tuningï¼ŒSFTï¼‰ï¼šä½¿ç”¨æˆå¯¹çš„è¾“å…¥ä¸é¢„æœŸçš„è¾“å‡ºï¼Œè®­ç»ƒæ¨¡å‹å­¦ä¼šä»¥é—®ç­”çš„å½¢å¼è§£ç­”é—®é¢˜ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;ç»è¿‡å¾®è°ƒä¹‹åï¼Œå¤§æ¨¡å‹å±•ç°è¾ƒå¼ºçš„æŒ‡ä»¤éµå¾ªèƒ½åŠ›ï¼Œåå¯ä»¥é€šè¿‡&lt;strong&gt;é›¶æ ·æœ¬å­¦ä¹ &lt;/strong&gt;çš„æ–¹å¼è§£å†³å¤šç§ä¸‹æ¸¸ä»»åŠ¡ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æŒ‡ä»¤å¾®è°ƒè¿˜æ˜¯æ‰®&lt;strong&gt;å‚¬åŒ–å‰‚&lt;/strong&gt;çš„è§’è‰²ï¼Œæ¿€æ´»æ¨¡å‹å†…åœ¨çš„æ½œåŠ›ï¼Œè€Œéå•çº¯çŒè¾“ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;111é¢„è®­ç»ƒå¯¹æ¯”&#34;&gt;1.1.1é¢„è®­ç»ƒå¯¹æ¯”
&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;æŒ‡ä»¤å¾®è°ƒ/æœ‰ç›‘ç£å¾®è°ƒï¼Œæ‰€éœ€æ•°æ®æ˜¾è‘—å‡å°‘ï¼Œä»åå‡ ä¸‡åˆ°ä¸Šç™¾ä¸‡æ¡ï¼Œå‡èƒ½æœ‰æ•ˆæ¿€å‘æ¨¡å‹çš„é€šç”¨ä»»åŠ¡è§£å†³èƒ½åŠ›ï¼›ç”šè‡³æœ‰äº›å°‘é‡é«˜è´¨é‡çš„æŒ‡ä»¤æ•°æ®ï¼Œï¼ˆæ•°åƒæ¡æ•°ä¸‡æ¡ï¼‰ä¹Ÿèƒ½å®ç°å¾ˆå¥½çš„æ•ˆæœã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;é™ä½äº†å¯¹è®¡ç®—èµ„æºçš„ä¾èµ–ï¼Œä¹Ÿæå‡äº†å¾®è°ƒçš„çµæ´»æ€§ä¸æ•ˆç‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;12è½»é‡åŒ–å¾®è°ƒæŠ€æœ¯lightweight-fine-tuningå‚æ•°é«˜æ•ˆå¾®è°ƒ&#34;&gt;1.2è½»é‡åŒ–å¾®è°ƒæŠ€æœ¯ï¼ˆLightweight Fine-tuningï¼‰&lt;em&gt;å‚æ•°é«˜æ•ˆå¾®è°ƒ&lt;/em&gt;
&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;ç”±äºå¤§æ¨¡å‹çš„å‚æ•°é‡å·¨å¤§ï¼Œè¿›è¡Œ**å…¨é‡å‚æ•°å¾®è°ƒ**éœ€è¦æ¶ˆè€—éå¸¸å¤šçš„ç®—åŠ›ï¼Œä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œæå‡ºï¼š

**å‚æ•°é«˜æ•ˆå¾®è°ƒ**ï¼ˆ**P**arameter-efficient **F**ine-tuningï¼‰/è½»é‡åŒ–å¾®è°ƒï¼ˆ**L**ightweight **F**ine-tuningï¼‰ï¼šé€šè¿‡è®­æ¥æ‹¿æå°‘çš„æ¨¡å‹å‚æ•°ï¼Œä¹Ÿèƒ½ä¿è¯å¾®è°ƒåçš„æ¨¡å‹è¡¨ç°å¯ä»¥ä¸å…¨é‡å¾®è°ƒæ™®ç¾ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;ul&gt;
&lt;li&gt;å¸¸ç”¨çš„è½»é‡åŒ–å¾®è°ƒæŠ€æœ¯ï¼šLoRAã€Adapterå’ŒPrompt Tuning&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;13loraæŠ€æœ¯ä¸æ˜¯lora&#34;&gt;1.3LoRAæŠ€æœ¯ï¼ˆä¸æ˜¯LoRa
&lt;/h2&gt;&lt;p&gt;LoRAï¼ˆLow-Rank Adaptationï¼‰ä¸€ç§é™ä½è¯­è¨€æ¨¡å‹å¾®è°ƒå‚æ•°æ•°é‡çš„æŠ€æœ¯&lt;/p&gt;
&lt;p&gt;ç¿»è¯‘æ˜¯â€ä½ç§©é€‚é…â€œçš„æ„æ€&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä½ç§©çŸ©é˜µåˆ†è§£ï¼Œåœ¨åŸå§‹çŸ©é˜µçš„åŸºç¡€ä¸Šå¢åŠ ä¸€ä¸ªæ—è·¯çŸ©é˜µï¼Œç„¶ååªæ›´æ–°æ—è·¯çŸ©é˜µçš„å‚æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903011543999.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903011543999&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://arxiv.org/pdf/2106.09685&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;LoRA paperç¬¬ä¸€é¡µ&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;å®ä¾‹&#34;&gt;å®ä¾‹ï¼š
&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;ä½¿ç”¨ç®€å†å‘½åå®ä½“è¯†åˆ«çš„æ•°æ®é›†ï¼Œè¿›è¡Œå¾®è°ƒï¼Œè¿›è€Œå¼€å‘ä¸€ä¸ªAIç®€å†åŠ©æ‰‹ï¼Œåèƒ½æ‰¹é‡åœ°è‡ªåŠ¨è¯†åˆ«å¹¶æå–ç®€å†ä¸­çš„å…³é”®ä¿¡æ¯ï¼ˆå§“åã€æ•™è‚²èƒŒæ™¯ã€å·¥ä½œç»å†ç­‰ï¼‰æå‡æ•ˆç‡ã€‚
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;å…·ä½“æ¥è¯´ï¼Œè¾“å…¥ä¸€ä¸ªæ‘˜å½•è‡ªæŸç®€å†çš„å¥å­ï¼Œæ¨¡å‹éœ€è¦è¯†åˆ«å‡ºæ‰€æœ‰çš„å‘½åå®ä½“ã€‚å®ä½“çš„ç±»åˆ«åŒ…æ‹¬ï¼šå§“å(NAME)å›½ç±(CONT)ã€ç§æ—(RACE)ã€èŒä½(TITLE)ã€æ•™è‚²èƒŒæ™¯(EDU)ã€ä¸“ä¸š(PRO)ã€ç»„ç»‡å(ORG)ã€åœ°å(LOC)ã€‚åŸå§‹çš„æ•°æ®æ¥è‡ªäº&lt;a class=&#34;link&#34; href=&#34;https://hf-mirror.com/datasets/BAAI/COIG-PC-Lite&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;BAAI/COIG-PC-Lite Â· Datasets at HF Mirror (hf-mirror.com)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;torchã€transformerã€streamlitå®‰è£…&lt;/p&gt;
&lt;p&gt;ä¸‹è½½æ¨¡å‹&lt;/p&gt;
&lt;p&gt;æ•°æ®å¤„ç†pandasè¿›è¡Œæ•°æ®è¯»å–ï¼Œè½¬ä¸ºDatasetæ ¼å¼&lt;/p&gt;
&lt;p&gt;[&amp;lsquo;input&amp;rsquo;:[&amp;rsquo;#ä»»åŠ¡æè¿°\nå‡è®¾ä½ æ˜¯ä¸€ä¸ªAIç®€å†åŠ©æ‰‹ï¼Œèƒ½ä»ç®€å†ä¸­è¯†åˆ«å‡ºæ‰€æœ‰çš„å‘½åå®ä½“ï¼Œå¹¶ä»¥jsonæ ¼å¼è¿”å›ç»“æœã€‚\n\n#ä»»åŠ¡è¦æ±‚1nå®ä½“çš„ç±»åˆ«åŒ…æ‹¬ï¼šå§“åã€å›½ç±ã€ç§æ—ã€èŒä½ã€æ•™è‚²èƒŒæ™¯ã€ä¸“ä¸šã€ç»„ç»‡åã€åœ°åã€‚1nè¿”å›çš„jsoæ ¼å¼æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œå…¶ä¸­æ¯ä¸ªé”®
æ˜¯å®ä½“çš„ç±»åˆ«ï¼Œå€¼æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ…å«å®ä½“çš„æ–‡æœ¬ã€‚\n\n#æ ·ä¾‹å°nè¾“å…¥ï¼š\nå¼ ä¸‰ï¼Œç”·ï¼Œä¸­å›½ç±ï¼Œå·¥ç¨‹å¸ˆ1nè¾“å‡ºï¼š1n(&amp;ldquo;å§“å&amp;rdquo;ï¼š[&amp;ldquo;å¼ ä¸‰&amp;rdquo;]ï¼Œ&amp;ldquo;å›½ç±&amp;rdquo;ï¼š[&amp;ldquo;ä¸­å›½&amp;rdquo;]ï¼Œ&amp;ldquo;èŒä½&amp;rdquo;ï¼š[&amp;ldquo;å·¥ç¨‹å¸ˆ&amp;rdquo;]}å…«n\n#å½“å‰ç®€å†\né«˜å‹‡ï¼šç”·ï¼Œä¸­å›½å›½ç±ï¼Œæ— å¢ƒå¤–å±…ç•™æƒï¼Œ\n\n#ä»»åŠ¡é‡è¿°\nè¯·
å‚è€ƒæ ·ä¾‹ï¼ŒæŒ‰ç…§ä»»åŠ¡è¦æ±‚ï¼Œè¯†åˆ«å‡ºå½“å‰ç®€å†ä¸­æ‰€æœ‰çš„å‘½åå®ä½“ï¼Œå¹¶ä»¥jsoæ ¼å¼è¿”å›ç»“æœã€‚Â·]ï¼Œ&amp;lsquo;output&amp;rsquo;:[&amp;rsquo;{&amp;ldquo;å§“å&amp;rdquo;ï¼š[&amp;ldquo;é«˜å‹‡&amp;rdquo;]ï¼Œ&amp;ldquo;å›½ç±&amp;rdquo;ï¼š[&amp;ldquo;ä¸­å›½å›½ç±&amp;rdquo;]}&amp;rsquo;]}&lt;/p&gt;
&lt;p&gt;åŠ è½½tokenizer&lt;/p&gt;
&lt;p&gt;å®šä¹‰æ•°æ®å¤„ç†å‡½æ•°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-PYTHON&#34; data-lang=&#34;PYTHON&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;process_func&lt;/span&gt; (example):
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    MAX_LENGTH &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;384&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;#Llamaåˆ†è¯å™¨ä¼šå°†ä¸­æ–‡å­—åˆ‡åˆ†ä¸ºå¤šä¸ªtokenå› æ­¤éœ€è¦æ”¾å¼€ä¸€äº›æœ€å¤§é•¿åº¦ï¼Œä¿è¯æ•°æ®çš„å®Œæ•´æ€§ã€‚&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    instruction &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tokenizer (f &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;{example [&amp;#39;input&amp;#39;]} &amp;lt; sep &amp;gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Response &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tokenizer (f &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;{example [&amp;#39;output&amp;#39;]} &amp;lt; eod &amp;gt;&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    input_ids &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; instruction [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;input_ids&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; response [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;input_ids&amp;#34;&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    attention_mask &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; len (input_ids)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;100&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; len (instruction [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;input_ids&amp;#34;&lt;/span&gt;]) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; response [&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;input_ids&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#75715e&#34;&gt;#instruction ä¸è®¡ç®—loss&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; len (input_ids) &lt;span style=&#34;color:#f92672&#34;&gt;&amp;gt;&lt;/span&gt; MAX_LENGTH: &lt;span style=&#34;color:#75715e&#34;&gt;# åšä¸€ä¸ªæˆªæ–­&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        input_ids &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; input_ids [: MAX_LENGTH]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        attention_mask &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; attention_mask [: MAX_LENGTH]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        Labels &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; labels [: MAX_LENGTH]
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;input_ids&amp;#34;&lt;/span&gt;: input_ids,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;attention_mask&amp;#34;&lt;/span&gt;: attention_mask,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Labels&amp;#34;&lt;/span&gt;: labels
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;éœ€è¦ä½¿ç”¨tokenizerè®²æ–‡æœ¬è½¬ä¸ºidï¼ŒåŒæ—¶è®²inputå’Œoutputå‡­å€Ÿï¼Œç»„æˆinput_idså’Œattention_mask&lt;/p&gt;
&lt;p&gt;æºå¤§æ¨¡å‹éœ€è¦åœ¨inputåé¢æ·»åŠ ä¸€ä¸ªç‰¹æ®Šçš„token&lt;!-- raw HTML omitted --&gt;åœ¨outputåé¢æ·»åŠ ä¸€ä¸ªç‰¹æ®Šçš„token&lt;!-- raw HTML omitted --&gt;ï¼ŒåŒæ—¶ä¸ºäº†é˜²æ­¢æ•°æ®è¶…é•¿è¿›è¡Œäº†ä¸€ä¸ªé˜¶æ®µå¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åä½¿ç”¨mapå‡½æ•°å¯¹æ•´ä¸ªæ•°æ®é›†è¿›è¡Œé¢„å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903013701994.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903013701994&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¤„ç†å®Œæ¯•åï¼Œä½¿ç”¨tokenizerçš„decodeå‡½æ•°ï¼Œå°†idè½¬å›æ–‡æœ¬ï¼Œè¿›è¡Œæœ€åçš„æ£€æŸ¥ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903013745556.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903013745556&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;24æ¨¡å‹è®­ç»ƒ&#34;&gt;2.4æ¨¡å‹è®­ç»ƒ
&lt;/h2&gt;&lt;p&gt;åŠ è½½å¤§æ¨¡å‹å‚æ•°ï¼Œç„¶åæ‰“å°æ¨¡å‹ç»“æ„&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903013818454.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903013818454&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;Yuanå¤§æ¨¡å‹ä¸­åŒ…å«24å±‚YuanDecoderLayeræ¯å±‚åŒ…å«self_attnã€mplå’Œlayernormã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è¿›è¡Œæ¨¡å‹ä½¿ç”¨è®­ç»ƒï¼Œéœ€è¦å…ˆæ‰§è¡Œï¼Œmodel.enable_input_require_grads()&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903013940673.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903013940673&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æœ€åæ‰“å°æ¨¡å‹çš„æ•°æ®ç±»å‹ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯&lt;code&gt;torch.bfloat16&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014026174.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014026174&#34;
	
	
&gt;&lt;/p&gt;
&lt;h4 id=&#34;ä½¿ç”¨loraè¿›è¡Œè½»é‡åŒ–å¾®è°ƒ&#34;&gt;ä½¿ç”¨loraè¿›è¡Œè½»é‡åŒ–å¾®è°ƒ
&lt;/h4&gt;&lt;p&gt;é…ç½®&lt;code&gt;LoraConfig&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014101199.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014101199&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æ„å»ºä¸€ä¸ª&lt;code&gt;PeftModel&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014123587.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014123587&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;é€šè¿‡&lt;code&gt;mdoel.print_trainable_parameters()&lt;/code&gt;å¯ä»¥çœ‹åˆ°éœ€è¦è®­ç»ƒçš„å‚æ•°åœ¨æ‰€æœ‰å‚æ•°ä¸­çš„å æ¯”&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014212565.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014212565&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ç„¶åï¼Œè®¾ç½®è®­ç»ƒå‚æ•°&lt;code&gt;TrainingArguments&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014243787.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014243787&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åŒæ—¶åˆå§‹åŒ–ä¸€ä¸ªTrainer:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014301380.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014301380&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æœ€åå…è®¸trainer.train()jæ‰§è¡Œæ¨¡å‹è®­ç»ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014325730.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014325730&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è®­ç»ƒè¿‡ç¨‹ä¸­ä¼šæ‰“å°æ¨¡å‹è®­çš„lossï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡lossé™ä½çš„æƒ…å†µï¼Œæ£€æŸ¥æ¨¡å‹æ˜¯å¦æ”¶æ•›ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014406705.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014406705&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;è®­ç»ƒå®Œæˆåï¼Œä¼šæ‰“å°è®­ç»ƒç›¸å…³çš„ä¿¡æ¯ï¼š&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014442066.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014442066&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åŒæ—¶ï¼Œä¼šçœ‹åˆ°outputæ–‡ä»¶å¤¹ä¸­å‡ºç°äº†3ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¯ä¸ªæ–‡ä»¶å¤¹ä¸‹ä¿å­˜è¿™æ¯ä¸ªepochè®­ç»ƒç©çš„æ¨¡å‹&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014524835.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014524835&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;ä»¥epoch3ä¸ºä¾‹ï¼Œå¯ä»¥çœ‹åˆ°å…¶ä¸­ä¿å­˜äº†è®­ç»ƒçš„configï¼Œstateï¼Œckptç­‰ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014557488.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014557488&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;25æ•ˆæœéªŒè¯&#34;&gt;2.5æ•ˆæœéªŒè¯
&lt;/h2&gt;&lt;p&gt;é€šè¿‡ç”Ÿæˆå‡½æ•°&lt;code&gt;generate()&lt;/code&gt;è¿›è¡Œæ•ˆæœéªŒè¯&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014626096.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014626096&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;åŒæ—¶å®šä¹‰å¥½è¾“å…¥çš„prompt templateä¸­è¦å’Œè®­ç»ƒä¿æŒä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014716879.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014716879&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æœ€åè¿›è¡Œè¾“å…¥æ ·ä¾‹è¿›è¡Œæµ‹è¯•&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014733015.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014733015&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ç»è¿‡æ¨¡å‹å¾®è°ƒï¼Œæ¨¡å‹å·²ç»å…·å¤‡äº†ç›¸åº”çš„èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240903014822453.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240903014822453&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;å ç”¨17Gæ˜¾å­˜ï¼Œæ˜¾å­˜å ç”¨çš„å¤šå°‘å’Œéœ€è¦è®­ç»ƒçš„æ¨¡å‹å‚æ•°ï¼Œbatch sizeç­‰ç›¸å…³ï¼Œå¯ä»¥å°è¯•ä¸åŒçš„è®­ç»ƒé…ç½®ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°è¯•ä½¿ç”¨è®­ç»ƒçš„æ¨¡å‹&#34;&gt;å°è¯•ä½¿ç”¨è®­ç»ƒçš„æ¨¡å‹
&lt;/h2&gt;&lt;p&gt;é‡å¯å†…æ ¸ï¼Œå¯ä»¥çœ‹åˆ°æ˜¾å­˜å·²è¢«æ¸…ç©ºã€‚ç„¶åstreamlitå¯åŠ¨é¡¹ç›®å³å¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;31ä»»åŠ¡æŒ‘é€‰å’Œè®­ç»ƒé›†æ„å»º&#34;&gt;3.1ä»»åŠ¡æŒ‘é€‰å’Œè®­ç»ƒé›†æ„å»º
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;åŸåˆ™ï¼šä»»åŠ¡æ˜¯å¦å¿…é¡»å¾®è°ƒï¼Œå•çº¯é€šè¿‡promptæˆ–è€…RAGèƒ½å¦è§£å†³&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä»»åŠ¡æ¥æºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å·²æœ‰çš„ä»»åŠ¡ï¼šä¼ ç»Ÿçš„NLPä»»åŠ¡ï¼Œåˆ†ç±»ï¼ŒNERç­‰-&amp;gt;ç›´æ¥æœç”¨å¼€æºè®­ç»ƒé›†&lt;/li&gt;
&lt;li&gt;æ–°ä»»åŠ¡ï¼šæ„å»ºåº”ç”¨è¿‡ç¨‹ä¸­ä¾èµ–çš„èƒ½åŠ›-&amp;gt;æœ‰æ— å¼€æºè®­ç»ƒé›†å¯ä»¥æœç”¨ï¼Ÿæ²¡æœ‰å¦‚ä½•æ”¶é›†æ•°æ®ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®­ç»ƒé›†é¢„å¤„ç†ï¼Œæ”¶é›†å¥½çš„æ•°æ®éœ€è¦å“ªäº›é¢„å¤„ç†æ­¥éª¤ï¼Ÿæ•°æ®æ¸…æ´—ï¼Ÿå»é‡ï¼Ÿ&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;32å¾®è°ƒå®æˆ˜&#34;&gt;3.2å¾®è°ƒå®æˆ˜
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;æ•ˆæœæµ‹è¯•ï¼šæµ‹è¯•é›†å¦‚ä½•æ¥ï¼Œè½»é‡åŒ–å¾®è°ƒæ•ˆæœèƒ½å¦è¾¾åˆ°éœ€æ±‚ï¼Ÿ&lt;/li&gt;
&lt;li&gt;æ•ˆæœè°ƒä¼˜ï¼šæ²¡æœ‰è¾¾åˆ°çš„åŸå› æœ‰é‚£äº›ï¼Ÿæ•°æ®ä¸å¤Ÿï¼Ÿå‚æ•°è®¾ç½®ä¸å¯¹ï¼Ÿéœ€è¦å…¨é‡å¾®è°ƒï¼Ÿæ¨¡å‹å¤ªå°?&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;33æ•°æ®é›†æ¨è&#34;&gt;3.3æ•°æ®é›†æ¨è
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Huggingface dataset: &lt;a class=&#34;link&#34; href=&#34;https://hf-mirror.com/datasets&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://hf-mirror.com/datasets&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é­”æ­ï¼š &lt;a class=&#34;link&#34; href=&#34;https://modelscope.cn/datasets&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://modelscope.cn/datasets&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;openDataLab æ•°æ®é›†: &lt;a class=&#34;link&#34; href=&#34;https://opendatalab.org.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://opendatalab.org.cn/&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å’Œé²¸ç¤¾åŒº æ•°æ®é›†: &lt;a class=&#34;link&#34; href=&#34;https://www.heywhale.com/home/dataset&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.heywhale.com/home/dataset&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;git clone &lt;a class=&#34;link&#34; href=&#34;https://www.modelscope.cn/datasets/Datawhale/AICamp_yuan_baseline.git&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.modelscope.cn/datasets/Datawhale/AICamp_yuan_baseline.git&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Datawhale AIå¤ä»¤è¥ç¬¬å››æœŸå¤§æ¨¡å‹åº”ç”¨å¼€å‘-Task01</title>
        <link>http://localhost:1313/post/llm/</link>
        <pubDate>Sat, 10 Aug 2024 17:06:00 +0000</pubDate>
        
        <guid>http://localhost:1313/post/llm/</guid>
        <description>&lt;img src="http://localhost:1313/post/cover/datawhale-cover.png" alt="Featured image of post Datawhale AIå¤ä»¤è¥ç¬¬å››æœŸå¤§æ¨¡å‹åº”ç”¨å¼€å‘-Task01" /&gt;&lt;h1 id=&#34;datawhale-aiå¤ä»¤è¥ç¬¬å››æœŸå¤§æ¨¡å‹åº”ç”¨å¼€å‘-task01&#34;&gt;Datawhale AIå¤ä»¤è¥ç¬¬å››æœŸå¤§æ¨¡å‹åº”ç”¨å¼€å‘-Task01
&lt;/h1&gt;&lt;p&gt;é¦–å…ˆäº†è§£ä¸€äº›èƒŒæ™¯çŸ¥è¯†ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ä¸€ä»€ä¹ˆæ˜¯å¤§æ¨¡å‹&#34;&gt;ä¸€ã€&lt;strong&gt;ä»€ä¹ˆæ˜¯å¤§æ¨¡å‹&lt;/strong&gt;
&lt;/h1&gt;&lt;h2 id=&#34;è¯­è¨€æ¨¡å‹å‘å±•å†å²&#34;&gt;è¯­è¨€æ¨¡å‹å‘å±•å†å²
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¯­è¨€æ¨¡å‹ï¼šä¸ºäº†å¯¹äººç±»è¯­è¨€çš„å†…åœ¨è§„å¾‹è¿›è¡Œå»ºæ¨¡ï¼Œç ”ç©¶è€…ä»¬æå‡ºä½¿ç”¨è¯­è¨€æ¨¡å‹ï¼ˆlanguage modelï¼‰æ¥å‡†ç¡®é¢„æµ‹è¯åºåˆ—ä¸­ &lt;code&gt;ä¸‹ä¸€ä¸ªè¯&lt;/code&gt; æˆ–è€… &lt;code&gt;ç¼ºå¤±çš„è¯&lt;/code&gt; çš„æ¦‚ç‡ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç»Ÿè®¡è¯­è¨€æ¨¡å‹ï¼šä½¿ç”¨é©¬å„¿å¯å¤«å‡è®¾ï¼Œå‡è®¾å½“å‰è¯ä¸ä¹‹å‰çš„è¯äº§ç”Ÿè”ç³»ã€‚&lt;/p&gt;
&lt;p&gt;ä¸­æ–‡ä¸­ï¼Œå»ºç«‹nå…ƒè¯­è¨€æ¨¡å‹ï¼Œnå…ƒä½œä¸ºæœ€å°çš„&lt;strong&gt;è¯­ä¹‰å•å…ƒ&lt;/strong&gt;è¿›è¡Œå»ºæ¨¡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¥ç»è¯­è¨€æ¨¡å‹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸Šä¸‹æ–‡&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç»Ÿè®¡è¯­è¨€æ¨¡å‹ï¼ˆStatistical Language Model, SLMï¼‰ï¼šä½¿ç”¨é©¬å°”å¯å¤«å‡è®¾ï¼ˆMarkov Assumptionï¼‰æ¥å»ºæ¨¡è¯­è¨€åºåˆ—çš„ ğ‘› å…ƒï¼ˆğ‘›-gramï¼‰è¯­è¨€æ¨¡å‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç¥ç»è¯­è¨€æ¨¡å‹ï¼ˆNeural Language Model, NLMï¼‰ï¼šåŸºäºç¥ç»ç½‘ç»œæ„å»ºè¯­è¨€æ¨¡å‹ï¼Œå¦‚å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRecurrent Neural Networks, RNNï¼‰ï¼Œå¹¶å­¦ä¹ ä¸Šä¸‹æ–‡ç›¸å…³çš„è¯è¡¨ç¤ºï¼ˆå³åˆ†å¸ƒå¼è¯å‘é‡ï¼‰ï¼Œä¹Ÿè¢«ç§°ä¸ºè¯åµŒå…¥ï¼ˆWord Embeddingï¼‰ã€‚ä»£è¡¨æ€§å·¥ä½œï¼šword2vec&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;é¢„è®­ç»ƒè¯­è¨€æ¨¡å‹ï¼ˆPre-trained Language Model, PLMï¼‰ï¼šä½¿ç”¨å¤§é‡çš„æ— æ ‡æ³¨æ•°æ®é¢„è®­ç»ƒåŒå‘ LSTMï¼ˆBidirectional LSTM, biLSTMï¼‰æˆ–è€…Transformerï¼Œç„¶ååœ¨ä¸‹æ¸¸ä»»åŠ¡ä¸Šè¿›è¡Œå¾®è°ƒï¼ˆFine-Tuningï¼‰ã€‚ä»£è¡¨æ€§å·¥ä½œï¼šELMoã€BERTã€GPT-1/2&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŒå‘lstmæ˜¯åœ¨RNNåŸºç¡€ä¸Šè¿›è¡Œæ”¹è¿›çš„æ¨¡å‹&lt;/li&gt;
&lt;li&gt;Transformerï¼Œä½¿ç”¨å¤šå±‚è‡ªæ³¨æ„åŠ›ç»“æ„çš„æ¨¡å‹&lt;/li&gt;
&lt;li&gt;æ— æ ‡æ³¨æ•°æ®ï¼šæ•°æ®æ²¡æœ‰ä»»ä½•äººæ ‡æ³¨ï¼Œæ•°æ®è‡ªç›‘ç£çš„æ–¹å¼è¿›è¡Œå­¦ä¹ -&lt;/li&gt;
&lt;li&gt;å½¢æˆäº†é¢„è®­ç»ƒå¾®è°ƒçš„èŒƒå¼&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¤§è¯­è¨€æ¨¡å‹ï¼ˆLarge Language Model, LLMï¼‰ï¼šåŸºäºâ€œæ‰©å±•æ³•åˆ™â€ï¼ˆScaling Lawï¼‰ï¼Œå³é€šè¿‡å¢åŠ æ¨¡å‹å‚æ•°æˆ–è®­ç»ƒæ•°æ®ï¼Œå¯ä»¥æå‡ä¸‹æ¸¸ä»»åŠ¡çš„æ€§èƒ½ï¼ŒåŒæ—¶å…·æœ‰å°æ¨¡å‹ä¸å…·æœ‰çš„â€œæ¶Œç°èƒ½åŠ›â€ï¼ˆEmergent Abilitiesï¼‰ã€‚ä»£è¡¨æ€§å·¥ä½œï¼šGPT-3ã€ChatGPTã€Claudeã€Llama&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240811171705821.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240811171705821&#34;
	
	
&gt;&lt;/p&gt;
&lt;h1 id=&#34;äºŒå¤§æ¨¡å‹æ˜¯æ€ä¹ˆæ„å»ºçš„ä¸‰ä¸ªé˜¶æ®µ&#34;&gt;äºŒã€å¤§æ¨¡å‹æ˜¯æ€ä¹ˆæ„å»ºçš„ï¼ˆä¸‰ä¸ªé˜¶æ®µï¼‰
&lt;/h1&gt;&lt;p&gt;å¤§æ¨¡å‹çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ†ä¸ºé¢„è®­ç»ƒï¼ˆPretrainingï¼‰ã€æœ‰ç›‘ç£å¾®è°ƒï¼ˆSupervised Fine-tuning, SFTï¼‰ã€åŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ å¯¹é½ï¼ˆReinforcement Learning from Human Feedback, RLHFï¼‰ä¸‰ä¸ªé˜¶æ®µã€‚&lt;/p&gt;
&lt;h3 id=&#34;1é¢„è®­ç»ƒpretraining&#34;&gt;1.&lt;strong&gt;é¢„è®­ç»ƒï¼ˆPretrainingï¼‰&lt;/strong&gt;
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨æµ·é‡çš„æ•°æ®è¿›è¡Œæ¨¡å‹å‚æ•°çš„åˆå§‹å­¦ä¹ ï¼Œæ—¨åœ¨ä¸ºæ¨¡å‹å‚æ•°å¯»æ‰¾åˆ°ä¸€ä¸ªä¼˜è´¨çš„â€œèµ·ç‚¹â€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;1é¢„è®­ç»ƒæŠ€æœ¯çš„å‘å±•&#34;&gt;(1)é¢„è®­ç»ƒæŠ€æœ¯çš„å‘å±•
&lt;/h4&gt;&lt;p&gt;â€‹	è¿™ä¸€æ¦‚å¿µæœ€åˆåœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸèŒèŠ½ï¼Œé€šè¿‡åœ¨ImageNetï¼ˆä¸€ä¸ªå¤§å‹å›¾åƒæ•°æ®é›†ï¼‰ä¸Šçš„è®­ç»ƒï¼Œä¸ºæ¨¡å‹å‚æ•°å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	åæ¥åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰é¢†åŸŸä½¿ç”¨ï¼Œword2vecå¼€åˆ›å…ˆæ²³ï¼Œåˆ©ç”¨æœªæ ‡æ³¨æ–‡æœ¬æ„å»ºè¯åµŒå…¥æ¨¡å‹ï¼›ELMoã€BERTåŠGPT-1åˆ™è¿›ä¸€æ­¥æ¨åŠ¨äº†**â€œé¢„è®­ç»ƒ-å¾®è°ƒâ€èŒƒå¼**çš„æ™®åŠã€‚&lt;/p&gt;
&lt;p&gt;â€‹	èµ·åˆï¼Œåªç”¨äºè§£å†³ç‰¹å®šç±»åˆ«çš„&lt;strong&gt;ä¸‹æ¸¸ä»»åŠ¡&lt;/strong&gt;ï¼›ä¾‹å¦‚æ–‡æœ¬åˆ†ç±»ã€åºåˆ—æ ‡æ³¨ã€åºåˆ—åˆ°åºåˆ—ç”Ÿæˆç­‰ä¼ ç»ŸNLPä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	ä¹‹åï¼ŒGPT-2â€”â€”é€šè¿‡&lt;strong&gt;å¤§è§„æ¨¡æ–‡æœ¬æ•°æ®&lt;/strong&gt;é¢„è®­ç»ƒï¼šæ‰“é€ èƒ½å¤Ÿåº”å¯¹å¹¿æ³›ä»»åŠ¡çš„é€šç”¨è§£å†³æ–¹æ¡ˆï¼Œå¹¶åœ¨GPT-3ä¸­å°†è¿™ä¸€ç†å¿µæ‰©å±•è‡³å‰æ‰€æœªæœ‰çš„è¶…å¤§è§„æ¨¡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨BERTç­‰æ—©æœŸé¢„è®­ç»ƒæ¨¡å‹ä¸­ï¼Œæ¨¡å‹æ¶æ„å’Œè®­ç»ƒä»»åŠ¡å‘ˆç°å‡ºå¤šæ ·åŒ–ç‰¹å¾ã€‚ç„¶è€Œï¼Œéšç€GPTç³»åˆ—æ¨¡å‹çš„å…´èµ·ï¼Œ&lt;strong&gt;â€œè§£ç å™¨æ¶æ„+é¢„æµ‹ä¸‹ä¸€ä¸ªè¯â€&lt;strong&gt;çš„ç­–ç•¥è¯æ˜äº†å…¶å“è¶Šæ•ˆèƒ½ï¼Œæˆä¸ºäº†&lt;/strong&gt;å½“å‰ä¸»æµçš„å¤§æ¨¡å‹æŠ€æœ¯è·¯çº¿&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;2é¢„è®­ç»ƒçš„è¿‡ç¨‹&#34;&gt;(2)é¢„è®­ç»ƒçš„è¿‡ç¨‹
&lt;/h4&gt;&lt;h5 id=&#34;æœé›†å’Œæ¸…æ´—æ–‡æœ¬æ•°æ®&#34;&gt;æœé›†å’Œæ¸…æ´—æ–‡æœ¬æ•°æ®
&lt;/h5&gt;&lt;p&gt;â€‹	é¦–è¦ä»»åŠ¡æ˜¯æœé›†å’Œæ¸…æ´—æµ·é‡çš„æ–‡æœ¬æ•°æ®ï¼Œç¡®ä¿å‰”é™¤æ½œåœ¨çš„æœ‰å®³å†…å®¹ã€‚è·å–é«˜è´¨ã€å¤šå…ƒçš„æ•°æ®é›†ï¼Œå¹¶å¯¹å…¶è¿›è¡Œä¸¥è°¨çš„é¢„å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	é‰´äºæ¨¡å‹çš„çŸ¥è¯†åº“å‡ ä¹å®Œå…¨æºè‡ªè®­ç»ƒæ•°æ®ï¼Œæ•°æ®çš„è´¨é‡ä¸å¤šæ ·æ€§å¯¹æ¨¡å‹æ€§èƒ½è‡³å…³é‡è¦ã€‚è¿™æ˜¯æ‰“é€ é«˜æ€§èƒ½è¯­è¨€æ¨¡å‹çš„å…³é”®æ­¥éª¤ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	å½“å‰ï¼Œå¤šæ•°å¼€æºæ¨¡å‹çš„é¢„è®­ç»ƒå‡åŸºäºæ•°Tçš„tokenã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;å¤§æ¨¡å‹&lt;/th&gt;
&lt;th&gt;token&lt;/th&gt;
&lt;th&gt;è®¡ç®—èµ„æºéœ€æ±‚&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Llama-1&lt;/td&gt;
&lt;td&gt;1T&lt;/td&gt;
&lt;td&gt;2,048å—A100 80GB GPUä¸‰å‘¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Llama-2&lt;/td&gt;
&lt;td&gt;2T&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Llama-3&lt;/td&gt;
&lt;td&gt;15T&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;â€‹	é™¤äº†å¯¹æ•°æ®é‡çš„è‹›åˆ»è¦æ±‚ï¼Œé¢„è®­ç»ƒé˜¶æ®µå¯¹è®¡ç®—èµ„æºçš„éœ€æ±‚ä¹Ÿæä¸ºåºå¤§ã€‚ä»¥Llama-1çš„65Bå‚æ•°æ¨¡å‹ä¸ºä¾‹ï¼Œå…¶åœ¨2,048å—A100 80GB GPUé›†ç¾¤ä¸Šè¿›è¡Œäº†æ¥è¿‘ä¸‰å‘¨çš„è®­ç»ƒã€‚&lt;/p&gt;
&lt;h5 id=&#34;è®­ç»ƒåŠç»†èŠ‚&#34;&gt;è®­ç»ƒåŠç»†èŠ‚
&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;æ­¤å¤–ï¼Œé¢„è®­ç»ƒè¿‡ç¨‹ä¸­è¿˜æ¶‰åŠè¯¸å¤šç»†èŠ‚ï¼Œè¯¸å¦‚&lt;strong&gt;æ•°æ®é…æ¯”ã€å­¦ä¹ ç‡è°ƒåº¦ã€æ¨¡å‹è¡Œä¸ºç›‘æµ‹ç­‰&lt;/strong&gt;ï¼Œè¿™äº›å¾€å¾€ç¼ºä¹å…¬å¼€çš„æœ€ä½³å®è·µæŒ‡å¯¼ï¼Œéœ€è¦ç ”å‘å›¢é˜Ÿå…·å¤‡æ·±åšçš„è®­ç»ƒç»éªŒä¸æ•…éšœæ’æŸ¥èƒ½åŠ›ï¼Œä»¥è§„é¿è®­ç»ƒè¿‡ç¨‹ä¸­çš„å›æº¯ä¸é‡å¤è¿­ä»£ï¼ŒèŠ‚çº¦è®¡ç®—èµ„æºï¼Œæé«˜è®­ç»ƒæ•ˆç‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€‹	æ€»ä½“è€Œè¨€ï¼Œé¢„è®­ç»ƒä¸ä»…æ˜¯ä¸€é¡¹æŠ€æœ¯æŒ‘æˆ˜ï¼Œæ›´æ˜¯ä¸€åœºå¯¹æ•°æ®è´¨é‡ã€ç®—åŠ›æŠ•å…¥ä¸ç ”å‘æ™ºæ…§çš„ç»¼åˆè€ƒéªŒã€‚&lt;/p&gt;
&lt;h3 id=&#34;2æœ‰ç›‘ç£å¾®è°ƒsupervised-fine-tuning-sftæˆ–æŒ‡ä»¤å¾®è°ƒinstruction-tuning&#34;&gt;2.æœ‰ç›‘ç£å¾®è°ƒï¼ˆSupervised Fine-tuning, SFTï¼‰æˆ–**æŒ‡ä»¤å¾®è°ƒ(instruction tuning)
&lt;/h3&gt;&lt;h4 id=&#34;é¢„è®­ç»ƒæ¨¡å‹èƒ½åŠ›é™åˆ¶&#34;&gt;é¢„è®­ç»ƒæ¨¡å‹èƒ½åŠ›é™åˆ¶
&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å¤§è§„æ¨¡é¢„è®­ç»ƒåï¼Œæ¨¡å‹å·²ç»å…·å¤‡è¾ƒå¼ºçš„æ¨¡å‹èƒ½åŠ›ï¼Œèƒ½å¤Ÿç¼–ç ä¸°å¯Œçš„ä¸–ç•ŒçŸ¥è¯†ï¼Œä½†æ˜¯ç”±äº&lt;strong&gt;é¢„è®­ç»ƒä»»åŠ¡å½¢å¼&lt;/strong&gt;æ‰€é™ï¼Œ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿™äº›æ¨¡å‹æ›´æ“…é•¿äºæ–‡æœ¬è¡¥å…¨ï¼Œå¹¶ä¸é€‚åˆç›´æ¥è§£å†³å…·ä½“çš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;å°½ç®¡å¼•å…¥äº†è¯¸å¦‚&lt;strong&gt;ä¸Šä¸‹æ–‡å­¦ä¹ ï¼ˆIn-Context Learning, ICLï¼‰&lt;strong&gt;ç­‰&lt;/strong&gt;æç¤ºå­¦ä¹ ç­–ç•¥&lt;/strong&gt;ä»¥å¢å¼ºæ¨¡å‹çš„é€‚åº”æ€§ï¼Œä½†&lt;strong&gt;æ¨¡å‹æœ¬èº«åœ¨ä¸‹æ¸¸ä»»åŠ¡è§£å†³ä¸Šçš„èƒ½åŠ›ä»å—é™&lt;/strong&gt;ã€‚ä¸ºäº†å…‹æœè¿™ä¸€å±€é™ï¼Œé¢„è®­ç»ƒåçš„å¤§å‹è¯­è¨€æ¨¡å‹å¾€å¾€éœ€ç»å†å¾®è°ƒè¿‡ç¨‹ï¼Œä»¥æå‡å…¶åœ¨&lt;strong&gt;ç‰¹å®šä»»åŠ¡ä¸­çš„è¡¨ç°ã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç›®å‰æ¥è¯´ï¼Œæ¯”è¾ƒå¹¿æ³›ä½¿ç”¨çš„å¾®è°ƒæŠ€æœ¯æ˜¯â€œ&lt;strong&gt;æœ‰ç›‘ç£å¾®è°ƒ&lt;/strong&gt;â€ï¼ˆä¹Ÿå«åš&lt;strong&gt;æŒ‡ä»¤å¾®è°ƒï¼ŒInstruction Tuning&lt;/strong&gt;ï¼‰ï¼šè¯¥æ–¹æ³•åˆ©ç”¨æˆå¯¹çš„ä»»åŠ¡è¾“å…¥ä¸é¢„æœŸè¾“å‡ºæ•°æ®ï¼Œè®­ç»ƒæ¨¡å‹å­¦ä¼šä»¥é—®ç­”çš„å½¢å¼è§£ç­”é—®é¢˜ï¼Œä»è€Œè§£é”å…¶ä»»åŠ¡è§£å†³æ½œèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;ç»è¿‡æŒ‡ä»¤å¾®è°ƒåï¼Œå¤§è¯­è¨€æ¨¡å‹èƒ½å¤Ÿå±•ç°å‡ºè¾ƒå¼ºçš„æŒ‡ä»¤éµå¾ªèƒ½åŠ›ï¼Œå¯ä»¥é€šè¿‡&lt;strong&gt;é›¶æ ·æœ¬å­¦ä¹ &lt;/strong&gt;çš„æ–¹å¼è§£å†³å¤šç§ä¸‹æ¸¸ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æŒ‡ä»¤å¾®è°ƒæ›´å¤šåœ°æ‰®æ¼”ç€å‚¬åŒ–å‰‚çš„è§’è‰²ï¼Œæ¿€æ´»æ¨¡å‹å†…åœ¨çš„æ½œåœ¨èƒ½åŠ›ï¼Œè€Œéå•çº¯åœ°çŒè¾“ä¿¡æ¯&lt;/strong&gt;ã€‚**&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;sftçš„ä¼˜ç‚¹&#34;&gt;SFTçš„ä¼˜ç‚¹
&lt;/h4&gt;&lt;p&gt;ç›¸è¾ƒäºé¢„è®­ç»ƒæ‰€éœ€çš„æµ·é‡æ•°æ®ï¼ŒæŒ‡ä»¤å¾®è°ƒ&lt;strong&gt;æ‰€éœ€æ•°æ®é‡æ˜¾è‘—å‡å°‘&lt;/strong&gt;ï¼Œä»å‡ åä¸‡åˆ°ä¸Šç™¾ä¸‡æ¡ä¸ç­‰çš„æ•°æ®ï¼Œå‡å¯æœ‰æ•ˆæ¿€å‘æ¨¡å‹çš„é€šç”¨ä»»åŠ¡è§£å†³èƒ½åŠ›ï¼Œç”šè‡³æœ‰ç ”ç©¶è¡¨æ˜ï¼Œå°‘é‡é«˜è´¨é‡çš„æŒ‡ä»¤æ•°æ®ï¼ˆæ•°åƒè‡³æ•°ä¸‡æ¡ï¼‰äº¦èƒ½å®ç°ä»¤äººæ»¡æ„çš„å¾®è°ƒæ•ˆæœã€‚è¿™ä¸ä»…é™ä½äº†å¯¹è®¡ç®—èµ„æºçš„ä¾èµ–ï¼Œä¹Ÿæå‡äº†å¾®è°ƒçš„çµæ´»æ€§ä¸æ•ˆç‡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;3åŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ å¯¹é½&#34;&gt;3.åŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ å¯¹é½
&lt;/h3&gt;&lt;p&gt;é™¤äº†æå‡ä»»åŠ¡çš„è§£å†³èƒ½åŠ›å¤–ï¼Œå¤§è¯­è¨€æ¨¡å‹ä¸**äººç±»æœŸæœ›ã€éœ€æ±‚åŠä»·å€¼è§‚çš„å¯¹é½ï¼ˆAlignmentï¼‰**è‡³å…³é‡è¦ï¼Œè¿™å¯¹äºå¤§æ¨¡å‹çš„åº”ç”¨å…·æœ‰é‡è¦çš„æ„ä¹‰ã€‚&lt;/p&gt;
&lt;h4 id=&#34;instructgptè®ºæ–‡æå‡º&#34;&gt;InstructGPTè®ºæ–‡æå‡º
&lt;/h4&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://zhuanlan.zhihu.com/p/613688211&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;InstructGPTè®ºæ–‡è§£è¯» - çŸ¥ä¹ (zhihu.com)&lt;/a&gt;OpenAIåœ¨ 2022 å¹´åˆå‘å¸ƒ&lt;/p&gt;
&lt;p&gt;â€‹	è¯¦å°½é˜è¿°äº†å¦‚ä½•å®ç°è¯­è¨€æ¨¡å‹ä¸äººç±»å¯¹é½ã€‚è®ºæ–‡æå‡ºäº†&lt;strong&gt;åŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ å¯¹é½ï¼ˆReinforcement Learning from Human Feedback, RLHFï¼‰&lt;/strong&gt;ï¼Œé€šè¿‡æŒ‡ä»¤å¾®è°ƒåçš„å¼ºåŒ–å­¦ä¹ ï¼Œæå‡æ¨¡å‹çš„äººç±»å¯¹é½åº¦ã€‚RLHFçš„&lt;strong&gt;æ ¸å¿ƒåœ¨äºæ„å»ºä¸€ä¸ªåæ˜ äººç±»ä»·å€¼è§‚çš„å¥–åŠ±æ¨¡å‹ï¼ˆReward Modelï¼‰&lt;/strong&gt;ã€‚è¿™ä¸€æ¨¡å‹çš„è®­ç»ƒä¾èµ–äºä¸“å®¶å¯¹æ¨¡å‹å¤šç§è¾“å‡ºçš„åå¥½æ’åºï¼Œé€šè¿‡åå¥½æ•°æ®è®­ç»ƒå‡ºçš„å¥–åŠ±æ¨¡å‹èƒ½å¤Ÿæœ‰æ•ˆè¯„åˆ¤æ¨¡å‹è¾“å‡ºçš„è´¨é‡ã€‚&lt;/p&gt;
&lt;h4 id=&#34;å…¶ä»–ç®€åŒ–æ–¹æ³•&#34;&gt;å…¶ä»–ç®€åŒ–æ–¹æ³•
&lt;/h4&gt;&lt;p&gt;â€‹	ç›®å‰è¿˜æœ‰å¾ˆå¤šå·¥ä½œè¯•å›¾&lt;strong&gt;å»é™¤å¤æ‚çš„å¼ºåŒ–å­¦ä¹ ç®—æ³•&lt;/strong&gt;ï¼Œæˆ–&lt;strong&gt;å…¶ä»–ä½¿ç”¨ SFT&lt;/strong&gt; æ–¹å¼æ¥è¾¾åˆ°ä¸ RLHF ç›¸ä¼¼çš„æ•ˆæœï¼Œä»è€Œç®€åŒ–æ¨¡å‹çš„å¯¹é½è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç›´æ¥åå¥½ä¼˜åŒ–ï¼ˆDirect Preference Optimization, DPOï¼‰&lt;/strong&gt;ï¼Œå®ƒé€šè¿‡ä¸æœ‰ç›‘ç£å¾®è°ƒç›¸ä¼¼çš„å¤æ‚åº¦å®ç°æ¨¡å‹ä¸äººç±»å¯¹é½ï¼Œæ˜¯ä¸€ç§å…¸å‹çš„ä¸éœ€è¦å¼ºåŒ–å­¦ä¹ çš„å¯¹é½ç®—æ³•ã€‚ç›¸æ¯”RLHFï¼ŒDPOä¸å†éœ€è¦åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­é’ˆå¯¹å¤§æ¨¡å‹è¿›è¡Œé‡‡æ ·ï¼ŒåŒæ—¶è¶…å‚æ•°çš„é€‰æ‹©æ›´åŠ å®¹æ˜“ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ€åï¼Œæˆ‘ä»¬ä»¥å¼€æºå¤§æ¨¡å‹Llama-2-Chatä¸ºä¾‹ï¼Œç®€è¦ä»‹ç»ä¸€ä¸‹å…¶è®­ç»ƒè¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240811171726174.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240811171726174&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;â€‹	æ•´ä¸ªè¿‡ç¨‹èµ·å§‹äºåˆ©ç”¨å…¬å¼€æ•°æ®è¿›è¡Œé¢„è®­ç»ƒï¼Œè·å¾—Llama-2ã€‚åœ¨æ­¤ä¹‹åï¼Œé€šè¿‡æœ‰ç›‘ç£å¾®è°ƒåˆ›å»ºäº†Llama-2-Chatçš„åˆå§‹ç‰ˆæœ¬ã€‚éšåï¼Œä½¿ç”¨åŸºäºäººç±»åé¦ˆçš„å¼ºåŒ–å­¦ä¹ ï¼ˆRLHFï¼‰æ–¹æ³•æ¥è¿­ä»£åœ°æ”¹è¿›æ¨¡å‹ï¼Œå…·ä½“åŒ…æ‹¬æ‹’ç»é‡‡æ ·ï¼ˆRejection Samplingï¼‰å’Œè¿‘ç«¯ç­–ç•¥ä¼˜åŒ–ï¼ˆProximal Policy Optimization, PPOï¼‰ã€‚åœ¨RLHFé˜¶æ®µï¼Œäººç±»åå¥½æ•°æ®ä¹Ÿåœ¨å¹¶è¡Œè¿­ä»£ï¼Œä»¥ä¿æŒå¥–åŠ±æ¨¡å‹çš„æ›´æ–°ã€‚&lt;/p&gt;
&lt;h1 id=&#34;ä¸‰å¼€æºå¤§æ¨¡å‹å’Œé—­æºå¤§æ¨¡å‹&#34;&gt;ä¸‰ã€å¼€æºå¤§æ¨¡å‹å’Œé—­æºå¤§æ¨¡å‹
&lt;/h1&gt;&lt;p&gt;â€‹	æ ¹æ®ä¸Šé¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œæ„å»ºå¤§æ¨¡å‹ä¸ä»…éœ€è¦&lt;strong&gt;æµ·é‡çš„æ•°æ®&lt;/strong&gt;ï¼Œæ›´ä¾èµ–äº&lt;strong&gt;å¼ºå¤§çš„è®¡ç®—èƒ½åŠ›&lt;/strong&gt;ï¼Œä»¥ç¡®ä¿æ¨¡å‹èƒ½å¤Ÿå¿«é€Ÿè¿­ä»£å’Œä¼˜åŒ–ï¼Œä»è€Œè¾¾åˆ°é¢„æœŸçš„æ€§èƒ½æ°´å¹³ã€‚é‰´äºæ­¤ï¼Œå…¨çƒèŒƒå›´å†…èƒ½å¤Ÿç‹¬ç«‹æ‰¿æ‹…èµ·å¦‚æ­¤åºå¤§è®¡ç®—æˆæœ¬çš„æœºæ„å±ˆæŒ‡å¯æ•°ã€‚è¿™äº›æœºæ„å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸¤å¤§é˜µè¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ä¸€æ˜¯é€‰æ‹©å°†æ¨¡å‹å¼€æºçš„ç»„ç»‡&lt;/strong&gt;ï¼Œä»–ä»¬ç§‰æŒç€ä¿ƒè¿›å­¦æœ¯äº¤æµå’ŒæŠ€æœ¯åˆ›æ–°çš„ç†å¿µï¼Œè®©å…¨çƒçš„ç ”ç©¶è€…å’Œå¼€å‘è€…éƒ½èƒ½å—ç›Šäºè¿™äº›æ¨¡å‹ã€‚é€šè¿‡å¼€æ”¾æ¨¡å‹çš„ä»£ç å’Œæ•°æ®é›†ï¼Œä»–ä»¬åŠ é€Ÿäº†æ•´ä¸ªAIç¤¾åŒºçš„å‘å±•ï¼Œä¿ƒè¿›äº†åˆ›æ–°å’ŒæŠ€æœ¯çš„æ°‘ä¸»åŒ–ã€‚è¿™ä¸€é˜µè¥çš„ä»£è¡¨æœ‰Meta AIã€æµªæ½®ä¿¡æ¯ç­‰ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¦ä¸€ç±»åˆ™æ˜¯ä¿æŒæ¨¡å‹é—­æºçš„å…¬å¸&lt;/strong&gt;ï¼Œå®ƒä»¬é€šå¸¸å°†æ¨¡å‹ä½œä¸ºæ ¸å¿ƒç«äº‰åŠ›ï¼Œç”¨äºæä¾›ä¸“æœ‰æœåŠ¡æˆ–äº§å“ï¼Œä»¥ç»´æŒå•†ä¸šä¼˜åŠ¿ã€‚é—­æºæ¨¡å‹é€šå¸¸ä¼´éšç€ä¸“æœ‰æŠ€æœ¯å’ŒæœåŠ¡ï¼Œä¼ä¸šå¯ä»¥é€šè¿‡APIç­‰æ–¹å¼æä¾›ç»™å®¢æˆ·ä½¿ç”¨ï¼Œè€Œä¸ç›´æ¥å…¬å¼€æ¨¡å‹çš„ç»†èŠ‚æˆ–ä»£ç ã€‚è¿™ç§æ¨¡å¼æœ‰åŠ©äºä¿éšœå…¬å¸çš„å•†ä¸šåˆ©ç›Šï¼ŒåŒæ—¶ä¹Ÿä¸ºç”¨æˆ·æä¾›äº†ç¨³å®šå’Œå®‰å…¨çš„æœåŠ¡ã€‚è¿™ä¸€é˜µè¥çš„ä»£è¡¨æœ‰OpenAIã€ç™¾åº¦ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;æ— è®ºæ˜¯å¼€æºè¿˜æ˜¯é—­æºï¼Œè¿™äº›å¤§æ¨¡å‹éƒ½åœ¨æ¨åŠ¨äººå·¥æ™ºèƒ½é¢†åŸŸå‘å‰å‘å±•ï¼Œå¯¹äºæ¨åŠ¨å¤§è¯­è¨€æ¨¡å‹æŠ€æœ¯çš„æ¸è¿›å¼å‘å±•èµ·åˆ°äº†è‡³å…³é‡è¦çš„ä½œç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä»¥æµªæ½®ä¿¡æ¯ä¸ºä¾‹ï¼Œç®€è¦ä»‹ç»ä¸‹æµªæ½®ä¿¡æ¯æºå¤§æ¨¡å‹å¼€æºä½“ç³»ã€‚&lt;/p&gt;
&lt;h1 id=&#34;å››æºå¤§æ¨¡å‹å¼€æºä½“ç³»æµªæ½®ä¿¡æ¯&#34;&gt;å››ã€&lt;strong&gt;æºå¤§æ¨¡å‹å¼€æºä½“ç³»&lt;/strong&gt;(æµªæ½®ä¿¡æ¯)
&lt;/h1&gt;&lt;p&gt;æˆªæ­¢åˆ°ç›®å‰ï¼Œæµªæ½®ä¿¡æ¯å·²ç»å‘å¸ƒäº†ä¸‰ä¸ªå¤§æ¨¡å‹ï¼š&lt;code&gt;æº1.0&lt;/code&gt; ï¼Œ&lt;code&gt;æº2.0&lt;/code&gt; å’Œ &lt;code&gt;æº2.0-M32&lt;/code&gt;ï¼Œå…¶ä¸­ &lt;code&gt;æº1.0&lt;/code&gt; å¼€æ”¾äº†æ¨¡å‹APIã€é«˜è´¨é‡ä¸­æ–‡æ•°æ®é›†å’Œä»£ç ï¼Œ&lt;code&gt;æº2.0&lt;/code&gt; å’Œ &lt;code&gt;æº2.0-M32&lt;/code&gt; é‡‡ç”¨å…¨é¢å¼€æºç­–ç•¥ï¼Œå…¨ç³»åˆ—æ¨¡å‹å‚æ•°å’Œä»£ç å‡å¯å…è´¹ä¸‹è½½ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240811171740560.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240811171740560&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;2021å¹´9æœˆï¼Œæº1.0å¤§æ¨¡å‹å‘å¸ƒï¼Œå®ƒé‡‡ç”¨76å±‚çš„Transformer Decoderç»“æ„ï¼Œä½¿ç”¨5Tæ•°æ®è®­ç»ƒï¼Œæ‹¥æœ‰2457äº¿å‚æ•°é‡ï¼Œè¶…è¶ŠOpenAIç ”å‘çš„GPT-3ï¼Œæˆä¸ºå…¨çƒæœ€å¤§è§„æ¨¡çš„AIå·¨é‡æ¨¡å‹ï¼Œè¡¨ç°å‡ºäº†å‡ºè‰²çš„ä¸­æ–‡ç†è§£ä¸åˆ›ä½œèƒ½åŠ›ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/Shawn-IEITSystems/Yuan-1.0&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;é¡¹ç›®é“¾æ¥: https://github.com/Shawn-IEITSystems/Yuan-1.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://mp.weixin.qq.com/s/6CH0I4eOLzj3YDZyIxdeEQ&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜æ–¹æŠ¥é“: https://mp.weixin.qq.com/s/6CH0I4eOLzj3YDZyIxdeEQ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://arxiv.org/abs/2110.04725&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è®ºæ–‡é“¾æ¥: https://arxiv.org/abs/2110.04725&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240811171748984.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240811171748984&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;2023å¹´11æœˆï¼Œæº2.0å¤§æ¨¡å‹å‘å¸ƒï¼Œå®ƒä½¿ç”¨10Tæ•°æ®è®­ç»ƒï¼ŒåŒ…æ‹¬1026äº¿ã€518äº¿ã€21äº¿ ä¸‰æ¬¾å‚æ•°è§„æ¨¡ï¼Œåœ¨æ•°ç†é€»è¾‘ã€ä»£ç ç”Ÿæˆç­‰æ–¹é¢è¡¨ç°å‡ºè‰²ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ç®—æ³•æ–¹é¢ï¼Œä¸ä¼ ç»ŸAttentionå¯¹è¾“å…¥çš„æ‰€æœ‰æ–‡å­—ä¸€è§†åŒä»ä¸åŒï¼Œ&lt;/p&gt;
&lt;h2 id=&#34;å±€éƒ¨æ³¨æ„åŠ›è¿‡æ»¤å¢å¼ºæœºåˆ¶localized-filtering-based-attention-lfa&#34;&gt;å±€éƒ¨æ³¨æ„åŠ›è¿‡æ»¤å¢å¼ºæœºåˆ¶ï¼ˆLocalized Filtering-based Attention, LFAï¼‰
&lt;/h2&gt;&lt;p&gt;æº2.0æå‡ºï¼Œå®ƒå‡è®¾è‡ªç„¶è¯­è¨€ç›¸é‚»è¯ä¹‹é—´æœ‰æ›´å¼ºçš„è¯­ä¹‰å…³è”ï¼Œå› æ­¤é’ˆå¯¹å±€éƒ¨ä¾èµ–è¿›è¡Œäº†å»ºæ¨¡ï¼Œæœ€åä½¿å¾—æ¨¡å‹ç²¾åº¦æé«˜3.53%ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/IEIT-Yuan/Yuan-2.0&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;é¡¹ç›®é“¾æ¥: https://github.com/IEIT-Yuan/Yuan-2.0&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://mp.weixin.qq.com/s/rjnsUS83TT7aEN3r2i0IPQ&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜æ–¹æŠ¥é“: https://mp.weixin.qq.com/s/rjnsUS83TT7aEN3r2i0IPQ&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://arxiv.org/abs/2311.15786&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è®ºæ–‡é“¾æ¥: https://arxiv.org/abs/2311.15786&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240811171756911.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240811171756911&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;2024å¹´5æœˆï¼Œæº2.0-M32å‘å¸ƒï¼Œå®ƒæ˜¯ä¸€ä¸ªæ··åˆä¸“å®¶ï¼ˆMixture of Experts, MoEï¼‰å¤§æ¨¡å‹ï¼Œä½¿ç”¨2000B Tokensè®­ç»ƒï¼ŒåŒ…å«400äº¿å‚æ•°ï¼Œ37äº¿æ¿€æ´»å‚æ•°&lt;/p&gt;
&lt;p&gt;æº2.0-M32 åŒ…å«32ä¸ªä¸“å®¶ï¼ŒåŸºäºLFA+Attention Routerçš„MoEæ¨¡å‹ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;æº2.0-M32 åœ¨æ•°ç†é€»è¾‘ã€ä»£ç ç”Ÿæˆã€çŸ¥è¯†ç­‰æ–¹é¢ç²¾åº¦å¯¹æ ‡Llama3-70Bï¼Œæ¨ç†ç®—åŠ›é™è‡³1/19ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/IEIT-Yuan/Yuan2.0-M32&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;é¡¹ç›®é“¾æ¥: https://github.com/IEIT-Yuan/Yuan2.0-M32&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://mp.weixin.qq.com/s/WEVyYq9BkTTlO6EAfiCf6w&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜æ–¹æŠ¥é“: https://mp.weixin.qq.com/s/WEVyYq9BkTTlO6EAfiCf6w&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://arxiv.org/abs/2405.17976&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è®ºæ–‡é“¾æ¥: https://arxiv.org/abs/2405.17976&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240811171806132.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240811171806132&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;æœ¬æ¬¡å­¦ä¹ ï¼Œæˆ‘ä»¬å°†ä»¥ &lt;code&gt;æº2.0-2B&lt;/code&gt; æ¨¡å‹ä¸ºä¾‹ï¼Œå¸¦é¢†å¤§å®¶ä¸€èµ·ä½“éªŒæºå¤§æ¨¡å‹ï¼Œæ¬¢è¿å¤§å®¶æ¥ç»™é¡¹ç›®ç‚¹ç‚¹ star å“¦ï¼&lt;/p&gt;
&lt;h1 id=&#34;äº”å¤§æ¨¡å‹æ—¶ä»£æŒ–æ˜æ¨¡å‹èƒ½åŠ›çš„å¼€å‘èŒƒå¼&#34;&gt;äº”ã€å¤§æ¨¡å‹æ—¶ä»£æŒ–æ˜æ¨¡å‹èƒ½åŠ›çš„å¼€å‘èŒƒå¼
&lt;/h1&gt;&lt;p&gt;â€‹	è¿›å…¥å¤§æ¨¡å‹æ—¶ä»£ï¼Œäººå·¥æ™ºèƒ½é¢†åŸŸçš„è¾¹ç•Œæ­£ä»¥å‰æ‰€æœªæœ‰çš„é€Ÿåº¦æ‰©å±•ï¼Œè€Œ&lt;strong&gt;å¦‚ä½•å……åˆ†æŒ–æ˜å¤§æ¨¡å‹çš„å†…åœ¨æ½œèƒ½&lt;/strong&gt;ï¼Œæˆä¸ºäº†åº”ç”¨å¼€å‘è€…é¢å‰çš„ä¸€é“å…³é”®è¯¾é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;â€‹	åœ¨è¿™ä¸€èƒŒæ™¯ä¸‹ï¼Œä¸åŒçš„åº”ç”¨åœºæ™¯å‚¬ç”Ÿäº†&lt;strong&gt;å¤šæ ·åŒ–çš„åº”ç”¨å¼€å‘ç­–ç•¥&lt;/strong&gt;ï¼Œè¿™äº›ç­–ç•¥ä¸ä»…å±•ç°äº†å¤§æ¨¡å‹åº”ç”¨å¼€å‘çš„ä¸°å¯Œå¯èƒ½æ€§ï¼Œä¹Ÿé¢„ç¤ºç€æœªæ¥AIæŠ€æœ¯åœ¨å„è¡Œä¸šè½åœ°çš„å¹¿é˜”å‰æ™¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æœ‰æ‰‹å°±è¡Œçš„promptå·¥ç¨‹&#34;&gt;æœ‰æ‰‹å°±è¡Œçš„Promptå·¥ç¨‹
&lt;/h2&gt;&lt;p&gt;Promptå·¥ç¨‹ï¼ˆPrompt Engineeringï¼‰æ˜¯æŒ‡é€šè¿‡ç²¾å¿ƒæ„é€ æç¤ºï¼ˆPromptï¼‰ï¼Œç›´æ¥è°ƒæ•™å¤§æ¨¡å‹ï¼Œè§£å†³å®é™…é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ›´å……åˆ†åœ°æŒ–æ˜å¤§æ¨¡å‹çš„æ½œèƒ½ï¼Œå‡ºç°äº†ä»¥ä¸‹ä¸¤ç§æŠ€æœ¯ï¼š&lt;/p&gt;
&lt;h3 id=&#34;lctå’Œcot&#34;&gt;LCTå’ŒCoT
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;ä¸Šä¸‹æ–‡å­¦ä¹ ï¼ˆIn-Context Learning, ICLï¼‰ï¼šå°†ä»»åŠ¡è¯´æ˜åŠç¤ºä¾‹èå…¥æç¤ºæ–‡æœ¬ä¹‹ä¸­ï¼Œåˆ©ç”¨æ¨¡å‹è‡ªèº«çš„å½’çº³èƒ½åŠ›ï¼Œæ— éœ€é¢å¤–è®­ç»ƒå³å¯å®Œæˆæ–°ä»»åŠ¡çš„å­¦ä¹ ã€‚&lt;/li&gt;
&lt;li&gt;æ€ç»´é“¾æç¤ºï¼ˆChain-of-Thought, CoTï¼‰ï¼šå¼•å…¥è¿è´¯çš„é€»è¾‘æ¨ç†é“¾æ¡è‡³æç¤ºä¿¡æ¯å†…ï¼Œæ˜¾è‘—å¢å¼ºäº†æ¨¡å‹å¤„ç†å¤æ‚é—®é¢˜æ—¶çš„è§£ææ·±åº¦ä¸å¹¿åº¦ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;embeddingè¾…åŠ©ç»™llmå¤–æ¥å¤§è„‘å¤§æ¨¡å‹åŸºç¡€embedding---çŸ¥ä¹-zhihucomhttpszhuanlanzhihucomp664867771&#34;&gt;Embeddingè¾…åŠ©ç»™LLMå¤–æ¥å¤§è„‘&lt;a class=&#34;link&#34; href=&#34;https://zhuanlan.zhihu.com/p/664867771&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¤§æ¨¡å‹åŸºç¡€ï¼šEmbedding - çŸ¥ä¹ (zhihu.com)&lt;/a&gt;
&lt;/h3&gt;&lt;p&gt;â€‹	å°½ç®¡å¤§æ¨¡å‹å…·æœ‰éå¸¸å‡ºè‰²çš„èƒ½åŠ›ï¼Œç„¶è€Œåœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œä»ç„¶ä¼šå‡ºç°å¤§æ¨¡å‹æ— æ³•æ»¡è¶³æˆ‘ä»¬éœ€æ±‚çš„æƒ…å†µï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ æ–¹é¢åŸå› ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;çŸ¥è¯†å±€é™æ€§ï¼šå¤§æ¨¡å‹çš„çŸ¥è¯†æ¥æºäºè®­ç»ƒæ•°æ®ï¼Œè€Œè¿™äº›æ•°æ®ä¸»è¦æ¥è‡ªäºäº’è”ç½‘ä¸Šå·²ç»å…¬å¼€çš„èµ„æºï¼Œå¯¹äºä¸€äº›&lt;strong&gt;å®æ—¶æ€§çš„æˆ–è€…éå…¬å¼€&lt;/strong&gt;çš„ï¼Œç”±äºå¤§æ¨¡å‹æ²¡æœ‰è·å–åˆ°ç›¸å…³æ•°æ®ï¼Œè¿™éƒ¨åˆ†çŸ¥è¯†ä¹Ÿå°±æ— æ³•è¢«æŒæ¡ã€‚&lt;/li&gt;
&lt;li&gt;æ•°æ®å®‰å…¨æ€§ï¼šä¸ºäº†ä½¿å¾—å¤§æ¨¡å‹èƒ½å¤Ÿå…·å¤‡ç›¸åº”çš„çŸ¥è¯†ï¼Œå°±éœ€è¦å°†æ•°æ®çº³å…¥åˆ°è®­ç»ƒé›†è¿›è¡Œè®­ç»ƒã€‚ç„¶è€Œï¼Œå¯¹äºä¼ä¸šæ¥è¯´ï¼Œæ•°æ®çš„å®‰å…¨æ€§è‡³å…³é‡è¦ï¼Œä»»ä½•å½¢å¼çš„æ•°æ®æ³„éœ²éƒ½å¯èƒ½å¯¹ä¼ä¸šæ„æˆè‡´å‘½çš„å¨èƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¤§æ¨¡å‹å¹»è§‰&lt;/strong&gt;ï¼šç”±äºå¤§æ¨¡å‹æ˜¯åŸºäºæ¦‚ç‡ç»Ÿè®¡è¿›è¡Œæ„å»ºçš„ï¼Œå…¶è¾“å‡ºæœ¬è´¨ä¸Šæ˜¯ä¸€ç³»åˆ—æ•°å€¼è¿ç®—ã€‚å› æ­¤ï¼Œæœ‰æ—¶ä¼šå‡ºç°æ¨¡å‹â€œä¸€æœ¬æ­£ç»åœ°èƒ¡è¯´å…«é“â€çš„æƒ…å†µï¼Œå°¤å…¶æ˜¯åœ¨å¤§æ¨¡å‹ä¸å…·å¤‡çš„çŸ¥è¯†æˆ–ä¸æ“…é•¿çš„åœºæ™¯ä¸­ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› æ­¤ï¼Œå°†çŸ¥è¯†æå‰è½¬æˆEmbeddingå‘é‡ï¼Œå­˜å…¥çŸ¥è¯†åº“ï¼Œç„¶åé€šè¿‡æ£€ç´¢å°†çŸ¥è¯†ä½œä¸ºèƒŒæ™¯ä¿¡æ¯ï¼Œè¿™æ ·å°±ç›¸å½“äºç»™LLMå¤–æ¥å¤§è„‘ï¼Œä½¿å¤§æ¨¡å‹èƒ½å¤Ÿè¿ç”¨è¿™äº›å¤–éƒ¨çŸ¥è¯†ï¼Œç”Ÿæˆå‡†ç¡®ä¸”ç¬¦åˆä¸Šä¸‹æ–‡çš„ç­”æ¡ˆï¼ŒåŒæ—¶èƒ½å¤Ÿå‡å°‘æ¨¡å‹å¹»è§‰çš„å‡ºç°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‚æ•°é«˜æ•ˆå¾®è°ƒparameter-efficient-fine-tuningè½»é‡åŒ–å¾®è°ƒlightweight-fine-tuning&#34;&gt;å‚æ•°é«˜æ•ˆå¾®è°ƒParameter-efficient Fine-tuningï¼Œè½»é‡åŒ–å¾®è°ƒLightweight Fine-tuning
&lt;/h3&gt;&lt;p&gt;åœ¨å®é™…åº”ç”¨åœºæ™¯ä¸­ï¼Œå¤§æ¨¡å‹è¿˜ä¼šç»å¸¸å‡ºç°ä»¥ä¸‹é—®é¢˜ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤§æ¨¡å‹åœ¨å½“å‰ä»»åŠ¡ä¸Šèƒ½åŠ›ä¸ä½³ï¼Œå¦‚æœæå‡å…¶èƒ½åŠ›ï¼Ÿ&lt;/li&gt;
&lt;li&gt;å¦å¤–ï¼Œæ€ä¹ˆä½¿å¤§æ¨¡å‹å­¦ä¹ å…¶æœ¬èº«ä¸å…·å¤‡çš„èƒ½åŠ›å‘¢ï¼Ÿ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™äº›é—®é¢˜çš„ç­”æ¡ˆæ˜¯&lt;strong&gt;æ¨¡å‹å¾®è°ƒ&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¨¡å‹å¾®è°ƒä¹Ÿè¢«ç§°ä¸ºæŒ‡ä»¤å¾®è°ƒï¼ˆInstruction Tuningï¼‰æˆ–è€…æœ‰ç›‘ç£å¾®è°ƒï¼ˆSupervised Fine-tuning, SFTï¼‰ï¼Œé¦–å…ˆéœ€è¦æ„å»ºæŒ‡ä»¤è®­ç»ƒæ•°æ®ï¼Œç„¶åé€šè¿‡æœ‰ç›‘ç£çš„æ–¹å¼å¯¹å¤§æ¨¡å‹çš„å‚æ•°è¿›è¡Œå¾®è°ƒã€‚ç»è¿‡æ¨¡å‹å¾®è°ƒåï¼Œå¤§æ¨¡å‹èƒ½å¤Ÿæ›´å¥½åœ°éµå¾ªå’Œæ‰§è¡Œäººç±»æŒ‡ä»¤ï¼Œè¿›è€Œå®Œæˆä¸‹æ¸¸ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶è€Œï¼Œç”±äºå¤§æ¨¡å‹çš„å‚æ•°é‡å·¨å¤§ï¼Œ è¿›è¡Œ&lt;strong&gt;å…¨é‡å‚æ•°å¾®è°ƒéœ€è¦æ¶ˆè€—éå¸¸å¤šçš„ç®—åŠ›&lt;/strong&gt;ã€‚ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œç ”ç©¶è€…æå‡ºäº†&lt;strong&gt;å‚æ•°é«˜æ•ˆå¾®è°ƒï¼ˆParameter-efficient Fine-tuningï¼‰&lt;/strong&gt;ï¼Œä¹Ÿç§°ä¸º&lt;strong&gt;è½»é‡åŒ–å¾®è°ƒ ï¼ˆLightweight Fine-tuningï¼‰&lt;/strong&gt;ï¼Œè¿™äº›æ–¹æ³•é€šè¿‡è®­ç»ƒæå°‘çš„æ¨¡å‹å‚æ•°ï¼ŒåŒæ—¶ä¿è¯å¾®è°ƒåçš„æ¨¡å‹è¡¨ç°å¯ä»¥ä¸å…¨é‡å¾®è°ƒç›¸åª²ç¾ã€‚&lt;/p&gt;
&lt;h1 id=&#34;å…­å¤§æ¨¡å‹åº”ç”¨å¼€å‘-å¿…çŸ¥å¿…ä¼š&#34;&gt;å…­ã€å¤§æ¨¡å‹åº”ç”¨å¼€å‘ å¿…çŸ¥å¿…ä¼š
&lt;/h1&gt;&lt;p&gt;é€šå¸¸ï¼Œä¸€ä¸ªå®Œæ•´çš„å¤§æ¨¡å‹åº”ç”¨åŒ…å«ä¸€ä¸ªå®¢æˆ·ç«¯å’Œä¸€ä¸ªæœåŠ¡ç«¯ã€‚&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯æ¥æ”¶åˆ°ç”¨æˆ·è¯·æ±‚åï¼Œå°†è¯·æ±‚è¾“å…¥åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ç»è¿‡è®¡ç®—å¾—åˆ°è¾“å‡ºåï¼Œè¿”å›ç»™å®¢æˆ·ç«¯å›å¤ç”¨æˆ·çš„è¯·æ±‚ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å®¢æˆ·ç«¯&#34;&gt;å®¢æˆ·ç«¯
&lt;/h2&gt;&lt;p&gt;åœ¨å¤§æ¨¡å‹åº”ç”¨ä¸­ï¼Œå®¢æˆ·ç«¯éœ€è¦æ¥å—ç”¨æˆ·è¯·æ±‚ï¼Œå¹¶ä¸”èƒ½å°†å›å¤è¿”å›ç»™ç”¨æˆ·ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰ï¼Œå®¢æˆ·ç«¯é€šå¸¸ä½¿ç”¨ &lt;a class=&#34;link&#34; href=&#34;https://www.gradio.app/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Gradio&lt;/a&gt; å’Œ &lt;a class=&#34;link&#34; href=&#34;https://streamlit.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Streamlit&lt;/a&gt; è¿›è¡Œå¼€å‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;http://localhost:1313/post/before/image-20240811171855196.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;image-20240811171855196&#34;
	
	
&gt;&lt;/p&gt;
&lt;h3 id=&#34;gradiohttpswwwgradioapp-åŸºæœ¬æ¦‚å¿µ&#34;&gt;&lt;strong&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.gradio.app/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Gradio&lt;/a&gt;&lt;/strong&gt; &lt;strong&gt;åŸºæœ¬æ¦‚å¿µ&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://datawhaler.feishu.cn/sync/C8BfdAPevsOWctbpowocZYOGnmb&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://datawhaler.feishu.cn/sync/C8BfdAPevsOWctbpowocZYOGnmb&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;streamlithttpsstreamlitio-åŸºç¡€æ¦‚å¿µ&#34;&gt;&lt;strong&gt;&lt;a class=&#34;link&#34; href=&#34;https://streamlit.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Streamlit&lt;/a&gt;&lt;/strong&gt; &lt;strong&gt;åŸºç¡€æ¦‚å¿µ&lt;/strong&gt;
&lt;/h3&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://datawhaler.feishu.cn/sync/AylRdptJis6baEbW2f9cW17snVh&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://datawhaler.feishu.cn/sync/AylRdptJis6baEbW2f9cW17snVh&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;æœåŠ¡ç«¯&#34;&gt;æœåŠ¡ç«¯
&lt;/h2&gt;&lt;p&gt;åœ¨å¤§æ¨¡å‹åº”ç”¨ä¸­ï¼ŒæœåŠ¡ç«¯éœ€è¦ä¸å¤§æ¨¡å‹è¿›è¡Œäº¤äº’ï¼Œå¤§æ¨¡å‹æ¥å—åˆ°ç”¨æˆ·è¯·æ±‚åï¼Œç»è¿‡å¤æ‚çš„è®¡ç®—ï¼Œå¾—åˆ°æ¨¡å‹è¾“å‡ºã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰ï¼ŒæœåŠ¡ç«¯ä¸»è¦æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;h3 id=&#34;ç›´æ¥è°ƒç”¨å¤§æ¨¡å‹api&#34;&gt;ç›´æ¥è°ƒç”¨å¤§æ¨¡å‹API
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç›´æ¥è°ƒç”¨å¤§æ¨¡å‹APIï¼šå°†è¯·æ±‚ç›´æ¥å‘é€ç»™ç›¸åº”çš„æœåŠ¡å•†ï¼Œå¦‚openaiï¼Œè®¯é£æ˜Ÿç«ç­‰ï¼Œç­‰å¾…APIè¿”å›å¤§æ¨¡å‹å›å¤&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;âœ”ï¸ ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ä¾¿æ·æ€§&lt;/strong&gt;ï¼š ä¸éœ€è¦å…³å¿ƒæ¨¡å‹çš„ç»´æŠ¤å’Œæ›´æ–°ï¼ŒæœåŠ¡å•†é€šå¸¸ä¼šè´Ÿè´£è¿™äº›å·¥ä½œã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èµ„æºæ•ˆç‡&lt;/strong&gt;ï¼š é¿å…äº†æœ¬åœ°ç¡¬ä»¶æŠ•èµ„å’Œç»´æŠ¤æˆæœ¬ï¼ŒæŒ‰éœ€ä»˜è´¹ï¼Œçµæ´»è°ƒæ•´æˆæœ¬æ”¯å‡ºã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç¨³å®šæ€§ä¸å®‰å…¨æ€§&lt;/strong&gt;ï¼š ä¸“ä¸šå›¢é˜Ÿç®¡ç†ï¼Œå¯èƒ½æä¾›æ›´å¥½çš„ç³»ç»Ÿç¨³å®šæ€§å’Œæ•°æ®å®‰å…¨æ€§æªæ–½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰©å±•æ€§&lt;/strong&gt;ï¼š APIæœåŠ¡æ˜“äºé›†æˆåˆ°ç°æœ‰çš„åº”ç”¨å’ŒæœåŠ¡ä¸­ï¼Œæ”¯æŒé«˜å¹¶å‘è¯·æ±‚ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;âœ–ï¸ ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç½‘ç»œå»¶è¿Ÿ&lt;/strong&gt;ï¼š éœ€è¦ç¨³å®šçš„ç½‘ç»œè¿æ¥ï¼Œå¯èƒ½ä¼šå—åˆ°ç½‘ç»œå»¶è¿Ÿçš„å½±å“ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®éšç§&lt;/strong&gt;ï¼š æ•°æ®éœ€è¦ä¼ è¾“åˆ°æœåŠ¡å•†çš„æœåŠ¡å™¨ï¼Œå¯èƒ½æ¶‰åŠæ•°æ®å®‰å…¨å’Œéšç§é—®é¢˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æˆæœ¬æ§åˆ¶&lt;/strong&gt;ï¼š é«˜é¢‘æ¬¡æˆ–å¤§é‡æ•°æ®çš„è°ƒç”¨å¯èƒ½ä¼šå¯¼è‡´è¾ƒé«˜çš„è´¹ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¾èµ–æ€§&lt;/strong&gt;ï¼š å—åˆ¶äºæœåŠ¡å•†çš„æ”¿ç­–å˜åŒ–ï¼Œå¦‚ä»·æ ¼è°ƒæ•´ã€æœåŠ¡æ¡æ¬¾å˜æ›´ç­‰ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½²&#34;&gt;**å¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½²
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¤§æ¨¡å‹æœ¬åœ°éƒ¨ç½²&lt;/strong&gt;**ï¼šåœ¨æœ¬åœ°GPUæˆ–è€…CPUä¸Šï¼Œä¸‹è½½æ¨¡å‹æ–‡ä»¶ï¼Œå¹¶åŸºäºæ¨ç†æ¡†æ¶è¿›è¡Œéƒ¨ç½²å¤§æ¨¡å‹**&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;âœ”ï¸ ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ•°æ®ä¸»æƒ&lt;/strong&gt;ï¼š æ•°æ®å®Œå…¨åœ¨æœ¬åœ°å¤„ç†ï¼Œå¯¹äºæ•æ„Ÿæ•°æ®å¤„ç†æ›´ä¸ºå®‰å…¨ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ€§èƒ½å¯æ§&lt;/strong&gt;ï¼š å¯ä»¥æ ¹æ®éœ€æ±‚ä¼˜åŒ–é…ç½®ï¼Œå‡å°‘ç½‘ç»œå»¶è¿Ÿï¼Œæé«˜å“åº”é€Ÿåº¦ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æˆæœ¬å›ºå®š&lt;/strong&gt;ï¼š åˆå§‹æŠ•å…¥åï¼Œé•¿æœŸè¿è¡Œæˆæœ¬ç›¸å¯¹å›ºå®šï¼Œé¿å…äº†æŒ‰ä½¿ç”¨é‡ä»˜è´¹çš„ä¸ç¡®å®šæ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å®šåˆ¶åŒ–&lt;/strong&gt;ï¼š æ›´å®¹æ˜“é’ˆå¯¹ç‰¹å®šéœ€æ±‚è¿›è¡Œæ¨¡å‹å¾®è°ƒæˆ–æ‰©å±•ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;âœ–ï¸ ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ç¡¬ä»¶æŠ•èµ„&lt;/strong&gt;ï¼š éœ€è¦å¼ºå¤§çš„è®¡ç®—èµ„æºï¼Œå¦‚é«˜æ€§èƒ½GPUï¼ŒåˆæœŸæŠ•èµ„æˆæœ¬è¾ƒé«˜ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;è¿ç»´å¤æ‚&lt;/strong&gt;ï¼š éœ€è¦è‡ªè¡Œç®¡ç†æ¨¡å‹çš„æ›´æ–°ã€ç»´æŠ¤å’Œæ•…éšœæ’æŸ¥ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æŠ€æœ¯é—¨æ§›&lt;/strong&gt;ï¼š å¯¹äºéä¸“ä¸šå›¢é˜Ÿè€Œè¨€ï¼Œæ¨¡å‹çš„éƒ¨ç½²å’Œä¼˜åŒ–å¯èƒ½è¾ƒä¸ºå¤æ‚ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èµ„æºåˆ©ç”¨ç‡&lt;/strong&gt;ï¼š åœ¨ä½è´Ÿè½½æƒ…å†µä¸‹ï¼Œæœ¬åœ°ç¡¬ä»¶èµ„æºå¯èƒ½æ— æ³•å……åˆ†åˆ©ç”¨ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç»¼ä¸Šï¼Œé€‰æ‹©å“ªç§æ–¹å¼å–å†³äºå…·ä½“çš„åº”ç”¨åœºæ™¯ã€æ•°æ®æ•æ„Ÿæ€§ã€é¢„ç®—ä»¥åŠå¯¹å»¶è¿Ÿå’Œæ€§èƒ½çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ¥ç²¾è¯»ä¸€ä¸‹baseline&#34;&gt;&lt;strong&gt;æ¥ç²¾è¯»ä¸€ä¸‹baseline&lt;/strong&gt;
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
&lt;h3 id=&#34;å®Œæ•´baselineä»£ç &#34;&gt;å®Œæ•´baselineä»£ç 
&lt;/h3&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-Python&#34; data-lang=&#34;Python&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å¯¼å…¥æ‰€éœ€çš„åº“&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; transformers &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; AutoTokenizer, AutoModelForCausalLM
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; torch
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; streamlit &lt;span style=&#34;color:#66d9ef&#34;&gt;as&lt;/span&gt; st
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆ›å»ºä¸€ä¸ªæ ‡é¢˜å’Œä¸€ä¸ªå‰¯æ ‡é¢˜&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;st&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;title(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;ğŸ’¬ Yuan2.0 æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æºå¤§æ¨¡å‹ä¸‹è½½&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;from&lt;/span&gt; modelscope &lt;span style=&#34;color:#f92672&#34;&gt;import&lt;/span&gt; snapshot_download
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;model_dir &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; snapshot_download(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;IEITYuan/Yuan2-2B-Mars-hf&amp;#39;&lt;/span&gt;, cache_dir&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;./&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# model_dir = snapshot_download(&amp;#39;IEITYuan/Yuan2-2B-July-hf&amp;#39;, cache_dir=&amp;#39;./&amp;#39;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å®šä¹‰æ¨¡å‹è·¯å¾„&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;path &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;./IEITYuan/Yuan2-2B-Mars-hf&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# path = &amp;#39;./IEITYuan/Yuan2-2B-July-hf&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å®šä¹‰æ¨¡å‹æ•°æ®ç±»å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;torch_dtype &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; torch&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;bfloat16 &lt;span style=&#34;color:#75715e&#34;&gt;# A10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# torch_dtype = torch.float16 # P100&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè·å–æ¨¡å‹å’Œtokenizer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#a6e22e&#34;&gt;@st.cache_resource&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;def&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;get_model&lt;/span&gt;():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Creat tokenizer...&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    tokenizer &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; AutoTokenizer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;from_pretrained(path, add_eos_token&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;False&lt;/span&gt;, add_bos_token&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;False&lt;/span&gt;, eos_token&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;eod&amp;gt;&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    tokenizer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;add_tokens([&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;sep&amp;gt;&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;pad&amp;gt;&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;mask&amp;gt;&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;predict&amp;gt;&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;FIM_SUFFIX&amp;gt;&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;FIM_PREFIX&amp;gt;&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;FIM_MIDDLE&amp;gt;&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;commit_before&amp;gt;&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;commit_msg&amp;gt;&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;commit_after&amp;gt;&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;jupyter_start&amp;gt;&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;jupyter_text&amp;gt;&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;jupyter_code&amp;gt;&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;jupyter_output&amp;gt;&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;lt;empty_output&amp;gt;&amp;#39;&lt;/span&gt;], special_tokens&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Creat model...&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    model &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; AutoModelForCausalLM&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;from_pretrained(path, torch_dtype&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;torch_dtype, trust_remote_code&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;True&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;cuda()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    print(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Done.&amp;#34;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; tokenizer, model
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åŠ è½½modelå’Œtokenizer&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tokenizer, model &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; get_model()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# åˆæ¬¡è¿è¡Œæ—¶ï¼Œsession_stateä¸­æ²¡æœ‰&amp;#34;messages&amp;#34;ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªç©ºåˆ—è¡¨&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;messages&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;not&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; st&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;session_state:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    st&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;session_state[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;messages&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; []
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# æ¯æ¬¡å¯¹è¯æ—¶ï¼Œéƒ½éœ€è¦éå†session_stateä¸­çš„æ‰€æœ‰æ¶ˆæ¯ï¼Œå¹¶æ˜¾ç¤ºåœ¨èŠå¤©ç•Œé¢ä¸Š&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; msg &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; st&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;session_state&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;messages:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    st&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;chat_message(msg[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;])&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;write(msg[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;# å¦‚æœç”¨æˆ·åœ¨èŠå¤©è¾“å…¥æ¡†ä¸­è¾“å…¥äº†å†…å®¹ï¼Œåˆ™æ‰§è¡Œä»¥ä¸‹æ“ä½œ&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; prompt &lt;span style=&#34;color:#f92672&#34;&gt;:=&lt;/span&gt; st&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;chat_input():
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# å°†ç”¨æˆ·çš„è¾“å…¥æ·»åŠ åˆ°session_stateä¸­çš„messagesåˆ—è¡¨ä¸­&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    st&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;session_state&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;messages&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append({&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;: prompt})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# åœ¨èŠå¤©ç•Œé¢ä¸Šæ˜¾ç¤ºç”¨æˆ·çš„è¾“å…¥&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    st&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;chat_message(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;write(prompt)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# è°ƒç”¨æ¨¡å‹&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    prompt &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;n&amp;gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;join(msg[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;] &lt;span style=&#34;color:#66d9ef&#34;&gt;for&lt;/span&gt; msg &lt;span style=&#34;color:#f92672&#34;&gt;in&lt;/span&gt; st&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;session_state&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;messages) &lt;span style=&#34;color:#f92672&#34;&gt;+&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;sep&amp;gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;# æ‹¼æ¥å¯¹è¯å†å²&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    inputs &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tokenizer(prompt, return_tensors&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;pt&amp;#34;&lt;/span&gt;)[&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;input_ids&amp;#34;&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;cuda()
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    outputs &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; model&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;generate(inputs, do_sample&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;False&lt;/span&gt;, max_length&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;) &lt;span style=&#34;color:#75715e&#34;&gt;# è®¾ç½®è§£ç æ–¹å¼å’Œæœ€å¤§ç”Ÿæˆé•¿åº¦&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    output &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; tokenizer&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;decode(outputs[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;])
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    response &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; output&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;split(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;sep&amp;gt;&amp;#34;&lt;/span&gt;)[&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;replace(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&amp;lt;eod&amp;gt;&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# å°†æ¨¡å‹çš„è¾“å‡ºæ·»åŠ åˆ°session_stateä¸­çš„messagesåˆ—è¡¨ä¸­&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    st&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;session_state&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;messages&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;append({&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;assistant&amp;#34;&lt;/span&gt;, &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;: response})
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;# åœ¨èŠå¤©ç•Œé¢ä¸Šæ˜¾ç¤ºæ¨¡å‹çš„è¾“å‡º&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    st&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;chat_message(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;assistant&amp;#34;&lt;/span&gt;)&lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt;write(response)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol&gt;
&lt;li&gt;
&lt;h3 id=&#34;baselineæ–¹æ¡ˆè®¾è®¡&#34;&gt;baselineæ–¹æ¡ˆè®¾è®¡
&lt;/h3&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&#34;21-æ¦‚è¦è®¾è®¡&#34;&gt;2.1 æ¦‚è¦è®¾è®¡
&lt;/h4&gt;&lt;p&gt;baselineåŸºäºæºå¤§æ¨¡å‹çš„ç¼–ç¨‹èƒ½åŠ›æ¥è§£å†³ç”¨æˆ·çš„é—®é¢˜ï¼Œä¸»è¦åŒ…å«ä¸€ä¸ªStreamlitå¼€å‘çš„å®¢æˆ·ç«¯ï¼Œä»¥åŠä¸€ä¸ªéƒ¨ç½²å¥½æµªæ½®æºå¤§æ¨¡å‹çš„æœåŠ¡ç«¯ã€‚å®¢æˆ·ç«¯æ¥æ”¶åˆ°ç”¨æˆ·è¯·æ±‚åï¼Œé¦–å…ˆè¿›è¡Œäº¤äº’å†å²æ‹¼æ¥ï¼Œç„¶åè¾“å…¥åˆ°æœåŠ¡ç«¯çš„æµªæ½®æºå¤§æ¨¡å‹ï¼Œå¾—åˆ°æ¨¡å‹è¾“å‡ºç»“æœåï¼Œè¿”å›ç»™å®¢æˆ·ç«¯ï¼Œç”¨äºå›å¤ç”¨æˆ·çš„é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æš‚æ—¶æ— æ³•åœ¨é£ä¹¦æ–‡æ¡£å¤–å±•ç¤ºæ­¤å†…å®¹&lt;/p&gt;
&lt;h4 id=&#34;22-è¯¦ç»†è®¾è®¡&#34;&gt;2.2 è¯¦ç»†è®¾è®¡
&lt;/h4&gt;&lt;p&gt;æš‚æ—¶æ— æ³•åœ¨é£ä¹¦æ–‡æ¡£å¤–å±•ç¤ºæ­¤å†…å®¹&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å¯¼å…¥åº“ï¼š&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;å¯¼å…¥æ‰€éœ€è¦çš„ä¾èµ–ï¼ŒåŒ…æ‹¬ &lt;code&gt;transformers&lt;/code&gt;ï¼Œ&lt;code&gt;torch&lt;/code&gt; å’Œ &lt;code&gt;streamlit&lt;/code&gt;ã€‚å…¶ä¸­&lt;code&gt;torch&lt;/code&gt; é­”æ­æœ¬èº«å·²ç»å®‰è£…ï¼Œ&lt;code&gt;transformers&lt;/code&gt; å’Œ &lt;code&gt;streamlit&lt;/code&gt;åœ¨ç¬¬äºŒæ­¥ä¹Ÿå®‰è£…å®Œæ¯•ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ¨¡å‹ä¸‹è½½ï¼š&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Yuan2-2B-Marsæ”¯æŒé€šè¿‡å¤šä¸ªå¹³å°è¿›è¡Œä¸‹è½½ï¼ŒåŒ…æ‹¬é­”æ­ã€HuggingFaceã€OpenXlabã€ç™¾åº¦ç½‘ç›˜ã€WiseModelç­‰ã€‚å› ä¸ºæˆ‘ä»¬çš„æœºå™¨å°±åœ¨é­”æ­ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ç›´æ¥é€‰æ‹©é€šè¿‡é­”æ­è¿›è¡Œä¸‹è½½ã€‚æ¨¡å‹åœ¨é­”æ­å¹³å°çš„åœ°å€ä¸º &lt;a class=&#34;link&#34; href=&#34;https://modelscope.cn/models/IEITYuan/Yuan2-2B-Mars-hf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;IEITYuan/Yuan2-2B-Mars-hf&lt;/a&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æ¨¡å‹ä¸‹è½½ä½¿ç”¨çš„æ˜¯ modelscope ä¸­çš„ snapshot_download å‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸ºæ¨¡å‹åç§° &lt;code&gt;IEITYuan/Yuan2-2B-Mars-hf&lt;/code&gt;ï¼Œç¬¬äºŒä¸ªå‚æ•° &lt;code&gt;cache_dir&lt;/code&gt; ä¸ºæ¨¡å‹ä¿å­˜è·¯å¾„ï¼Œè¿™é‡Œ&lt;code&gt;.&lt;/code&gt;è¡¨ç¤ºå½“å‰è·¯å¾„ã€‚&lt;/p&gt;
&lt;p&gt;æ¨¡å‹å¤§å°çº¦ä¸º4.1Gï¼Œç”±äºæ˜¯ä»é­”æ­ç›´æ¥è¿›è¡Œä¸‹è½½ï¼Œé€Ÿåº¦ä¼šéå¸¸å¿«ã€‚ä¸‹è½½å®Œæˆåï¼Œä¼šåœ¨å½“å‰ç›®å½•å¢åŠ ä¸€ä¸ªåä¸º &lt;code&gt;IEITYuan&lt;/code&gt; çš„æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­ &lt;code&gt;Yuan2-2B-Mars-hf&lt;/code&gt; é‡Œé¢ä¿å­˜ç€æˆ‘ä»¬ä¸‹è½½å¥½çš„æºå¤§æ¨¡å‹ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ¨¡å‹åŠ è½½ï¼š&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;transformers&lt;/code&gt; ä¸­çš„ &lt;code&gt;from_pretrained&lt;/code&gt; å‡½æ•°æ¥åŠ è½½ä¸‹è½½å¥½çš„æ¨¡å‹å’Œtokenizerï¼Œå¹¶é€šè¿‡ &lt;code&gt;.cuda()&lt;/code&gt; å°†æ¨¡å‹æ”¾ç½®åœ¨GPUä¸Šã€‚å¦å¤–ï¼Œè¿™é‡Œé¢å¤–ä½¿ç”¨äº† &lt;code&gt;streamlit&lt;/code&gt; æä¾›çš„ä¸€ä¸ªè£…é¥°å™¨ &lt;code&gt;@st.cache_resource&lt;/code&gt; ï¼Œå®ƒå¯ä»¥ç”¨äºç¼“å­˜åŠ è½½å¥½çš„æ¨¡å‹å’Œtokenizerã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;è¯»å–ç”¨æˆ·è¾“å…¥ï¼š&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½¿ç”¨ &lt;code&gt;streamlit&lt;/code&gt; æä¾›çš„ &lt;code&gt;chat_input()&lt;/code&gt; æ¥è·å–ç”¨æˆ·è¾“å…¥ï¼ŒåŒæ—¶å°†å…¶ä¿å­˜åˆ°å¯¹è¯å†å²é‡Œï¼Œå¹¶é€šè¿‡&lt;code&gt;st.chat_message(&amp;quot;user&amp;quot;).write(prompt)&lt;/code&gt; åœ¨èŠå¤©ç•Œé¢ä¸Šè¿›è¡Œæ˜¾ç¤ºã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;å¯¹è¯å†å²æ‹¼æ¥ï¼š&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¯¹äº &lt;code&gt;Yuan2-2B-Mars&lt;/code&gt; æ¨¡å‹æ¥è¯´ï¼Œè¾“å…¥éœ€è¦åœ¨æœ«å°¾æ·»åŠ  &lt;code&gt;ï¼Œæ¨¡å‹è¾“å‡ºåˆ° &lt;/code&gt; ç»“æŸã€‚å¦‚æœè¾“å…¥æ˜¯å¤šè½®å¯¹è¯å†å²ï¼Œéœ€è¦ä½¿ç”¨ &lt;code&gt;è¿›è¡Œæ‹¼æ¥ï¼Œå¹¶ä¸”åœ¨æœ«å°¾æ·»åŠ &lt;/code&gt;ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ¨¡å‹è°ƒç”¨ï¼š&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è¾“å…¥çš„promptéœ€è¦å…ˆç»tokenizeråˆ‡åˆ†æˆtokenï¼Œå¹¶è½¬æˆå¯¹åº”çš„idï¼Œå¹¶é€šè¿‡ &lt;code&gt;.cuda()&lt;/code&gt; å°†è¾“å…¥ä¹Ÿæ”¾ç½®åœ¨GPUä¸Šã€‚ç„¶åè°ƒç”¨ &lt;code&gt;model.generate()&lt;/code&gt; ç”Ÿæˆè¾“å‡ºçš„idï¼Œå¹¶é€šè¿‡ &lt;code&gt;tokenizer.decode()&lt;/code&gt; å°†idè½¬æˆå¯¹åº”çš„å­—ç¬¦ä¸²ã€‚æœ€åä»å­—ç¬¦ä¸²ä¸­æå–æ¨¡å‹ç”Ÿæˆçš„å†…å®¹ï¼ˆå³ &lt;code&gt;ä¹‹åçš„å­—ç¬¦ä¸²ï¼‰ï¼Œå¹¶åˆ é™¤æœ«å°¾çš„&lt;/code&gt; ï¼Œå¾—åˆ°æœ€ç»ˆçš„å›å¤å†…å®¹ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;æ˜¾ç¤ºæ¨¡å‹è¾“å‡ºï¼š&lt;/strong&gt;
&lt;ol&gt;
&lt;li&gt;å¾—åˆ°å›å¤å†…å®¹åï¼Œå°†å…¶ä¿å­˜åˆ°å¯¹è¯å†å²é‡Œï¼Œå¹¶é€šè¿‡&lt;code&gt;st.chat_message(&amp;quot;assistant&amp;quot;).write(response)&lt;/code&gt; åœ¨èŠå¤©ç•Œé¢ä¸Šè¿›è¡Œæ˜¾ç¤ºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å°è¯•æ›¿æ¢å…¶ä»–yuanå¤§æ¨¡å‹&#34;&gt;&lt;strong&gt;å°è¯•æ›¿æ¢å…¶ä»–Yuanå¤§****æ¨¡å‹&lt;/strong&gt;ï¼
&lt;/h2&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://datawhaler.feishu.cn/sync/UG0ydiJi9sSFkub60HmcuQTJn9f&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://datawhaler.feishu.cn/sync/UG0ydiJi9sSFkub60HmcuQTJn9f&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
